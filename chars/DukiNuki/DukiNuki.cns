; Duke's constants and state file.
; There are comments scattered through this file, so you may like to
; take a look if would like to learn more about the cns.

[Data]
;Amount of life to start with
life = 1520 ;Atomic Health. If 1520 is too much for you, then you could set it to the standard 1000.
;attack power (more is stronger)
attack = 100
;defensive power (more is stronger)
defence = 100
;Percentage to increase defense everytime player is knocked down
fall.defence_up = 50
;Time which player lies down for, before getting up
liedown.time = 60
;Number of points for juggling
airjuggle = 15
;Default hit spark number for HitDefs
sparkno = 2
;Default guard spark number
guard.sparkno = 40
;1 to enable echo on KO
KO.echo = 0
;Volume offset (negative for softer)
volumescale = 140
;Variables with this index and above will not have their values
;reset to 0 between rounds or matches. There are 60 int variables,
;indexed from 0 to 59, and 40 float variables, indexed from 0 to 39.
;If omitted, then it defaults to 60 and 40 for integer and float
;variables repectively, meaning that none are persistent, i.e. all
;are reset. If you want your variables to persist between matches,
;you need to override state 5900 from common1.cns.
IntPersistIndex = 60
FloatPersistIndex = 0

[Size]
xscale = 1.25           ;Horizontal scaling factor.
yscale = 1.25           ;Vertical scaling factor.
ground.back = 15     ;Player width (back, ground)
ground.front = 16    ;Player width (front, ground)
air.back = 12        ;Player width (back, air)
air.front = 12       ;Player width (front, air)
height = 60          ;Height of player (for opponent to jump over)
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too
head.pos = -5, -90   ;Approximate position of head
mid.pos = -5, -60    ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y). Recommended 0,0

[Velocity]
walk.fwd  = 1.9      ;Walk forward
walk.back = -1.3     ;Walk backward
run.fwd  = 5.6, 0    ;Run forward (x, y)
run.back = -4.1,-4 ;Hop backward (x, y)
jump.neu = 0,-9.8    ;Neutral jumping velocity (x, y)
jump.back = -2.55    ;Jump back Speed (x, y)
jump.fwd = 2.5       ;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1 ;Running jump speeds (opt)
runjump.fwd = 4,-8.1      ;.
airjump.neu = 0,-8.1      ;.
airjump.back = -2.55      ;Air jump speeds (opt)
airjump.fwd = 2.5         ;.
air.gethit.groundrecover = -4.15,-3.5  ;Velocity for ground recovery state (x, y) **MUGEN 1.0**
air.gethit.airrecover.mul = .5,.2     ;Multiplier for air recovery velocity (x, y) **MUGEN 1.0**
air.gethit.airrecover.add = 0,-3.5    ;Velocity offset for air recovery (x, y) **MUGEN 1.0**
air.gethit.airrecover.back = -5       ;Extra x-velocity for holding back during air recovery **MUGEN 1.0**
air.gethit.airrecover.fwd = 5         ;Extra x-velocity for holding forward during air recovery **MUGEN 1.0**
air.gethit.airrecover.up = -2         ;Extra y-velocity for holding up during air recovery **MUGEN 1.0**
air.gethit.airrecover.down = 9.5      ;Extra y-velocity for holding down during air recovery **MUGEN 1.0**

[Movement]
airjump.num = 0       ;Number of air jumps allowed (opt)
airjump.height = 35   ;Minimum distance from ground before you can air jump (opt)
yaccel = .44          ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching
stand.friction.threshold = 2          ;If player's speed drops below this threshold while standing, stop his movement **MUGEN 1.0**
crouch.friction.threshold = .05       ;If player's speed drops below this threshold while crouching, stop his movement **MUGEN 1.0**
air.gethit.groundlevel = 25           ;Y-position at which a falling player is considered to hit the ground **MUGEN 1.0**
air.gethit.groundrecover.ground.threshold = -20 ;Y-position below which falling player can use the recovery command **MUGEN 1.0**
air.gethit.groundrecover.groundlevel = 10   ;Y-position at which player in the ground recovery state touches the ground **MUGEN 1.0**
air.gethit.airrecover.threshold = -1  ;Y-velocity above which player may use the air recovery command **MUGEN 1.0**
air.gethit.airrecover.yaccel = .35    ;Vertical acceleration for player in the air recovery state **MUGEN 1.0**
air.gethit.trip.groundlevel = 15      ;Y-position at which player in the tripped state touches the ground **MUGEN 1.0**
down.bounce.offset = 0, 20            ;Offset for player bouncing off the ground (x, y) **MUGEN 1.0**
down.bounce.yaccel = .4               ;Vertical acceleration for player bouncing off the ground **MUGEN 1.0**
down.bounce.groundlevel = 12          ;Y-position at which player bouncing off the ground touches the ground again **MUGEN 1.0**
down.friction.threshold = .05         ;If the player's speed drops below this threshold while lying down, stop his movement **MUGEN 1.0**

;Default language victory quotes (optional).  **MUGEN 1.0**
;If this section is included, the default language victory quotes must be in English.
[Quotes]
; Up to 100 victory quotes can be specified per language (victory0 - victory99)
victory1 = "Blow it out your ass."
victory2 = "I've got balls of steel."
victory3 = "Your face, your ass... What's the difference?"
victory4 = "I oughta break a broom handle in your ass!"
victory5 = "Suck it down."
victory6 = "Hail to the king, baby!"
victory7 = "Eat shit and die."

;---------------------------------------------------------------------------
; Variable usage:
; This is a record of the variables that Duke uses. Keeping a record of your
; variable usage helps you avoid careless mistakes later.
; var(1)  - Plasma Gun Charge
; 
; var(4)  - Babe killed
; var(5) - Pistol Ammo


; fvar(10) - Special Weapon
; 0 - Nothing
; 1 - Chaingun Cannon
; 2 - Throwing Knife
; 3 - Pipebomb
; 13 - Pipebomb Detonator
; 4 - Laser Tripmine
; 5 - Freezethrower
; 6 - Flamethrower
; 7 - RPG
; 8 - Shrink Ray

;fvar(11) - Special Weapon Ammo Count
; 0 - When fvar(10) is at 0, Duke automatically looks for a new weapon (but fails if he's in the air)

; fvar(12) - Items
; 0 - Nothing
; 1 - Health Pack
; 2 - Access Card
; 3 - Steroids
; 4 - Holoduke
;fvar(13) - Items left

;fvar(14) - Steroids Activated
;fvar(15) - Steroids Duration
;fvar(16) - How many times the Alien bastards shot down his ride

;fvar(17) - Special Opponent (For Winpose)
 ; 1 - Joel
 ; 2 - Doomguy
 ; 3 - Terminator/T800
 ; 4 - Duke Nukem
 ; 5 - Carl Johnson

;fvar(18) - Throw miss counter
;var(19) - Yeah! Piece of Cake!

;fvar(20) - (fvar(20))
;fvar(21) - (fvar(21))
;fvar(22) - (fvar(20))/height measured

;var(22) - Knife rotation
;var(23) - Pipebomb rotation

;var(59) - AI

;---------------------------------------------------------------------------
; Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0

;Training mode detector
[State 0, Helper]
type = Helper
trigger1 = prevstateno = 191 || prevstateno = 192 || prevstateno = 193 || prevstateno = 194
trigger1 = time = 0
trigger1 = !numhelper(50783)
trigger1 = !numexplod(50783)
trigger1 = numenemy < 2 && !numpartner
trigger1 = roundno = 1 && matchno = 1
trigger1 = life = lifemax
helpertype = normal ;player
name = "Training Mode (Intro skipped)"
ID = 50783
stateno = 50783
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 0, Explod]
type = Explod
triggerall = teamside = 1
triggerall = numexplod(6120) = 0
triggerall = time = 0
triggerall = fvar(12) != 0
triggerall = fvar(13) = 2
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6120+floor(fvar(12))
ID = 6120
pos = 75,(fvar(21)) - 47
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = teamside = 1
triggerall = numexplod(6120) = 0
triggerall = time = 0
triggerall = fvar(12) != 0
triggerall = fvar(13) = 2
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6120+floor(fvar(12))
ID = 6120
pos = 155,(fvar(21)) - 47
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = teamside = 2
triggerall = numexplod(6120) = 0
triggerall = time = 0
triggerall = fvar(12) != 0
triggerall = fvar(13) = 2
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6120+floor(fvar(12))
ID = 6120
pos = -75,(fvar(21)) - 47
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = teamside = 2
triggerall = numexplod(6120) = 0
triggerall = time = 0
triggerall = fvar(12) != 0
triggerall = fvar(13) = 2
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6120+floor(fvar(12))
ID = 6120
pos = -155,(fvar(21)) - 47
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0


[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 0

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < Const(movement.stand.friction.threshold)
trigger2 = Time = 4
x = 0

[State 0, 4] ;Are you dead?
type = ChangeState
trigger1 = !alive
value = 5050
ctrl = 0

[State 0, 5] ;Wait, am I actually on the ground?
type = ChangeState
trigger1 = Pos y < 0
value = 50
ctrl = 1

[State 0, 6] 
type = PosSet
trigger1 = Pos y > 0
y = 0

[State 0, 7]
type = PlaySnd
trigger1 = anim = 0
trigger1 = animelem = 2
value = S1,random%2
volumescale = 180
channel = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = command = "x"
value = 0

[State 0, 8]
type = DestroySelf
trigger1 = ishelper

;---------------------------------------------------------------------------
; Stand (Reset Christmas timer)
[Statedef 1]
type = S
physics = S
sprpriority = 0
anim = 0

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 0

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < Const(movement.stand.friction.threshold)
trigger2 = Time = 4
x = 0

[State 0, 4] ;Are you dead?
type = ChangeState
trigger1 = !alive
value = 5050
ctrl = 0

[State 0, 5] ;Wait, am I actually on the ground?
type = ChangeState
trigger1 = Pos y < 0
value = 50
ctrl = 1

[State 0, 6] 
type = PosSet
trigger1 = Pos y > 0
y = 0

[State 0, 7]
type = DestroySelf
trigger1 = ishelper

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 1
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Walk
[Statedef 20]
type    = S
physics = S
sprpriority = 0

[State 20, 1]
type = VelSet
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)+(ceil(fvar(14)*const(velocity.walk.fwd.x)))

[State 20, 2]
type = VelSet
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)+(ceil(fvar(14)*const(velocity.walk.back.x)))

[State 20, 1]
type = VelSet
trigger1 = var(59)
trigger1 = fvar(14) > 0
x = const(velocity.walk.fwd.x)+(ceil(fvar(14)*const(velocity.walk.fwd.x)))

[State 20, 3]
type = ChangeAnim
triggerall = vel x > 0
trigger1 = Anim != 20 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 20

[State 20, 4]
type = ChangeAnim
triggerall = vel x < 0
trigger1 = Anim != 21 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 21


;---------------------------------------------------------------------------
; Crouching
[Statedef 11]
type    = C
physics = C
anim = 11
sprpriority = 0

[State 11, 1] ;Change from turning animation
type = ChangeAnim
trigger1 = Anim = 6 && AnimTime = 0
value = 11

[State 20, 1]
type = VelSet
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)+(ceil(fvar(14)*const(velocity.walk.fwd.x)))

[State 20, 2]
type = VelSet
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)/2+(ceil(fvar(14)*const(velocity.walk.back.x)/2))

[State 20, 2]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 20, 3]
type = ChangeAnim
triggerall = vel x > 0
trigger1 = Anim != 1120 && Anim != 6
trigger2 = Anim = 6 && AnimTime = 0
value = 1120

[State 20, 4]
type = ChangeAnim
triggerall = vel x < 0
trigger1 = Anim != 1121 && Anim != 6
trigger2 = Anim = 6 && AnimTime = 0
value = 1121

[State 20, 4]
type = ChangeAnim
triggerall = vel x = 0
trigger1 = Anim != 11 && Anim != 6
trigger2 = Anim = 6 && AnimTime = 0
value = 11

[State 11, 2] ;Stop moving if low velocity
type = VelSet
trigger1 = abs(vel x) < Const(movement.crouch.friction.threshold)
x = 0

;---------------------------------------------------------------------------
; Run forward
[Statedef 100]
type    = S
physics = S
anim = 100
sprpriority = 1

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)+(ceil(fvar(14)*const(velocity.run.fwd.x)))

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = ChangeState
trigger1 = command != "holdfwd"
value = 0

;---------------------------------------------------------------------------
; Run forward (AI)
[Statedef 101]
type    = S
physics = S
anim = 100
sprpriority = 1
ctrl = 0

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)+(ceil(fvar(14)*const(velocity.run.fwd.x)))

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 0, ChangeState]
type = ChangeState
trigger1 = p2bodydist x <= 35
trigger1 = p2bodydist x >= 0
trigger1 = p2bodydist y >= -50
value = 230+((random%2)*200)
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = p2bodydist x <= -210
trigger2 = FrontEdgeBodyDist <= 10
value = 210+((random%2)*200)
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 200
trigger2 = fvar(14) <= 0
trigger3 = p2bodydist x <= 35
trigger3 = p2bodydist x >= 0
trigger3 = p2bodydist y <= -50
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Hop backwards
[Statedef 105]
type    = A
physics = A
ctrl = 0
anim = 105
sprpriority = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 6

[State 105, 1]
type = VelSet
trigger1 = Time = 0
x = const(velocity.run.back.x)+(ceil(fvar(14)*const(velocity.run.back.x)/2))
y = const(velocity.run.back.y)

[State 105, 2]
type = CtrlSet
trigger1 = Time = 2
value = 1

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106

;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S11,1+random%10
volumescale = 210
channel = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time <= floor(5.3*tickspersecond) 
flag = roundnotover

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = matchover
trigger1 = fvar(17) != 0
trigger1 = Time = 0
value = 185

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181+random%5

;---------------------------------------------------------------------------
; Win pose 1 - Born to be Wild
; CNS difficulty: basic
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1810
ID = 1810
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 1,1
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = 1
trigger1 = time = 0
anim = 1811
ID = 1811
pos = 125,-105
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.25,0.25
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = -1
trigger1 = time = 0
anim = 1811
ID = 1811
pos = 125,-105
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.25,0.25
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S180,0
volumescale = 200
channel = 0
loop = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time <= floor(3.3*tickspersecond) 
flag = roundnotover

;---------------------------------------------------------------------------
; Win pose 2 - Annoying
; CNS difficulty: basic
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 1820
ID = 1820
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal ;player
name = "Mouse"
ID = 1820
stateno = 1820 
pos = 100,-200
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S210,0
volumescale = 130

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S210,1
volumescale = 130

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 200
ID = 200
pos = 54,-70
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 2.5,2
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 180
value = S210,2
volumescale = 130

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S181,0
volumescale = 200
channel = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time <= 380
flag = roundnotover

;---------------------------------------------------------------------------
; Win pose 2 - Annoying
; CNS difficulty: basic
[Statedef 1820]
type = S
movetype = I
physics  = N
ctrl = 0
anim = 1821
velset = 0,3
sprpriority = 2

[State 0, VelAdd]
type = VelAdd
trigger1 = pos y < 0
y = 0.47

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= -15
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= -15
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 45, 1
value = S181,1+random%4
volumescale = 130

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 120
value = 1821
ctrl = 0

;---------------------------------------------------------------------------
; Ouch.
; CNS difficulty: basic
[Statedef 1821]
type     = S
movetype = I
physics  = N
ctrl = 0
anim = 9999
velset = 0,0
sprpriority = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S181,7

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1822+random%3
ID = 1822
pos = 0,-60
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -2+random%5,-6-random%3
accel = 0,0.47
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.5,1.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1822+random%3
ID = 1822
pos = 0,-60
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -2+random%5,-6-random%3
accel = 0,0.47
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.5,1.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1822+random%3
ID = 1822
pos = 0,-60
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -2+random%5,-6-random%3
accel = 0,0.47
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.5,1.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1822+random%3
ID = 1822
pos = 0,-60
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -2+random%5,-6-random%3
accel = 0,0.47
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.5,1.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1822+random%3
ID = 1822
pos = 0,-60
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -2+random%5,-6-random%3
accel = 0,0.47
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.5,1.5
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1825+random%2
ID = 1825
pos = 0,-60
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -1+random%3,-7-random%4
accel = 0,0.47
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.5,1.5
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1825+random%2
ID = 1825
pos = 0,-60
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -1+random%3,-7-random%4
accel = 0,0.47
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.5,1.5
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1825+random%2
ID = 1825
pos = 0,-60
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -1+random%3,-7-random%4
accel = 0,0.47
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.5,1.5
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0


;---------------------------------------------------------------------------
; Win pose 3 - This is KTIT...
; CNS difficulty: basic
[Statedef 183]
type = S
ctrl = 0
anim = 183
velset = 0,0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1830
ID = 1830
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 1,1
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1831
ID = 1831
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 1,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S183,0
volumescale = 200
channel = 0
loop = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time <= floor(6.4*tickspersecond) 
flag = roundnotover

;---------------------------------------------------------------------------
; Win pose 4 - Duke-Burger
; CNS difficulty: basic
[Statedef 184]
type = S
ctrl = 0
anim = 184
velset = 0,0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0, Explod]
type = Explod
trigger1 = facing = 1
trigger1 = time = 0
anim = 1840
ID = 1840
pos = 40,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = -3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = -1
trigger1 = time = 0
anim = 1841
ID = 1841
pos = 40,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = -3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S184,0
volumescale = 200

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = floor(2.6*tickspersecond) 
value = S195,random%4
volumescale = 200
channel = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time <= floor(5.9*tickspersecond) 
flag = roundnotover

;---------------------------------------------------------------------------
; Win pose 5 - Jetpack
; CNS difficulty: basic
[Statedef 185]
type = S
physics = N
ctrl = 0
anim = 185
velset = 0,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = time >= 46
value = 0
movecamera = 0,0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S185,random%16
volumescale = 180
channel = 0

[State 0, PlaySnd]
type = PlaySnd
triggerall = time = 0
trigger1 = fvar(17) = 5
value = S185,11
volumescale = 180
channel = 0

[State 0, PlaySnd]
type = PlaySnd
triggerall = time = 0
trigger1 = fvar(17) = 3
value = S1850,2+random%2
volumescale = 180
channel = 0

[State 0, PlaySnd]
type = PlaySnd
triggerall = time = 0
trigger1 = fvar(17) = 2
value = S1850,1
volumescale = 180
channel = 0

[State 0, PlaySnd]
type = PlaySnd
triggerall = time = 0
trigger1 = fvar(17) = 4
value = S1850,4
volumescale = 180
channel = 0

[State 0, PlaySnd]
type = PlaySnd
triggerall = time = 0
trigger1 = fvar(17) = 1
value = S1850,0
volumescale = 180
channel = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
y = -5.8

[State 0, VelSet]
type = VelAdd
trigger1 = time >= 16
trigger1 = time <= 46
y = 0.27

[State 0, VelSet]
type = VelAdd
trigger1 = time >= 46
x = 0.28
y = -0.47

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S950,3

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 1850
ID = 1850
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time <= floor(6.3*tickspersecond) 
flag = roundnotover



;---------------------------------------------------------------------------
; Pre-intro
[Statedef 190]
type = S
ctrl = 0
velset = 0,0

[State 190, 2] ;Go straight to intro.
type = ChangeState
trigger1 = StageVar(info.name) = "Windows Destruction"
trigger1 = enemynear, name = "Bonzi Buddy"
value = 1990

[State 190, 2] ;Go straight to intro.
type = ChangeState
trigger1 = enemynear, name = "Vinny Pizzapasta"
value = 1940

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = p2name = "Arnold Schwarzenegger"
trigger2 = p4name = "Arnold Schwarzenegger"
trigger3 = p2name = "Terminator"
trigger4 = p4name = "Terminator"
trigger5 = p2name = "T-800"
trigger6 = p4name = "T-800"
fv = 17
value = 3

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = p2name = "Doom Guy"
trigger2 = p4name = "Doom Guy"
trigger3 = p2name = "Doom Slayer"
trigger4 = p4name = "Doom Slayer"
trigger5 = p2name = "DoomGuy"
trigger6 = p4name = "DoomGuy"
fv = 17
value = 2

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = p2name = "Duke Nukem"
trigger2 = p4name = "Duke Nukem"
fv = 17
value = 4

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = p2name = "Carl Johnson"
trigger2 = p4name = "Carl Johnson"
fv = 17
value = 5

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = p2name = "Vargskelethor"
trigger2 = p4name = "Vargskelethor"
trigger3 = p2name = "Mr. Kill"
trigger4 = p4name = "Mr. Kill"
fv = 17
value = 1

[State 190, 1] ;Go straight to special intro.
type = ChangeState
triggerall = Time = 0
trigger1 = p2name = "Vargskelethor"
trigger2 = p4name = "Vargskelethor"
trigger3 = p2name = "Mr. Kill"
trigger4 = p4name = "Mr. Kill"
trigger5 = p2name = "Arnold Schwarzenegger"
trigger6 = p4name = "Arnold Schwarzenegger"
trigger7 = p2name = "Terminator"
trigger8 = p4name = "Terminator"
trigger9 = p2name = "T-800"
trigger10 = p4name = "T-800"
trigger11 = p2name = "Clint Eastwood"
trigger12 = p4name = "Clint Eastwood"
trigger13 = p2name = "Dirty Harry"
trigger14 = p4name = "Dirty Harry"
trigger15 = p2name = "Duke Nukem"
trigger16 = p4name = "Duke Nukem"
trigger17 = p2name = "AVGN"
trigger18 = p4name = "AVGN"
value = 194

[State 190, 1] ;Go straight to intro.
type = ChangeState
trigger1 = Time = 0
value = 191+random%4

;---------------------------------------------------------------------------
; Introduction 1 - Babes
; CNS difficulty: basic
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S191,random%4
volumescale = 200
channel = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Duke's Calm"
ID = 1903
stateno = 1903
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
;size.xscale = 
;size.yscale = 

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Duke's Party Girls"
ID = 1900
stateno = 1900
pos = 40,-10
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
;size.xscale = 
;size.yscale = 

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Duke's Party Girls"
ID = 1900
stateno = 1900
pos = -40,-10
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
;size.xscale = 
;size.yscale = 

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Women
; CNS difficulty: basic
[Statedef 1900]
type     = S
movetype = I
physics  = N
ctrl = 0
anim = 1900+random%5
velset = 0,0
sprpriority = -4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = anim = 1902
value = 0
scale = 0.8,0.8

[State 0, Helper]
type = Helper
triggerall = !numhelper(1901)
triggerall = anim = 1900
trigger1 = (pos x) - (root, pos x) >= -15
trigger1 = (pos x) - (root, pos x) <= 15
trigger2 = p2bodydist x >= -15
trigger2 = p2bodydist x <= 15
helpertype = normal ;player
name = "Attitude"
ID = 1901
stateno = 1901 
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,NA,NP,NT,ST,HT
time = 2

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 1902
time = 1
forceair = 0

;---------------------------------------------------------------------------
; Dialogue
; CNS difficulty: basic
[Statedef 1901]
type     = S
movetype = I
physics  = N
ctrl = 0
anim = 9999
velset = 0,0
sprpriority = -4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1900,random%4
volumescale = 130
channel = 6

[State 0, StopSnd]
type = StopSnd
trigger1 = parent, stateno = 1902
channel = 6

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= floor(2.71112*tickspersecond) 
trigger2 = parent, stateno = 1902

;---------------------------------------------------------------------------
; Ouch.
; CNS difficulty: basic
[Statedef 1902]
type     = S
movetype = I
physics  = N
ctrl = 0
anim = 1905
velset = 0,0
sprpriority = 1

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = time = 0
v = 4
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1901,0
volumescale = 130

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1906
ID = 1906
pos = 0,-55
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1907
ID = 1907
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-0.5
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1908
ID = 1908
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-6
accel = 0,0.47
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1909
ID = 1909
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = -5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0


;---------------------------------------------------------------------------
; Women are Present
; CNS difficulty: basic
[Statedef 1903]
type     = S
movetype = I
physics  = N
ctrl = 0
anim = 9999
velset = 0,0
sprpriority = -4

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, var(4) >= 2
value = 1904
ctrl = 0

;---------------------------------------------------------------------------
; Women are Present
; CNS difficulty: basic
[Statedef 1904]
type     = S
movetype = I
physics  = N
ctrl = 0
anim = 9999
velset = 0,0
sprpriority = -4

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 1

;---------------------------------------------------------------------------
; Introduction 2 - Alien Bastards
; CNS difficulty: basic
[Statedef 192]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 191

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S192,0
volumescale = 200
channel = 0

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "My Ride"
ID = 1920
stateno = 1920
pos = -90,-185
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 0.5
size.yscale = 0.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S1920,1
volumescale = 200

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0


;---------------------------------------------------------------------------
; Introduction 2 - Alien Bastards
; CNS difficulty: basic
[Statedef 1920]
type = S
ctrl = 0
anim = 1910
velset = 2,1
type     = S
movetype = I
physics  = N
sprpriority = -3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 16,1
value = S1920,0
volumescale = 50

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,1
anim = 1911
ID = 1911
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.2-(time*0.0015),0.2-(time*0.0015)
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
;ignorehitpause =
;trans = 
;persistent =
;supermove = 0
;pausemove = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 1-(time*0.01),1-(time*0.01)

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 100

;---------------------------------------------------------------------------
; Introduction 3 - Claw
; CNS difficulty: basic
[Statedef 193]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 190, 1] ;Chance to change to Duke Talk
type = ChangeState
trigger1 = random <= 334
trigger1 = Time = 0
value = 194

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 192

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, PosSet]
type = PosSet
trigger1 = animelem = 2
y = -300

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S40,1
volumescale = 200
abspan = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 1921
ID = 1921
pos = 0,-95
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
y = 2

[State 0, ChangeState]
type = ChangeState
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 1930
ctrl = 0

;---------------------------------------------------------------------------
; Introduction 3 - Claw
; CNS difficulty: basic
[Statedef 1930]
type = S
ctrl = 0
anim = 1920
velset = 0,0

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(1921)
id = 1921

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1922
ID = 1922
pos = 0,-95
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-2
accel = 0,-0.17
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y != 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S40,0
volumescale = 130

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0


;---------------------------------------------------------------------------
; Introduction 4 - Jump In and Duke Talk
; CNS difficulty: basic
[Statedef 194]
type = S
ctrl = 0
anim = 193
velset = 0,0

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 193

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 16
value = S40,0
volumescale = 180

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 16
value = S193,random%24
volumescale = 200
channel = 0

[State 0, PlaySnd]
type = PlaySnd
triggerall = animelem = 16
trigger1 = p2name = "Indiana Jones"
trigger2 = p4name = "Indiana Jones"
trigger3 = p2name = "Indianajones"
trigger4 = p4name = "Indianajones"
trigger5 = p2name = "INDY J"
trigger6 = p4name = "INDY J"
value = S1930,1
volumescale = 180
channel = 0

[State 0, PlaySnd]
type = PlaySnd
triggerall = animelem = 16
trigger1 = p2name = "Clint Eastwood"
trigger2 = p4name = "Clint Eastwood"
trigger3 = p2name = "Dirty Harry"
trigger4 = p4name = "Dirty Harry"
value = S1930,2
volumescale = 180
channel = 0

[State 0, PlaySnd]
type = PlaySnd
triggerall = animelem = 16
trigger1 = p2name = "KENSHIRO" 
trigger2 = p4name = "KENSHIRO" 
trigger3 = p2name = "Kenshirou" 
trigger4 = p4name = "Kenshirou" 
value = S193,9
volumescale = 180
channel = 0

[State 0, PlaySnd]
type = PlaySnd
triggerall = animelem = 16
trigger1 = p2name = "Duke Nukem"
trigger2 = p4name = "Duke Nukem"
value = S1930,3
volumescale = 180
channel = 0

[State 0, PlaySnd]
type = PlaySnd
triggerall = animelem = 16
trigger1 = p2name = "AVGN"
trigger2 = p4name = "AVGN"
value = S1930,4
volumescale = 180
channel = 0

[State 0, PlaySnd]
type = PlaySnd
triggerall = animelem = 16
trigger1 = p2name = "Vargskelethor"
trigger2 = p4name = "Vargskelethor"
trigger3 = p2name = "Mr. Kill"
trigger4 = p4name = "Mr. Kill"
value = S1930,0
volumescale = 180
channel = 0

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Introduction Vs Vinny - Yeah, Piece of Cake!
; CNS difficulty: basic
[Statedef 1940]
type = S
ctrl = 0
anim = 1940
velset = 0,0

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 1940

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 8
trigger3 = animelem = 13
trigger4 = animelem = 18
trigger5 = animelem = 23
trigger6 = animelem = 28
value = S185,6
volumescale = 200
channel = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 6 
trigger2 = animelem = 11
trigger3 = animelem = 16
trigger4 = animelem = 21 
trigger5 = animelem = 26 
trigger6 = animelem = 31
anim = 1941
ID = 1941
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 99999999
supermovetime = 99999999
scale = 1,1
sprpriority = 890005
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 7 
trigger2 = animelem = 12
trigger3 = animelem = 17
trigger4 = animelem = 22 
trigger5 = animelem = 27 
helpertype = normal ;player
name = "Duke Nukem"
ID = 1942
stateno = 1942 
pos = -80+random%160,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 12
trigger2 = animelem = 17
trigger3 = animelem = 22 
trigger4 = animelem = 27 
helpertype = normal ;player
name = "Duke Nukem"
ID = 1942
stateno = 1942 
pos = -80+random%160,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0


[State 0, Helper]
type = Helper
trigger1 = animelem = 12
trigger2 = animelem = 17
trigger3 = animelem = 22 
trigger4 = animelem = 27 
helpertype = normal ;player
name = "Duke Nukem"
ID = 1942
stateno = 1942 
pos = -80+random%160,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 17
trigger2 = animelem = 22 
trigger3 = animelem = 27 
helpertype = normal ;player
name = "Duke Nukem"
ID = 1942
stateno = 1942 
pos = -80+random%160,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 17
trigger2 = animelem = 22 
trigger3 = animelem = 27 
helpertype = normal ;player
name = "Duke Nukem"
ID = 1942
stateno = 1942 
pos = -80+random%160,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 22 
trigger2 = animelem = 27 
helpertype = normal ;player
name = "Duke Nukem"
ID = 1942
stateno = 1942 
pos = -80+random%160,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 22 
trigger2 = animelem = 27 
helpertype = normal ;player
name = "Duke Nukem"
ID = 1942
stateno = 1942 
pos = -80+random%160,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 27 
helpertype = normal ;player
name = "Duke Nukem"
ID = 1943
stateno = 1943
pos = -20+random%80,0
postype = p2    ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = numexplod(1941)
flag = nobardisplay
flag2 = noFG
flag3 = nomusic
ignorehitpause = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = animelem = 31
channel = 0

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Yeah, Piece of Cake!
; CNS difficulty: basic
[Statedef 1942]
type = S
ctrl = 0
anim = 1942
velset = 0,0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 19
value = 30+random%3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = var(19)
value = S185,6
volumescale = 50

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root, stateno = 1940
trigger1 = root, animelem = 11
trigger2 = root, stateno = 1940
trigger2 = root, animelem = 16
trigger3 = root, stateno = 1940
trigger3 = root, animelem = 21 
trigger4 = root, stateno = 1940
trigger4 = root, animelem = 26 
trigger5 = root, stateno != 1940

;---------------------------------------------------------------------------
; Yeah, Piece of Cake!
; CNS difficulty: basic
[Statedef 1943]
type = S
ctrl = 0
anim = 1943
velset = 0,0
sprpriority = 5

[State 0, Helper]
type = Helper
trigger1 = time = 2
helpertype = normal ;player
name = "Duke Nukem"
ID = 1943
stateno = 1943
pos = -20+random%45,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 19
value = 30+random%3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = var(19)
value = S185,6
volumescale = 80
channel = 9

[State 0, StopSnd]
type = StopSnd
trigger1 = root, stateno != 1940
trigger2 = root, stateno = 1940
trigger2 = root, animelem = 31
channel = 9

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root, stateno != 1940
trigger2 = root, stateno = 1940
trigger2 = root, animelem = 31


;---------------------------------------------------------------------------
; Introduction VS Bonzi on Windows Destruction (Just go straight to idle pose)
; CNS difficulty: basic
[Statedef 1990]
type = S
ctrl = 0
anim = 0
velset = 0,0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = time = 1
value = 0

;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 195, 1]
type = CtrlSet
trigger1 = time = 1
value = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Duke Talk
; CNS difficulty: easy
[Statedef 1950]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= floor(2.105*tickspersecond) 

;---------------------------------------------------------------------------
; Pistol
; CNS difficulty: easy
[Statedef 200]
type    = S
movetype= A
physics = N
poweradd= 30
ctrl = 0
velset = 0,0
anim = 200
sprpriority = -1

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = parent, var(31) = 0
trigger1 = parent, fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0071

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root, stateno = 0
time = 1
pos = 44,-74

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root, statetype = C
time = 1
pos = 58,-29

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root, anim = 41
time = 1
pos = 49,-79

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root, anim = 42
time = 1
pos = 48,-79

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root, anim = 43
trigger2 = root, stateno = 105
time = 1
pos = 33,-79

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root, stateno = 20
trigger2 = root, stateno = 100
time = 1
pos = 52,-57

[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
value = 200, 0

[State 0, ParentVarAdd]
type = ParentVarAdd
trigger1 = time = 1
v = 5
value = -1

[State 0, Helper]
type = Helper
trigger1 = time = 1
helpertype = normal ;player
name = "Bullet"
ID = 201
stateno = 201 
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = root, anim = 5
trigger2 = root, stateno = 210
trigger3 = root, stateno = 230
trigger4 = root, stateno = 240
trigger5 = root, stateno = 410
trigger6 = root, stateno = 430
trigger7 = root, stateno = 440
trigger8 = root, stateno = 630
trigger9 = root, stateno = 640
trigger10 = root, stateno = 950
flag = invisible

[State 200, 2]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; Pistol Bullet
; CNS difficulty: easy
[Statedef 201]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 12,0
anim = 201
sprpriority = -2

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NP
animtype  = Light
damage    = 18
guardflag = MA
pausetime = 0,1
sparkno = S7000
guard.sparkno = S7003
sparkxy = -10,0
hitsound   = S5,0
guardsound = S6,1
ground.type = High
ground.slidetime = 9
ground.hittime  = 12
ground.velocity = -1
air.velocity = -1,-3

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 90
trigger2 = movecontact

;---------------------------------------------------------------------------
; Pistol Reload
; CNS difficulty: easy
[Statedef 205]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 205
sprpriority = -1

[State 0, VelSet]
type = VelSet
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
x = const(velocity.walk.fwd.x)

[State 0, VelSet]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 0, VelSet]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S205,0
volumescale = 130

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 206
ID = 206
pos = 18,-65
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0.47
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S205,1
volumescale = 130

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 3
v = 5
value = 12

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Shotgun
; CNS difficulty: easy
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 30
ctrl = 0
velset = 0,0
anim = 1000
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = prevstateno = 101
trigger1 = p2bodydist x <= -30
trigger1 = time = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.012

[State 0, VelSet]
type = VelSet
triggerall = time <= 35
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
x = const(velocity.walk.fwd.x)+(ceil(fvar(14)*const(velocity.walk.fwd.x)))

[State 0, VelSet]
type = VelSet
triggerall = time <= 35
trigger1 = command != "holdfwd"
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)+(ceil(fvar(14)*const(velocity.walk.back.x)))

[State 0, VelSet]
type = VelSet
triggerall = time <= 35
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 210
ID = 210
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 210, 0

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 200
ID = 200
pos = 54,-70
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 12,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 10,0.35
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal ;player
name = "Shotgun"
ID = 200
stateno = 211 
pos = 54,-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 2.5
size.yscale = 2

[State 210, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 210, 2

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Shotgun
; CNS difficulty: easy
[Statedef 211]
type    = S
movetype= A
physics = N
poweradd= 30
ctrl = 0
velset = 0,0
anim = 200
sprpriority = 5

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root, stateno = 210
time = 1
pos = 54,-70

[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
value = 210, 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Buckshot"
ID = 212
stateno = 212 
pos = -50,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0
size.xscale = 1
size.yscale = 1

[State 200, 2]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; Shotgun Hitscan
; CNS difficulty: easy
[Statedef 212]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 214
sprpriority = -1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, NP
animtype  = Hard
damage    = 105
priority  = 5
guardflag = MA
pausetime = 0,15
sparkno = S7001
guard.sparkno = S7003
sparkxy = -10,-5+random%10
hitsound   = S5,2
guardsound = S6,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 17
ground.velocity = -4,-3.5
air.velocity = -4,-3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1

[State 0, HitAdd]
type = HitAdd
trigger1 = movehit
value = 6
ignorehitpause = 1
persistent = 0

[State 200, 2]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; Ungh! Where is it?! (Weapons)
; CNS difficulty: easy
[Statedef 220]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 1050
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1000,0
volumescale = 200
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 16
value = S1000,2+random%7
volumescale = 200
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 16
value = S2000,0
volumescale = 130

[State 0, VarSet]
type = VarSet
trigger1 = time = 16
trigger1 = power < 1000
fv = 10
value = 1+random%2

[State 0, VarSet]
type = VarSet
trigger1 = time = 16
trigger1 = power >= 1000
trigger1 = power < 2000
fv = 10
value = 3+random%2

[State 0, VarSet]
type = VarSet
trigger1 = time = 16
trigger1 = power >= 2000
trigger1 = power < 3000
fv = 10
value = 5+random%2

[State 0, VarSet]
type = VarSet
trigger1 = time = 16
trigger1 = power >= 3000
fv = 10
value = 7+random%2

;Set Ammo for newly obtained weapon
[State 0, Null]
type = Null
triggerall = time = 16
trigger1 = fvar(10) = 0
trigger1 = 1 || fvar(11) := 0
trigger2 = fvar(10) = 1
trigger2 = 1 || fvar(11) := 5
trigger3 = fvar(10) = 2
trigger3 = 1 || fvar(11) := 3
trigger4 = fvar(10) = 3
trigger4 = 1 || fvar(11) := 1
trigger5 = fvar(10) = 4
trigger5 = 1 || fvar(11) := 1
trigger6 = fvar(10) = 5
trigger6 = 1 || fvar(11) := 10
trigger7 = fvar(10) = 6
trigger7 = 1 || fvar(11) := 8
trigger8 = fvar(10) = 7
trigger8 = 1 || fvar(11) := 5
trigger9 = fvar(10) = 8
trigger9 = 1 || fvar(11) := 5

[State 0, Explod]
type = Explod
trigger1 = time = 16 
anim = 2004+(floor(fvar(10))*100)
ID = 2004
pos = 0,-110
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 20
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = command = "holddown"
trigger1 = animtime = 0
value = 11
ctrl = 1


[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Quick Kick
; CNS difficulty: easy
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 11
ctrl = 0
velset = 0,0
anim = 230
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0088

[State 0, VelSet]
type = VelSet
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
x = const(velocity.walk.fwd.x)+(ceil(fvar(14)*const(velocity.walk.fwd.x)))

[State 0, VelSet]
type = VelSet
triggerall = var(59) = 0
trigger1 = command != "holdfwd"
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)+(ceil(fvar(14)*const(velocity.walk.back.x)))

[State 0, VelSet]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2500)
id = 2500

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2600)
id = 2600

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 230, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 26+ceil(fvar(14)*78)
guardflag = MA
pausetime = 12,12
sparkno = S7000
guard.sparkno = S7003
sparkxy = -10,-37
hitsound   = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 14
ground.velocity = -5
air.velocity = -2.5,-3.5

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Mighty Foot
; CNS difficulty: easy
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 30
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0091

[State 0, VelSet]
type = VelSet
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
x = const(velocity.walk.fwd.x)+(ceil(fvar(14)*const(velocity.walk.fwd.x)))

[State 0, VelSet]
type = VelSet
triggerall = var(59) = 0
trigger1 = command != "holdfwd"
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)+(ceil(fvar(14)*const(velocity.walk.back.x)))

[State 0, VelSet]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2500)
id = 2500

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2600)
id = 2600

[State 240, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 3

[State 240, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
damage    = 46+ceil(fvar(14)*138), 4+ceil(fvar(14)*12)
priority  = 5
guardflag = MA
pausetime = 15,15
sparkno = S7001
guard.sparkno = S7003
sparkxy = -10,-37
hitsound   = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 17
ground.velocity = -4,-3.5
air.velocity = -4,-3
fall = 1

[State 240, 3]
type = ChangeAnim
trigger1 = AnimElemTime(3) > 0 && AnimElemTime(4) <= 0
trigger1 = movecontact
ignorehitpause = 1
persistent = 0
value = 240
elem = 4


[State 240, 4]
type = PosAdd
trigger1 = AnimElem = 7
x = 12

[State 240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Ungh! Where is it?! (Items)
; CNS difficulty: easy
[Statedef 250]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 1050
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1000,0
volumescale = 200
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 16
value = S1000,9
volumescale = 200
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 16
value = S1001,0
volumescale = 130

[State 0, VarSet]
type = VarSet
trigger1 = time = 16
fv = 12
value = 1+random%4

[State 0, Explod]
type = Explod
triggerall = teamside = 1
triggerall = numexplod(6120) = 0
triggerall = time = 16
triggerall = fvar(13) = 3
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6120+floor(fvar(12))
ID = 6120
pos = 75,(fvar(21)) - 47
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = teamside = 1
triggerall = numexplod(6120) = 0
triggerall = time = 16
triggerall = fvar(13) = 3
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6120+floor(fvar(12))
ID = 6120
pos = 155,(fvar(21)) - 47
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = teamside = 2
triggerall = numexplod(6120) = 0
triggerall = time = 16
triggerall = fvar(13) = 3
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6120+floor(fvar(12))
ID = 6120
pos = -75,(fvar(21)) - 47
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = teamside = 2
triggerall = numexplod(6120) = 0
triggerall = time = 16
triggerall = fvar(13) = 3
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6120+floor(fvar(12))
ID = 6120
pos = -155,(fvar(21)) - 47
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = teamside = 1
triggerall = numexplod(6120) = 0
triggerall = time = 16
triggerall = fvar(13) = 2
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6120+floor(fvar(12))
ID = 6120
pos = 60,(fvar(21)) - 47
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = teamside = 1
triggerall = numexplod(6120) = 0
triggerall = time = 16
triggerall = fvar(13) = 2
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6120+floor(fvar(12))
ID = 6120
pos = 140,(fvar(21)) - 47
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = teamside = 2
triggerall = numexplod(6120) = 0
triggerall = time = 16
triggerall = fvar(13) = 2
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6120+floor(fvar(12))
ID = 6120
pos = -60,(fvar(21)) - 47
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = teamside = 2
triggerall = numexplod(6120) = 0
triggerall = time = 16
triggerall = fvar(13) = 2
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6120+floor(fvar(12))
ID = 6120
pos = -140,(fvar(21)) - 47
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = teamside = 1
triggerall = numexplod(6120) = 0
triggerall = time = 16
triggerall = fvar(13) = 1
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6120+floor(fvar(12))
ID = 6120
pos = 45,(fvar(21)) - 47
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = teamside = 1
triggerall = numexplod(6120) = 0
triggerall = time = 16
triggerall = fvar(13) = 1
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6120+floor(fvar(12))
ID = 6120
pos = 125,(fvar(21)) - 47
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = teamside = 2
triggerall = numexplod(6120) = 0
triggerall = time = 16
triggerall = fvar(13) = 1
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6120+floor(fvar(12))
ID = 6120
pos = -45,(fvar(21)) - 47
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = teamside = 2
triggerall = numexplod(6120) = 0
triggerall = time = 16
triggerall = fvar(13) = 1
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6120+floor(fvar(12))
ID = 6120
pos = -125,(fvar(21)) - 47
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 16 
anim = 6130+floor(fvar(12))
ID = 6130
pos = 0,-110
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 20
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 16
trigger1 = fvar(13) > 0
fv = 13
value = -1

[State 0, ChangeState]
type = ChangeState
trigger1 = command = "holddown"
trigger1 = animtime = 0
value = 11
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Ungh! Where is it?! (No items left)
; CNS difficulty: easy
[Statedef 251]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 1050
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1000,1
volumescale = 200
channel = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = command = "holddown"
trigger1 = animtime = 0
value = 11
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Crouching Pistol
[Statedef 400]
type    = C
movetype= A
physics = N
poweradd= 30
ctrl = 0
velset = 0,0
anim = 200
sprpriority = -1

[State 0, VarAdd]
type = ParentVarAdd
trigger1 = parent, var(31) = 0
trigger1 = parent, fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0071

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root, statetype != C
time = 1
pos = 44,-74

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root, statetype = C
time = 1
pos = 58,-29

[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
value = 200, 0

[State 0, ParentVarAdd]
type = ParentVarAdd
trigger1 = time = 1
v = 5
value = -1

[State 0, Helper]
type = Helper
trigger1 = time = 1
helpertype = normal ;player
name = "Bullet"
ID = 201
stateno = 401 
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = root, anim = 6
trigger2 = root, stateno = 210
trigger3 = root, stateno = 230
trigger4 = root, stateno = 240
trigger5 = root, stateno = 410
trigger6 = root, stateno = 430
trigger7 = root, stateno = 440
trigger8 = root, stateno = 630
trigger9 = root, stateno = 640
trigger10 = root, stateno = 950
flag = invisible

[State 200, 2]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; Pistol Bullet
; CNS difficulty: easy
[Statedef 401]
type    = C
movetype= A
physics = N
ctrl = 0
velset = 12,0
anim = 401
sprpriority = -2

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = C, NP
animtype  = Medium
damage    = 30
guardflag = L
pausetime = 0,3
sparkno = S7000
guard.sparkno = S7003
sparkxy = -10,0
hitsound   = S5,0
guardsound = S6,1
ground.type = Low
ground.slidetime = 9
ground.hittime  = 12
ground.velocity = -1
air.velocity = -1,-3

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 90
trigger2 = movecontact

;---------------------------------------------------------------------------
; Pistol Reload
; CNS difficulty: easy
[Statedef 405]
type    = C
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 405
sprpriority = -1

[State 0, VelSet]
type = VelSet
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
x = const(velocity.walk.fwd.x)+(ceil(fvar(14)*const(velocity.walk.fwd.x)))

[State 0, VelSet]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)/2+(ceil(fvar(14)*const(velocity.walk.back.x)/2))

[State 0, VelSet]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S205,0
volumescale = 130

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 206
ID = 206
pos = 35,-34
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0.47
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S205,1
volumescale = 130

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 3
v = 5
value = 12

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouching shotgun
; CNS difficulty: easy
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 4
poweradd= 30
ctrl = 0
velset = 0,0
anim = 1040
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = prevstateno = 101
trigger1 = p2bodydist x <= -30
trigger1 = time = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.012

[State 0, VelSet]
type = VelSet
triggerall = time <= 35
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
x = const(velocity.walk.fwd.x)/2+(ceil(fvar(14)*const(velocity.walk.fwd.x)/2))

[State 0, VelSet]
type = VelSet
triggerall = time <= 35
trigger1 = command != "holdfwd"
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)/2+(ceil(fvar(14)*const(velocity.walk.fwd.x)/2))

[State 0, VelSet]
type = VelSet
triggerall = time <= 35
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 211
ID = 211
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 210, 0

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 200
ID = 200
pos = 63,-37
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 12,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 10,0.35
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal ;player
name = "Shotgun"
ID = 200
stateno = 411 
pos = 63,-37
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 2.5
size.yscale = 2

[State 210, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 210, 2

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Shotgun
; CNS difficulty: easy
[Statedef 411]
type    = C
movetype= A
physics = N
poweradd= 30
ctrl = 0
velset = 0,0
anim = 200
sprpriority = 5

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root, stateno = 410
time = 1
pos = 63,-37

[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
value = 210, 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Buckshot"
ID = 212
stateno = 412
pos = -50,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0
size.xscale = 1
size.yscale = 1

[State 200, 2]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; Shotgun Hitscan
; CNS difficulty: easy
[Statedef 412]
type    = C
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 214
sprpriority = -1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = C, NP
animtype  = Hard
damage    = 105
priority  = 5
hitflag = MAFD
guardflag = L
pausetime = 0,15
sparkno = S7001
guard.sparkno = S7003
sparkxy = -10,-5+random%10
hitsound   = S5,2
guardsound = S6,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 17
ground.velocity = -4,-3.5
air.velocity = -4,-3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1

[State 0, HitAdd]
type = HitAdd
trigger1 = movehit
value = 6
ignorehitpause = 1
persistent = 0

[State 200, 2]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
;Crouching Quick Kick
; CNS difficulty: easy
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 11
ctrl = 0
anim = 430
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0088

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2500)
id = 2500

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2600)
id = 2600

[State 430, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 430, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 28+ceil(fvar(14)*84)
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = S7000
guard.sparkno = S7003
sparkxy = -10,-8
hitsound   = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 22

[State 430, 3]
type = ChangeAnim
trigger1 = AnimElemTime(3) > 0 && AnimElemTime(4) <= 0
trigger1 = movecontact
ignorehitpause = 1
persistent = 0
value = 430
elem = 4

[State 430, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Mighty Foot
; CNS difficulty: easy
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 35
ctrl = 0
anim = 440
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0091

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2500)
id = 2500

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2600)
id = 2600

[State 440, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 7.3

[State 440, 3]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage = 46+ceil(fvar(14)*138)
hitflag = MAFD
guardflag = L
pausetime = 6,12
sparkno = S7001
guard.sparkno = S7003
sparkxy = -5,-10
hitsound   = S5,2
guardsound = S6,0
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 17
ground.velocity = -5.5,-2
air.velocity = -5.2,-3
guard.velocity = -7
fall = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Pistol Reload
; CNS difficulty: easy
[Statedef 605]
type    = A
movetype= I
physics = A
ctrl = 0
anim = 605
sprpriority = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S205,0
volumescale = 130

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 206
ID = 206
pos = 12,-72
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0.47
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S205,1
volumescale = 130

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 3
v = 5
value = 12

[State 0, ChangeState]
type = ChangeState
trigger1 = time <= 4
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = 606
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time > 4
trigger1 = time < 27
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = 607
ctrl = 0

;---------------------------------------------------------------------------
; Pistol Reload (Pre-Eject)
; CNS difficulty: easy
[Statedef 606]
type    = C
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 405
sprpriority = -1

[State 0, PosSet]
type = PosSet
trigger1 = pos y != 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1000,0
volumescale = 130
channel = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 206
ID = 206
pos = 35,-34
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0.47
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S205,1
volumescale = 130

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 3
v = 5
value = 12

[State 0, ChangeState]
type = ChangeState
trigger1 = command = "holddown"
trigger1 = animtime = 0
value = 11
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = command != "holddown"
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Pistol Reload (Ejected)
; CNS difficulty: easy
[Statedef 607]
type    = C
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 606
sprpriority = -1

[State 0, PosSet]
type = PosSet
trigger1 = pos y != 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1000,0
volumescale = 130
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S205,1
volumescale = 130

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 2
v = 5
value = 12

[State 0, ChangeState]
type = ChangeState
trigger1 = command = "holddown"
trigger1 = animtime = 0
value = 11
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = command != "holddown"
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Jump Shotgun
; CNS difficulty: easy
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 30
ctrl = 0
anim = 1020
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.012

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 212
ID = 212
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 210, 0

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 200
ID = 200
pos = 54,-70
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 12,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 10,0.35
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal ;player
name = "Shotgun"
ID = 200
stateno = 611 
pos = 54,-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 2.5
size.yscale = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time < 10
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = S1000,0
volumescale = 200
channel = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = 613
ctrl = 0

;---------------------------------------------------------------------------
; Shotgun
; CNS difficulty: easy
[Statedef 611]
type    = A
movetype= A
physics = N
poweradd= 30
ctrl = 0
velset = 0,0
anim = 200
sprpriority = 5

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root, stateno = 610
time = 1
pos = 54,-70

[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
value = 210, 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Buckshot"
ID = 212
stateno = 612 
pos = -50,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0
size.xscale = 1
size.yscale = 1

[State 200, 2]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = root, stateno != 610
trigger2 = time >= 2

;---------------------------------------------------------------------------
; Shotgun Hitscan
; CNS difficulty: easy
[Statedef 612]
type    = A
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 214
sprpriority = -1

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = A, NP
animtype  = Hard
damage    = 135,23
priority  = 5
guardflag = HA
pausetime = 0,15
sparkno = S7001
guard.sparkno = S7003
sparkxy = -10,-5+random%10
hitsound   = S5,2
guardsound = S6,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 17
ground.velocity = -4,-3.5
air.velocity = -4,-3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1

[State 0, HitAdd]
type = HitAdd
trigger1 = movehit
value = 6
ignorehitpause = 1
persistent = 0

[State 200, 2]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; Shotgun (Land)
; CNS difficulty: easy
[Statedef 613]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 1031
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(212)
id = 212

[State 0, PosSet]
type = PosSet
trigger1 = pos y != 0
y = 0

[State 210, 1]
type = PlaySnd
trigger1 = time = 0
value = 210, 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 213
ID = 213
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Jump Quick Kick
; CNS difficulty: easy
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 10
ctrl = 0
anim = 630
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0088

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2502)
id = 2502

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2602)
id = 2602

[State 630, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 630, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 26+ceil(fvar(14)*78)
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = S7000
guard.sparkno = S7003
sparkxy = -5,-35
hitsound   = S5,1
guardsound = S6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 10
ground.velocity = -4
air.velocity = -2,-3
air.hittime = 14

[State 0, CtrlSet]
type = CtrlSet
trigger1 = time = 9
value = 1

;---------------------------------------------------------------------------
;Jump Mighty Foot
; CNS difficulty: easy
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 30
ctrl = 0
anim = 640
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0091

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2502)
id = 2502

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2602)
id = 2602

[State 640, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 640, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 50+ceil(fvar(14)*150)
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = S7001
guard.sparkno = S7003
sparkxy = -10,-40
hitsound   = S5,2
guardsound = S6,0
animtype = Med
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7
air.velocity = -3,-4
air.fall = 1

[State 0, CtrlSet]
type = CtrlSet
trigger1 = time = 32
value = 1

;---------------------------------------------------------------------------
;Tazer - Attempt
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, NT
hitflag = M-
priority = 1, Miss 
sparkno = -1 
p1sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = 810
p2stateno = 820
guard.dist = 0
fall = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 800, 1
volumescale = 130
channel = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 4
fv = 18
value = 1

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;Tazer - Throwing the opponent
[Statedef 810]
type    = S
movetype= A
physics = N
anim = 810
poweradd = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 18
value = 0

[State 810, Throw Sound]
type = PlaySnd
trigger1 = time = 0
value = 800, 0
volumescale = 130

[State 810, Throw Sound]
type = PlaySnd
trigger1 = AnimElem = 2
value = 800, 2
volumescale = 130
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S0,3

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 70000
ID = 70000
pos = 54,-70
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 5
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S5,2
volumescale = 70

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S800,3
volumescale = 130

[State 0, HitAdd]
type = HitAdd
trigger1 = time >= 22
trigger1 = time <= 36
value = 1

[State 810, Bind]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 28, 0

[State 810, Bind]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
pos = 12, 0

[State 810, Bind]
type = TargetBind
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
pos = 8, 0

[State 810, Bind]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(5) < 0
pos = 24, 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 811
ID = 811
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 810, Bind]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(9) < 0
pos = 47, 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S0,4

[State 0, Explod]
type = Explod
trigger1 = animelem = 9
anim = 7001
ID = 7001
pos = 61,-45
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 5
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, HitAdd]
type = HitAdd
trigger1 = animelem = 9
value = 1

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = animelem = 9
trigger1 = fvar(14) > 0
value = -78
absolute = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = S5,3

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Thrown by Tazer
[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = IsHelper

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 820

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 22
time = 14
add = 100,180,130
mul = 256,256,256
sinadd = -80,-80,-80,10
invertall = 0
color = 0

[State 0, LifeAdd]
type = LifeAdd
triggerall = lifemax < 1000
trigger1 = time >= 22
trigger1 = time <= 36
value = -2
absolute = 1

[State 0, LifeAdd]
type = LifeAdd
triggerall = lifemax >= 1000
trigger1 = time >= 22
trigger1 = time <= 36
value = -ceil(lifemax*0.002)
absolute = 1

[State 0, LifeAdd]
type = LifeAdd
triggerall = lifemax < 1000
trigger1 = animelem = 24
value = -78
absolute = 1

[State 0, LifeAdd]
type = LifeAdd
triggerall = lifemax >= 1000
trigger1 = animelem = 24
value = -ceil(lifemax*0.078)
absolute = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 76
x = -6.75
y = -4

[State 821, 1] 
type = VelAdd
Trigger1 = time >= 80
y = .47

[State 821, 4]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
; Devastator and Jetpack
[Statedef 950]
type    = S
movetype= I
physics = N
velset = 0,0
anim = 20000
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 3
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S950,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1000,1
channel = 0
volumescale = 130
abspan = 0

[State 0, Pause]
type = Pause
trigger1 = time = 0
time = 74
movetime = 74

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Devastator activation"
ID = 9500
stateno = 9500
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 999999
supermovetime = 999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S950,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S2000,0
volumescale = 130

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S950,5
volumescale = 200
channel = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 8051
ID = 8051
pos = 0,-110
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 20
ontop = 0
shadow = 0,0,0
ownpal = 4
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 8105
ID = 8105
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999999
supermovetime = 999999
scale = 1,1
sprpriority = -50
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 8041
ID = 8041
pos = 0,-60
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 99999
supermovetime = 99999
scale = 0.8,0.8
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 80420
ID = 80420
pos = 10,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 99999
supermovetime = 99999
scale = 1.2,0.75
sprpriority = -5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
name = "Shameless Recycling"
ID = 8040
stateno = 8040 
pos = 0,-60
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999
pausemovetime = 99999
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 80421
ID = 80421
pos = 10,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 99999
supermovetime = 99999
scale = 1,1
sprpriority = -5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 80422
ID = 80422
pos = 10,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 99999
supermovetime = 99999
scale = 1,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, VarSet]
type = VarSet
trigger1 = animtime = 0
v = 31
value = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Equip Devastator and Jetpack
; CNS difficulty: medium
[Statedef 9500]
type    = S
movetype= I
physics = N
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = 1
anim = 9101
ID = 9101
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 99999
supermovetime = 99999
scale = 2,2
sprpriority = -500
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time <= 10
v = 6
value = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = time >= 61
trigger1 = time <= 71
v = 6
value = -1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 9101
trans = addalpha
alpha = 20*var(6), 256-(15*var(6))

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 8040
ID = 8040
pos = 0,-60
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 9
pausemovetime = 999999
supermovetime = 999999
scale = 3,3
sprpriority = 50
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 8040
ID = 8041
pos = 0,-60
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 9
pausemovetime = 999999
supermovetime = 999999
scale = 2,2
sprpriority = 50
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 8040
ID = 8042
pos = 0,-60
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 9
pausemovetime = 999999
supermovetime = 999999
scale = 2,2
sprpriority = 50
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 8040
trans = addalpha
scale = 3-(time*0.333), 3-(time*0.333)
alpha = 256-(time*28), 256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 8041
trans = addalpha
scale = 2-(time*0.222), 1-(time*0.111)
alpha = 256-(time*28), 256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 8042
trans = addalpha
scale = 1-(time*0.111), 2-(time*0.222)
alpha = 256-(time*28), 256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 71

;---------------------------------------------------------------------------
; Fire Devastator and Jetpack
[Statedef 960]
type    = A
movetype= A
physics = N
velset = 0,-0.5
anim = 1020
ctrl = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S951,random%10
volumescale = 180
channel = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 950
ID = 950
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 952
ID = 952
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(952)
trigger1 = animelem = 2
ID = 952
sprpriority = 3

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(952)
trigger1 = animelem = 3
ID = 952
sprpriority = 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 950, 3

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 2000, 0

[State 0, VelAdd]
type = VelAdd
trigger1 = command = "holdback"
x = -0.2

[State 0, VelAdd]
type = VelAdd
trigger1 = var(59) = 0
trigger1 = command = "holdfwd"
x = 0.2

[State 0, VelAdd]
type = VelAdd
trigger1 = command = "holdup"
y = -0.2

[State 0, VelAdd]
type = VelAdd
trigger1 = time >= 19
trigger1 = command = "holddown"
y = 0.2

[State 0, Helper]
type = Helper
trigger1 = time = 10
trigger2 = time = 12
trigger3 = time = 16
trigger4 = time = 18
helpertype = normal ;player
name = "Devastator Rocket"
ID = 920
stateno = 962 
pos = 49,-78
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 0.5
size.yscale = 0.5

[State 210, 1]
type = PlaySnd
trigger1 = Time = 30
value = 950, 4

[State 0, VelAdd]
type = VelAdd
trigger1 = time >= 30
y = 0.47

[State 0, ChangeState]
type = ChangeState
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = 961
ctrl = 0

;---------------------------------------------------------------------------
; Jetpack Land
; CNS difficulty: easy
[Statedef 961]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 1030
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(950)
id = 950

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(952)
id = 952

[State 0, PosSet]
type = PosSet
trigger1 = pos y != 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 951
ID = 951
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Devastator Rocket
; CNS difficulty: easy
[Statedef 962]
type    = A
movetype= A
physics = N
ctrl = 0
velset = 8,-1+random%3
anim = 2701
sprpriority = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S950,2
volumescale = 130

[State 0, MakeDust]
type = MakeDust
trigger1 = timemod = 4, 1
pos = -42, 0
spacing = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
x = 0.57

[State 0, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, HP
animtype  = Medium
damage    = 8, 6
hitflag = MAFD
guardflag = HA
sparkno = S70000
guard.sparkno = S7003
pausetime = 0,18
sparkno = 0
sparkxy = -10,0
hitsound   = S5,1
guardsound = S6,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 14
ground.velocity = -2
air.velocity = -2,-1.5

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact
value = 963
ctrl = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 100

;---------------------------------------------------------------------------
; Devastator Rocket
; CNS difficulty: easy
[Statedef 963]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,-0.75
anim = 2301
sprpriority = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2300,1
volumescale = 130

[State 0, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, HP
animtype  = Medium
damage    = 40, 20
hitflag = MAFD
guardflag = HA
pausetime = 0,16
sparkno = S70000
guard.sparkno = S7003
sparkxy = 0,0
hitsound   = S5,3
guardsound = S6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 22
ground.velocity = -6,-4.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
guard.velocity = -12
air.velocity = -7.2,-8.8
airguard.velocity = -7.2,-8.8
fall = 1
fall.recover = 0
sprpriority = 6

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Really big hits
; CNS difficulty: easy
[Statedef 8040]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 8040
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 150-(time*15),256

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = time*45
scale = 0+(time*0.2),0+(time*0.2)

[State 0, Explod]
type = Explod
trigger1 = parent, stateno != 950
trigger1 = time = 0
anim = 8050
ID = 8050
pos = 160,120
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 9999999
scale = 0.5,0.5
sprpriority = -3
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Large Medkit
[Statedef 1100]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 1001
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0088

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1001,0
volumescale = 130

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1100
ID = 1100
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = animelem = 2
value = 300
absolute = 1

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 2
fv = 12
value = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 2
trigger1 = numexplod(6121)
id = 6121

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1100,0+random%2
volumescale = 180
channel = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Blue Access Card
[Statedef 1200]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 1001
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0088

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1001,0
volumescale = 130

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1200
ID = 1200
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1205
ID = 1205
pos = 100,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = facing = 1
trigger1 = time = 0
anim = 1201
ID = 1201
pos = 22,-78
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = -3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = facing = -1
trigger1 = time = 0
anim = 1201
ID = 1201
pos = 22,-78
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = -3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = facing = 1
trigger1 = animelem = 2
anim = 1202
ID = 1202
pos = 22,-78
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = -3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = -1
trigger1 = animelem = 2
anim = 1202
ID = 1202
pos = 22,-78
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = -3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "Pig Tank"
ID = 1201
stateno = 1201
pos = 100,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1001,1
volumescale = 130

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 2
fv = 12
value = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 2
trigger1 = numexplod(6122)
id = 6122

[State 0, Zoom]
type = Zoom
trigger1 = time >= 10
trigger1 = time <= 15
pos = 0,0
postype = p1
scale = 1 + ((time-10)*0.04)
ignorehitpause = 1

[State 0, Zoom]
type = Zoom
trigger1 = time >= 15
trigger1 = time <= 25
pos = 0,0
postype = p1
scale = 1.2
ignorehitpause = 1

[State 0, Zoom]
type = Zoom
trigger1 = time >= 25
trigger1 = time <= 30
pos = 0,0
postype = p1
scale = 1.2 - ((time-25)*0.04)
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S1200,random%2
volumescale = 130
channel = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Pig Cop Tank
[Statedef 1201]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 1203
sprpriority = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1001,2
volumescale = 130

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1206
ID = 1206
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1207
ID = 1207
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = -4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1202
ctrl = 0

;---------------------------------------------------------------------------
; Pig Cop Tank Firing
[Statedef 1202]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 1204
sprpriority = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
value = S200,0
volumescale = 130

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
trigger2 = animelem = 6
helpertype = normal ;player
name = "Bullets"
ID = 1205
stateno = 1205
pos = -10,-71
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0
size.xscale = 1.25
size.yscale = 0.9

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
trigger2 = animelem = 6
helpertype = normal ;player
name = "Bullets"
ID = 1205
stateno = 1205
pos = -10,-62
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0
size.xscale = 1.25
size.yscale = 0.9

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
trigger2 = animelem = 8
helpertype = normal ;player
name = "Bullets"
ID = 1205
stateno = 1205
pos = 48,-71
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0
size.xscale = 1.25
size.yscale = 0.9

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
trigger2 = animelem = 8
helpertype = normal ;player
name = "Bullets"
ID = 1205
stateno = 1205
pos = 48,-62
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0
size.xscale = 1.25
size.yscale = 0.9

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 1203
ctrl = 0

;---------------------------------------------------------------------------
; Pig Cop Tank Self Destructing
[Statedef 1203]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 1203
sprpriority = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2400,1
volumescale = 130

[State 0, Helper]
type = Helper
trigger1 = time = 15
helpertype = normal ;player
name = "Explosion"
ID = 1204
stateno = 1204
pos = 0,-50
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 0.75
size.yscale = 0.75

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 17
value = S3000,3
volumescale = 130

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Pig Cop Tank Self Destruct
[Statedef 1204]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,-0.75
anim = 2301
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2300,1
volumescale = 130

[State 0, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, HP
animtype  = Hard
damage    = 90, 28
priority  = 7,Hit
hitflag = MAFD
guardflag = MA
pausetime = 0,12
sparkno = S7001
guard.sparkno = S7003
sparkxy = 0,0
hitsound   = S5,3
guardsound = S6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 22
ground.velocity = -6,-4.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
guard.velocity = -12
air.velocity = -8,-4.5
airguard.velocity = -8,-4.5
fall = 1
fall.recover = 0
sprpriority = 3

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Pig Cop Tank Bullets
; CNS difficulty: easy
[Statedef 1205]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 16,-2+random%5
anim = 201
sprpriority = 2

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, SP
animtype  = Medium
damage    = 18,4
guardflag = MA
pausetime = 0,8
sparkno = S70000
guard.sparkno = S7003
sparkxy = -10,0
hitsound   = S5,0
guardsound = S6,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = -3
air.velocity = -3,-4

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 90
trigger2 = movecontact

;---------------------------------------------------------------------------
; Steroids
[Statedef 1300]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 1001
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0088

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1001,0
volumescale = 130

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1300
ID = 1300
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 2
fv = 12
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 2
fv = 15
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 2
fv = 14
value = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 2
trigger1 = numexplod(6123)
id = 6123

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S1300,0
volumescale = 180
channel = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = animtime = 0
time = 850
length = 30
trans = add1
paladd = 0,0,0
palmul = 1,1,1
palbright = 10,10,10
palcontrast = 156,156,156

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Steroids Aura
[Statedef 1301]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 9999
sprpriority = -2

[State 0, ChangeAnim] 
type = ChangeAnim
trigger1 = root, movetype != H
trigger1 = selfanimexist(root,anim)
elem  = root, animelemno(0)
value = root, anim

[State 0, ChangeAnim] 
type = ChangeAnim
trigger1 = root, movetype = H
trigger1 = root, anim >= 5000
trigger1 = root, anim <= 5300
trigger1 = selfanimexist(root,anim)
elem  = root, animelemno(0)
value = root, anim

[State 0, Turn]
type = Turn
trigger1 = facing != root, facing

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1300,1
volumescale = 130

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = 2
pos = -2,0+(time/2)
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 1+(time*0.011),1+(time*0.011)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-(time*10),0+(time*10)

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 25
trigger2 = root, fvar(14) <= 0


;---------------------------------------------------------------------------
; Holoduke
[Statedef 1400]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 1001
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0088

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1001,0
volumescale = 130

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1400
ID = 1400
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "Holoduke"
ID = 1401
stateno = 1401
pos = 35,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 0.8
size.yscale = 0.8

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 2
fv = 12
value = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 2
trigger1 = numexplod(6124)
id = 6124

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Holoduke (Root)
[Statedef 1401]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 9999
sprpriority = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1400,0
volumescale = 170

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Holoduke"
ID = 1402
stateno = 1402
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 251

;---------------------------------------------------------------------------
; Holoduke (Blocker)
[Statedef 1402]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 1401
sprpriority = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 0
time = 250
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time <= 10
value = 0
scale = 0+(time*0.1),0.75+(time*0.025)

[State 0, Trans]
type = Trans
trigger1 = time < 10
trans = addalpha
alpha = 0+(time*25),256-(time*25)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S1400,1+random%4
volumescale = 170

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time <= 250
value = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time > 250
value = 0

[State 0, Trans]
type = Trans
trigger1 = time >= 250
trans = addalpha
alpha = 256-((time-250)*10),0+((time-250)*10)

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 275

;---------------------------------------------------------------------------
; Chaingun Cannon (Stand)
[Statedef 2100]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1000
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0088

[State 0, VelSet]
type = VelSet
triggerall = time <= 35
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
x = const(velocity.walk.fwd.x)+(ceil(fvar(14)*const(velocity.walk.fwd.x)))

[State 0, VelSet]
type = VelSet
triggerall = time <= 35
trigger1 = command != "holdfwd"
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)+(ceil(fvar(14)*const(velocity.walk.back.x)))

[State 0, VelSet]
type = VelSet
triggerall = time <= 35
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2100
ID = 2100
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 2000, 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 10
fv = 11
value = -1

[State 0, Helper]
type = Helper
trigger1 = time = 10
trigger2 = time = 13
trigger3 = time = 16
helpertype = normal ;player
name = "Chaingun"
ID = 200
stateno = 2101 
pos = 54,-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 2
size.yscale = 1.5

[State 0, Helper]
type = Helper
trigger1 = time = 19
helpertype = normal ;player
name = "Chaingun"
ID = 200
stateno = 2103
pos = 54,-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 2
size.yscale = 1.5

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = fvar(11) != 0
trigger1 = time >= 20
trigger1 = command = "z" || command = "hold_z"
id = 2100

[State 0, ChangeState]
type = ChangeState
trigger1 = fvar(11) != 0
trigger1 = time >= 20
trigger1 = command = "z" || command = "hold_z"
value = 21000
ctrl = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Chaingun Cannon (Stand, Second Burst)
[Statedef 21000]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 30
ctrl = 0
velset = 0,0
anim = 10000
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0054

[State 0, VelSet]
type = VelSet
triggerall = time <= 35
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
x = const(velocity.walk.fwd.x)

[State 0, VelSet]
type = VelSet
triggerall = time <= 35
trigger1 = command != "holdfwd"
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 0, VelSet]
type = VelSet
triggerall = time <= 35
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2101
ID = 2100
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
fv = 11
value = -1

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger2 = time = 3
trigger3 = time = 6
helpertype = normal ;player
name = "Chaingun"
ID = 200
stateno = 2101 
pos = 54,-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 2
size.yscale = 1.5

[State 0, Helper]
type = Helper
trigger1 = time = 9
helpertype = normal ;player
name = "Chaingun"
ID = 200
stateno = 2103
pos = 54,-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 2
size.yscale = 1.5

[State 210, 5]
type = ChangeState
trigger1 = time >= 75
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Chaingun
; CNS difficulty: easy
[Statedef 2101]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 200
sprpriority = 5

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root, stateno = 2100
time = 1
pos = 54,-70

[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
trigger2 = Time = 1
trigger3 = Time = 2
value = 2000, 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Chaingun Bullet"
ID = 2102
stateno = 2102 
pos = -10,-4+random%8
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0
size.xscale = 1.75
size.yscale = 0.5

[State 0, Helper]
type = Helper
trigger1 = time = 1
helpertype = normal ;player
name = "Chaingun Bullet"
ID = 2102
stateno = 21020 
pos = -10,-4+random%8
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0
size.xscale = 1.75
size.yscale = 0.5

[State 0, Helper]
type = Helper
trigger1 = time = 2
helpertype = normal ;player
name = "Chaingun Bullet"
ID = 2102
stateno = 2102 
pos = -10,-4+random%8
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0
size.xscale = 1.75
size.yscale = 0.5

[State 200, 2]
type = DestroySelf
trigger1 = AnimTime = 0


;---------------------------------------------------------------------------
; Chaingun Bullet
; CNS difficulty: easy
[Statedef 2102]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 19,-3+random%6
anim = 201
sprpriority = -2

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, SP
animtype  = Medium
damage    = 9, 2
guardflag = MA
pausetime = 0,1
sparkno = S7004
guard.sparkno = S7003
sparkxy = -10,0
hitsound   = S5,50
guardsound = S6,1
ground.type = High
ground.slidetime = 9
ground.hittime  = 12
ground.velocity = -1
air.velocity = -1,-3

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 120
trigger2 = movecontact

;---------------------------------------------------------------------------
; Chaingun Bullet
; CNS difficulty: easy
[Statedef 21020]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 19,-3+random%6
anim = 201
sprpriority = -2

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, SP
animtype  = Medium
damage    = 9, 2
guardflag = MA
pausetime = 0,1
sparkno = S7004
guard.sparkno = S7003
sparkxy = -10,0
hitsound   = S5,50
guardsound = S6,1
ground.type = Low
ground.slidetime = 9
ground.hittime  = 12
ground.velocity = -1
air.velocity = -1,-3

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 120
trigger2 = movecontact


;---------------------------------------------------------------------------
; Chaingun
; CNS difficulty: easy
[Statedef 2103]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 200
sprpriority = 5

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root, stateno = 2100
time = 1
pos = 54,-70

[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
value = 2000, 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Chaingun Bullet"
ID = 2102
stateno = 2104 
pos = -10,-4+random%8
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0
size.xscale = 1.75
size.yscale = 0.5

[State 200, 2]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; Last Chaingun Bullet
; CNS difficulty: easy
[Statedef 2104]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 19,-1+random%2
anim = 201
sprpriority = -2

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, SP
animtype  = Medium
damage    = 9, 2
guardflag = MA
pausetime = 0,1
sparkno = S7004
guard.sparkno = S7003
sparkxy = -10,0
hitsound   = S5,5
guardsound = S6,1
ground.type = High
ground.slidetime = 9
ground.hittime  = 12
ground.velocity = -3,-3
air.velocity = -3,-3
fall = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 120
trigger2 = movecontact

;---------------------------------------------------------------------------
; Throwing Knife (Stand)
[Statedef 2200]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1010
sprpriority = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0091

[State 0, VelSet]
type = VelSet
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
x = const(velocity.walk.fwd.x)+(ceil(fvar(14)*const(velocity.walk.fwd.x)))

[State 0, VelSet]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)+(ceil(fvar(14)*const(velocity.walk.back.x)))

[State 0, VelSet]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 8
fv = 11
value = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S0,4
volumescale = 130

[State 0, Helper]
type = Helper
trigger1 = time = 8
helpertype = normal ;player
name = "Knife"
ID = 2201
stateno = 2201 
pos = 22,-63
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 0.75
size.yscale = 0.75

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Throwing Knife (Stand)
[Statedef 2201]
type    = A
movetype= A
physics = N
ctrl = 0
velset = 28,-1+random%3
anim = 2200
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,5
volumescale = 130

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 22
value = -25

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(22)
ignorehitpause = 0

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, SP
animtype  = Hard
damage    = 72,26
priority  = 7, Hit
hitflag = MAF
guardflag = MA
pausetime = 0,18
sparkno = S7004
guard.sparkno = S7003
sparkxy = -10,-5+random%10
hitsound   = S5,6
guardsound = S6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 17
ground.velocity = -1,-1.25
air.velocity = -1,-0.8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = moveguarded
value = 2202
ctrl = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
trigger2 = movehit

;---------------------------------------------------------------------------
; Throwing Knife (Stand)
[Statedef 2202]
type    = A
movetype= I
physics = N
ctrl = 0
velset = -3-random%2,-9
anim = 2201
sprpriority = 3

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 22
value = 35

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(22)
ignorehitpause = 0

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.57

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Pipebomb (Stand)
[Statedef 2300]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0
anim = 1010
sprpriority = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0088

[State 0, VelSet]
type = VelSet
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
x = const(velocity.walk.fwd.x)+(ceil(fvar(14)*const(velocity.walk.fwd.x)))

[State 0, VelSet]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)+(ceil(fvar(14)*const(velocity.walk.back.x)))

[State 0, VelSet]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S0,4
volumescale = 130

[State 0, Helper]
type = Helper
trigger1 = time = 8
helpertype = normal ;player
name = "Pipebomb"
ID = 2301
stateno = 2301 
pos = 40,-58
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 0.5
size.yscale = 0.5

[State 0, VarSet]
type = VarSet
trigger1 = time = 8
fv = 10
value = 13

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 24
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Pipe Bomb
[Statedef 2301]
type    = A
movetype= A
physics = N
ctrl = 0
velset = 2,-7.7
anim = 2300
sprpriority = 3

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 23
value = -3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(23)
ignorehitpause = 0

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.47

[State 0, ChangeState]
type = ChangeState
trigger1 = root, stateno = 3300
trigger1 = root, time >= 6
trigger2 = root, stateno = 7300
trigger2 = root, time >= 6
value = 2305
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = vel y >= 0
trigger1 = pos y >= -10
value = 2302
ctrl = 0

;---------------------------------------------------------------------------
; Pipe Bomb
[Statedef 2302]
type    = A
movetype= A
physics = N
ctrl = 0
velset = 2,-6.8
anim = 2300
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2300,0
volumescale = 200

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 23
value = -12

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(23)
ignorehitpause = 0

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.57

[State 0, ChangeState]
type = ChangeState
trigger1 = root, stateno = 3300
trigger1 = root, time >= 6
trigger2 = root, stateno = 7300
trigger2 = root, time >= 6
value = 2305
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = vel y >= 0
trigger1 = pos y >= -10
value = 2303
ctrl = 0

;---------------------------------------------------------------------------
; Pipe Bomb
[Statedef 2303]
type    = A
movetype= A
physics = N
ctrl = 0
velset = 1,-3.8
anim = 2300
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2300,0
volumescale = 200

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(23)
ignorehitpause = 0

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.47

[State 0, ChangeState]
type = ChangeState
trigger1 = root, stateno = 3300
trigger1 = root, time >= 6
trigger2 = root, stateno = 7300
trigger2 = root, time >= 6
value = 2305
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = vel y >= 0
trigger1 = pos y >= 0
value = 2304
ctrl = 0


;---------------------------------------------------------------------------
; Pipe Bomb
[Statedef 2304]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 2300
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2300,0
volumescale = 200

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(23)
ignorehitpause = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = root, stateno = 3300
trigger1 = root, time >= 6
trigger2 = root, stateno = 7300
trigger2 = root, time >= 6
trigger3 = time >= 200
value = 2305
ctrl = 0

;---------------------------------------------------------------------------
; Pipe Bomb Explosion (Delay to allow for blocking)
[Statedef 2305]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 2300
sprpriority = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(23)
ignorehitpause = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2302
ID = 2302
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.25,0.25
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 2
removeongethit = 0

[State 0, Helper]
type = Helper
trigger1 = time = 4
helpertype = normal ;player
name = "Explosion"
ID = 2306
stateno = 2306 
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 0.5
size.yscale = 0.5

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 4

;---------------------------------------------------------------------------
; Pipe Bomb Explosion
[Statedef 2306]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,-1.5
anim = 2301
sprpriority = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2300,1
volumescale = 130

[State 0, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, SP
animtype  = Hard
damage    = 135, 16
priority  = 7,Hit
hitflag = MAFD
guardflag = MA
pausetime = 0,12
sparkno = S7001
guard.sparkno = S7003
sparkxy = 0,0
hitsound   = S5,3
guardsound = S6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 22
ground.velocity = -6,-4.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
guard.velocity = -10
air.velocity = -6,-4.5
airguard.velocity = -6,-4.5
fall = 1
fall.recover = 0
sprpriority = 6

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Pipebomb Detonator (Stand)
[Statedef 3300]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0
anim = 3300
sprpriority = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0054

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3300,random%5
volumescale = 180
channel = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2313
ID = 2313
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, VelSet]
type = VelSet
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
x = const(velocity.walk.fwd.x)+(ceil(fvar(14)*const(velocity.walk.fwd.x)))

[State 0, VelSet]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)+(ceil(fvar(14)*const(velocity.walk.back.x)))

[State 0, VelSet]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 6
fv = 11
value = -1

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Laser Tripmine (Stand)
[Statedef 2400]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1051
sprpriority = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0088

[State 0, Helper]
type = Helper
trigger1 = time = 6
helpertype = normal ;player
name = "Tripmine"
ID = 2401
stateno = 2401 
pos = 18,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 0.5
size.yscale = 0.5

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 6
fv = 11
value = -1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Tripmine
; CNS difficulty: basic
[Statedef 2401]
type     = S
movetype = I
physics  = N
ctrl = 0
anim = 2400
velset = 0,0
sprpriority = -5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosSet]
type = PosSet
trigger1 = pos y != 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2401
ID = 2401
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 400
pausemovetime = 0
scale = 1,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2400,0
volumescale = 130

[State 0, ChangeState]
type = ChangeState
trigger1 = p2bodydist x >= -20
trigger1 = p2bodydist x <= 20
trigger2 = time >= 400
value = 2402
ctrl = 0

;---------------------------------------------------------------------------
; Tripmine Triggered
[Statedef 2402]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 2400
sprpriority = 6

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2401)
id = 2401

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2400,1
volumescale = 130

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 5
value = 2403
ctrl = 0

;---------------------------------------------------------------------------
; Tripmine Explosion
[Statedef 2403]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,-1.5
anim = 2301
sprpriority = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2400,1
volumescale = 130

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2300,1
volumescale = 130

[State 0, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, SP
animtype  = Hard
damage    = 73, 8
priority  = 7,Hit
hitflag = MAFD
guardflag = MA
pausetime = 0,6
sparkno = S7001
guard.sparkno = S7003
sparkxy = 0,0
hitsound   = S5,3
guardsound = S6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 22
ground.velocity = -1,-2.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
guard.velocity = -3
air.velocity = -1,-2.5
airguard.velocity = -1,-2.5
fall = 1
fall.recover = 0
sprpriority = 6

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Freezethrower (Stand)
[Statedef 2500]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1000
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0088

[State 0, VelSet]
type = VelSet
trigger1 = var(59) = 0
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
trigger2 = var(59) != 0
x = const(velocity.walk.fwd.x)/4+(ceil(fvar(14)*const(velocity.walk.fwd.x)/4))

[State 0, VelSet]
type = VelSet
triggerall = var(59) = 0
trigger1 = command != "holdfwd"
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)/4+(ceil(fvar(14)*const(velocity.walk.back.x)/4))

[State 0, VelSet]
type = VelSet
triggerall = var(59) = 0
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2500
ID = 2500
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 2000, 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 10
fv = 11
value = -1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 10
value = 2500, 1

[State 0, Helper]
type = Helper
trigger1 = time = 10
trigger2 = time = 13
trigger3 = time = 16
helpertype = normal ;player
name = "Freezethrower"
ID = 200
stateno = 2501 
pos = 44,-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 0.15
size.yscale = 0.15

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = fvar(11) != 0
triggerall = time >= 11
trigger1 = command = "z" || command = "hold_z"
trigger2 = var(59) != 0
trigger2 = enemynear, movetype = H
trigger2 = enemynear, statetype != L
id = 2500

[State 0, ChangeState]
type = ChangeState
triggerall = fvar(11) != 0
triggerall = time >= 11
trigger1 = command = "z"  || command = "hold_z"
trigger2 = var(59) != 0
trigger2 = enemynear, movetype = H
trigger2 = enemynear, statetype != L
value = 25000
ctrl = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Freezethrower Projectile (Stand)
[Statedef 2501]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 9,0
anim = 2501
sprpriority = -2

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, SP
animtype  = Medium
damage    = 5, 2
guardflag = MA
pausetime = 0,24
sparkno = S70000
guard.sparkno = S7003
sparkxy = -10,0
hitsound   = S2500,0
guardsound = S6,1
ground.type = High
ground.slidetime = 9
ground.hittime  = 12
ground.velocity = -1
air.velocity = -1,-3
palfx.time = 24
palfx.add = 0,50,240
palfx.mul = 120,224,150
palfx.sinadd = 0,0,0,10

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 90
trigger2 = movecontact

;---------------------------------------------------------------------------
; Freezethrower (Stand)
[Statedef 25000]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0
anim = 10000
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.005

[State 0, VelSet]
type = VelSet
trigger1 = var(59) = 0
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
trigger2 = var(59) != 0
x = const(velocity.walk.fwd.x)/4+(ceil(fvar(14)*const(velocity.walk.fwd.x)/4))

[State 0, VelSet]
type = VelSet
triggerall = var(59) = 0
trigger1 = command != "holdfwd"
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)/4+(ceil(fvar(14)*const(velocity.walk.back.x)/4))

[State 0, VelSet]
type = VelSet
triggerall = var(59) = 0
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 25000
ID = 2500
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 5
fv = 11
value = -1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 5
value = 2500, 1

[State 0, Helper]
type = Helper
trigger1 = time = 5
trigger2 = time = 8
trigger3 = time = 11
helpertype = normal ;player
name = "Freezethrower"
ID = 200
stateno = 2501 
pos = 44,-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 0.15
size.yscale = 0.15

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = fvar(11) != 0
triggerall = time >= 11
trigger1 = command = "z" || command = "hold_z"
trigger2 = var(59) != 0
trigger2 = enemynear, movetype = H
trigger2 = enemynear, statetype != L
id = 2500

[State 0, ChangeState]
type = ChangeState
triggerall = fvar(11) != 0
triggerall = time >= 11
trigger1 = command = "z" || command = "hold_z"
trigger2 = var(59) != 0
trigger2 = enemynear, movetype = H
trigger2 = enemynear, statetype != L
value = 25000
ctrl = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Flamethrower (Stand)
[Statedef 2600]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1000
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0088

[State 0, VelSet]
type = VelSet
trigger1 = var(59) = 0
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
trigger2 = var(59) != 0
x = const(velocity.walk.fwd.x)/4+(ceil(fvar(14)*const(velocity.walk.fwd.x)/4))

[State 0, VelSet]
type = VelSet
triggerall = var(59) = 0
trigger1 = command != "holdfwd"
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)/4+(ceil(fvar(14)*const(velocity.walk.back.x)/4))

[State 0, VelSet]
type = VelSet
triggerall = var(59) = 0
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0


[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2600
ID = 2600
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 2000, 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 10
fv = 11
value = -1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 10
value = 2600, 1

[State 0, Helper]
type = Helper
trigger1 = time = 10
trigger2 = time = 13
trigger3 = time = 16
helpertype = normal ;player
name = "Flamethrower"
ID = 200
stateno = 2601 
pos = 44,-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = time = 10
trigger2 = time = 13
trigger3 = time = 16
helpertype = normal ;player
name = "Flamethrower"
ID = 200
stateno = 2601 
pos = 44,-68+random%4
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = fvar(11) != 0
triggerall = time >= 11
trigger1 = command = "z" || command = "hold_z"
trigger2 = var(59) != 0
trigger2 = enemynear, movetype = H
trigger2 = enemynear, statetype != L
id = 2600

[State 0, ChangeState]
type = ChangeState
triggerall = fvar(11) != 0
triggerall = time >= 11
trigger1 = command = "z"  || command = "hold_z"
trigger2 = var(59) != 0
trigger2 = enemynear, movetype = H
trigger2 = enemynear, statetype != L
value = 26000
ctrl = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Flamethrower (Stand)
[Statedef 26000]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0
anim = 10000
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.005

[State 0, VelSet]
type = VelSet
trigger1 = var(59) = 0
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
trigger2 = var(59) != 0
x = const(velocity.walk.fwd.x)/4+(ceil(fvar(14)*const(velocity.walk.fwd.x)/4))

[State 0, VelSet]
type = VelSet
triggerall = var(59) = 0
trigger1 = command != "holdfwd"
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)/4+(ceil(fvar(14)*const(velocity.walk.back.x)/4))

[State 0, VelSet]
type = VelSet
triggerall = var(59) = 0
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 26000
ID = 2600
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 5
fv = 11
value = -1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 5
value = 2600, 1

[State 0, Helper]
type = Helper
trigger1 = time = 5
trigger2 = time = 8
trigger3 = time = 11
helpertype = normal ;player
name = "Flameethrower"
ID = 200
stateno = 2601 
pos = 44,-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = time = 5
trigger2 = time = 8
trigger3 = time = 11
helpertype = normal ;player
name = "Flameethrower"
ID = 200
stateno = 2601 
pos = 44,-68+random%4
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = fvar(11) != 0
triggerall = time >= 11
trigger1 = command = "z" || command = "hold_z"
trigger2 = var(59) != 0
trigger2 = enemynear, movetype = H
trigger2 = enemynear, statetype != L
id = 2600

[State 0, ChangeState]
type = ChangeState
triggerall = fvar(11) != 0
triggerall = time >= 11
trigger1 = command = "z" || command = "hold_z"
trigger2 = var(59) != 0
trigger2 = enemynear, movetype = H
trigger2 = enemynear, statetype != L
value = 26000
ctrl = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Flamethrower Projectile (Stand)
[Statedef 2601]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 8+random%2,-2+random%5
anim = 2601
sprpriority = -2

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = -0.47

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, SP
animtype  = Medium
damage    = 6, 1
guardflag = MA
pausetime = 0,8
sparkno = -1
guard.sparkno = S7003
sparkxy = -10,0
hitsound   = S2600,0
guardsound = S6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = -2
air.velocity = -2,-3
palfx.time = 8
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 0,0,0,10

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; RPG (Stand)
[Statedef 2700]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1000
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0088

[State 0, VelSet]
type = VelSet
triggerall = time <= 35
trigger1 = command = "holdfwd"
trigger1 = command != "holdback"
x = const(velocity.walk.fwd.x)/2+(ceil(fvar(14)*const(velocity.walk.fwd.x)/2))

[State 0, VelSet]
type = VelSet
triggerall = time <= 35
trigger1 = command != "holdfwd"
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)/2+(ceil(fvar(14)*const(velocity.walk.back.x)/2))

[State 0, VelSet]
type = VelSet
triggerall = time <= 35
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
x = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2700
ID = 2700
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 2000, 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 10
fv = 11
value = -1

[State 210, 1]
type = PlaySnd
trigger1 = time = 10
value = 2700, 0

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal ;player
name = "RPG"
ID = 200
stateno = 2701 
pos = 52,-76
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Rocket
; CNS difficulty: easy
[Statedef 2701]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 8,-1+random%3
anim = 2701
sprpriority = -2

[State 0, MakeDust]
type = MakeDust
trigger1 = timemod = 4, 1
pos = -42, 0
spacing = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
x = 0.57

[State 0, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, SP
animtype  = Medium
damage    = 105, 10
guardflag = MA
pausetime = 0,12
sparkno = S7000
guard.sparkno = S7003
sparkxy = -10,0
hitsound   = S5,1
guardsound = S6,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 14
ground.velocity = -2
air.velocity = -2,-1.5

[State 0, Helper]
type = Helper
trigger1 = movecontact
helpertype = normal ;player
name = "Rocket"
ID = 2702
stateno = 2702 
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 0.5
size.yscale = 0.5

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 100
trigger2 = movecontact

;---------------------------------------------------------------------------
; Rocket
; CNS difficulty: easy
[Statedef 2702]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,-0.75
anim = 2301
sprpriority = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2300,1
volumescale = 130

[State 0, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, HP
animtype  = Hard
damage    = 140, 32
priority  = 7,Hit
hitflag = MAFD
guardflag = MA
pausetime = 0,12
sparkno = S7002
guard.sparkno = S7003
sparkxy = 0,0
hitsound   = S5,3
guardsound = S6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 22
ground.velocity = -6,-4.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
guard.velocity = -12
air.velocity = -8,-4.5
airguard.velocity = -8,-4.5
fall = 1
fall.recover = 0
sprpriority = 6

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Shrinker (Stand)
[Statedef 2800]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 60
ctrl = 0
velset = 0,0
anim = 1000
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0088

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2800
ID = 2800
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 2000, 0

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal ;player
name = "Shrink Ray"
ID = 2801 ;Not 200 to allow Duke to use the pistol as a follow up after the Shrink Ray has latched onto an enemy.
stateno = 2801 
pos = 54,-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 30
fv = 11
value = -1

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Shrink Ray
[Statedef 2801]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 2801
sprpriority = 2

[State 210, 1]
type = PlaySnd
trigger1 = time = 0
value = 2800, 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time <= 20
value = 0
scale = 0+(time*0.05),0+(time*0.05)

[State 0, BindToRoot]
type = BindToRoot
trigger1 = time <= 20
time = 1
pos = 54,-70

[State 210, 1]
type = PlaySnd
trigger1 = time = 21
value = 2800, 0

[State 0, VelSet]
type = VelSet
trigger1 = time >= 21
x = 18

[State 0, HitDef]
type = HitDef
Trigger1 = Time = 0
attr = S, SP
hitflag = MA-
priority = 1, Miss
sparkno = S28010
p1sprpriority = 1
p1facing = 1
p2facing = 1
fall = 1

[State 0, TargetState]
type = TargetState
triggerall = NumTarget
trigger1 = movehit
value = 2806

[State 0, ChangeState]
type = ChangeState
trigger1 = movehit
value = 2805
ctrl = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time <= 20
trigger1 = root, stateno != 2800
trigger2 = time >= 110

;---------------------------------------------------------------------------
; Shrink Ray (Waiting)
[Statedef 2805]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 9999
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2800, 2

[State 0, PosSet]
type = PosSet
trigger1 = numtarget
x = target, pos x
y = target, pos y - 20

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 1
trigger1 = target, stateno != 2806
value = 2807
ctrl = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 100
trigger2 = !numtarget

;---------------------------------------------------------------------------
; Hit by Shrink Ray
[Statedef 2806]
type    = S
movetype= H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 2

[State 0, DestroySelf]
type = DestroySelf
trigger1 = IsHelper

[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time <= 9
value = 0
scale = 1-(time*0.09),1-(time*0.09)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 10
trigger1 = time < 91
value = 0
scale = 0.2,0.2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 91
value = 0
scale = 0.2+((time-91)*0.09),0.2+((time-91)*0.09)

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 2806

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y < 0
statetype = A 
movetype = H
physics = N

[State 0, SelfState]
type = SelfState
trigger1 = pos y < 0
trigger1 = time >= 100
value = 5050
ctrl = 0

[State 0, SelfState]
type = SelfState
trigger1 = pos y >= 0
trigger1 = time >= 100
value = 5100
ctrl = 0

;---------------------------------------------------------------------------
; Shrink Ray (Detonate)
[Statedef 2807]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,-4.1
anim = 2805
sprpriority = 2

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = time = 1
value = -ceil(lifemax/8)
kill = 1
absolute = 1
persistent = 0

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = time = 1
value = -50
kill = 1
absolute = 1
persistent = 0

[State 0, VelAdd]
type = VelAdd
trigger1 = time >= 8
y = 0.47


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S181,5+random%2
volumescale = 130

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1906
ID = 1906
pos = 0,-55
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.4,1.4
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1907
ID = 1907
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-0.5
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.4,1.4
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1908
ID = 1908
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-6
accel = 0,0.47
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.4,1.4
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0


;---------------------------------------------------------------------------
;Where is it?!
; CNS difficulty: easy
[Statedef 6000]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= floor(1.0235*tickspersecond) 

;---------------------------------------------------------------------------
;Jump Chaingun
; CNS difficulty: easy
[Statedef 6100]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 30
ctrl = 0
anim = 1020
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0088

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2102
ID = 2102
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 2000, 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 10
fv = 11
value = -1

[State 0, Helper]
type = Helper
trigger1 = time = 10
trigger2 = time = 13
trigger3 = time = 16
helpertype = normal ;player
name = "Chaingun"
ID = 200
stateno = 6101 
pos = 54,-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 2
size.yscale = 1.5

[State 0, Helper]
type = Helper
trigger1 = time = 19
helpertype = normal ;player
name = "Chaingun"
ID = 200
stateno = 6103
pos = 54,-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 2
size.yscale = 1.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time < 19
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = S1000,0
volumescale = 230
channel = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = fvar(11) != 0
trigger1 = time >= 20
trigger1 = command = "z" || command = "hold_z"
id = 2102

[State 0, ChangeState]
type = ChangeState
trigger1 = fvar(11) != 0
trigger1 = time >= 20
trigger1 = command = "z" || command = "hold_z"
value = 61000
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = 61030
ctrl = 0

;---------------------------------------------------------------------------
;Jump Chaingun (Second Burst)
; CNS difficulty: easy
[Statedef 61000]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 30
ctrl = 0
anim = 1020
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0054

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2102
ID = 2102
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
fv = 11
value = -1

[State 0, Helper]
type = Helper
trigger1 = time = 0
trigger2 = time = 3
trigger3 = time = 6
helpertype = normal ;player
name = "Chaingun"
ID = 200
stateno = 6101 
pos = 54,-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 2
size.yscale = 1.5

[State 0, Helper]
type = Helper
trigger1 = time = 9
helpertype = normal ;player
name = "Chaingun"
ID = 200
stateno = 6103
pos = 54,-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 2
size.yscale = 1.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time < 9
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = S1000,0
volumescale = 230
channel = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = 61030
ctrl = 0


;---------------------------------------------------------------------------
; Chaingun
; CNS difficulty: easy
[Statedef 6101]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 200
sprpriority = 5

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root, stateno = 6100
time = 1
pos = 54,-70

[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
trigger2 = Time = 1
trigger3 = Time = 2
value = 2000, 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Chaingun Bullet"
ID = 2102
stateno = 6102 
pos = -10,-4+random%8
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0
size.xscale = 1.75
size.yscale = 0.5

[State 0, Helper]
type = Helper
trigger1 = time = 1
helpertype = normal ;player
name = "Chaingun Bullet"
ID = 2102
stateno = 61020 
pos = -10,-4+random%8
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0
size.xscale = 1.75
size.yscale = 0.5

[State 0, Helper]
type = Helper
trigger1 = time = 2
helpertype = normal ;player
name = "Chaingun Bullet"
ID = 2102
stateno = 6102 
pos = -10,-4+random%8
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0
size.xscale = 1.75
size.yscale = 0.5

[State 200, 2]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = root, stateno != 6100
trigger2 = time >= 2

;---------------------------------------------------------------------------
; Chaingun Bullet
; CNS difficulty: easy
[Statedef 6102]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 19,-4+random%8
anim = 201
sprpriority = -2

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, SP
animtype  = Medium
damage    = 9, 2
guardflag = HA
pausetime = 0,1
sparkno = S7004
guard.sparkno = S7003
sparkxy = -10,0
hitsound   = S5,50
guardsound = S6,1
ground.type = High
ground.slidetime = 9
ground.hittime  = 12
ground.velocity = -1
air.velocity = -1,-3

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 120
trigger2 = movecontact

;---------------------------------------------------------------------------
; Chaingun Bullet
; CNS difficulty: easy
[Statedef 61020]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 19,-4+random%8
anim = 201
sprpriority = -2

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, SP
animtype  = Medium
damage    = 9, 2
guardflag = HA
pausetime = 0,1
sparkno = S7004
guard.sparkno = S7003
sparkxy = -10,0
hitsound   = S5,50
guardsound = S6,1
ground.type = Low
ground.slidetime = 9
ground.hittime  = 12
ground.velocity = -1
air.velocity = -1,-3

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 120
trigger2 = movecontact

;---------------------------------------------------------------------------
; Chaingun
; CNS difficulty: easy
[Statedef 6103]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 200
sprpriority = 5

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root, stateno = 6100
time = 1
pos = 54,-70

[State 200, 1]
type = PlaySnd
trigger1 = Time = 0
value = 2000, 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Chaingun Bullet"
ID = 2102
stateno = 6104 
pos = -10,-4+random%8
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0
size.xscale = 1.75
size.yscale = 0.5

[State 200, 2]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; Chaingun
; CNS difficulty: easy
[Statedef 61030]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 1030
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2102)
id = 2102

[State 0, PosSet]
type = PosSet
trigger1 = pos y != 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2103
ID = 2103
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Last Chaingun Bullet
; CNS difficulty: easy
[Statedef 6104]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 19,-3+random%6
anim = 201
sprpriority = -2

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, SP
animtype  = Medium
damage    = 9, 2
guardflag = HA
pausetime = 0,1
sparkno = S7004
guard.sparkno = S7003
sparkxy = -10,0
hitsound   = S5,5
guardsound = S6,1
ground.type = High
ground.slidetime = 9
ground.hittime  = 12
ground.velocity = -3,-3
air.velocity = -3,-3
fall = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 120
trigger2 = movecontact

;---------------------------------------------------------------------------
;Jump Throwing Knife
; CNS difficulty: easy
[Statedef 6200]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 30
ctrl = 0
anim = 1020
sprpriority = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0091

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S0,4
volumescale = 130

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 8
fv = 11
value = -1

[State 0, Helper]
type = Helper
trigger1 = time = 8
helpertype = normal ;player
name = "Knife"
ID = 2201
stateno = 6201 
pos = 0,-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 0.75
size.yscale = 0.75

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time < 8
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = S1000,0
volumescale = 230
channel = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = 62030
ctrl = 0

;---------------------------------------------------------------------------
; Throwing Knife (Air)
[Statedef 6201]
type    = A
movetype= A
physics = N
ctrl = 0
velset = 24,-1+random%3
anim = 2200
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,5
volumescale = 130

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 22
value = -25

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(22)
ignorehitpause = 0

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, SP
animtype  = Hard
damage    = 65,26
priority  = 7, Hit
hitflag = MAF
guardflag = HA
pausetime = 0,18
sparkno = S7004
guard.sparkno = S7003
sparkxy = -10,-5+random%10
hitsound   = S5,6
guardsound = S6,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 17
ground.velocity = -1,-1.25
air.velocity = -1,-0.8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = moveguarded
value = 2202
ctrl = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
trigger2 = movehit

;---------------------------------------------------------------------------
; Throwing Weapon Early Land
; CNS difficulty: easy
[Statedef 62030]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 1030
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2314)
ID = 2314

[State 0, PosSet]
type = PosSet
trigger1 = pos y != 0
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Jump Pipebomb
; CNS difficulty: easy
[Statedef 6300]
type    = A
movetype= A
physics = A
juggle  = 4
ctrl = 0
anim = 1020
sprpriority = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0088

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S0,4
volumescale = 130

[State 0, Helper]
type = Helper
trigger1 = time = 8
helpertype = normal ;player
name = "Pipebomb"
ID = 2301
stateno = 2301
pos = 32,-67
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 0.5
size.yscale = 0.5

[State 0, VarSet]
type = VarSet
trigger1 = time = 8
fv = 10
value = 13

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time < 8
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = S1000,0
volumescale = 230
channel = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = 62030
ctrl = 0

;---------------------------------------------------------------------------
; Pipebomb Detonator (Air)
[Statedef 7300]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 60
ctrl = 0
anim = 1020
sprpriority = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0054

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3300,random%5
volumescale = 180
channel = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2314
ID = 2314
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 6
fv = 11
value = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time < 6
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = S1000,0
volumescale = 230
channel = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = 62030
ctrl = 0

;---------------------------------------------------------------------------
;Jump Tripmine
; CNS difficulty: easy
[Statedef 6400]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 30
ctrl = 0
anim = 1020
sprpriority = 4

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0088

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S0,1
volumescale = 130

[State 0, Helper]
type = Helper
trigger1 = time = 8
helpertype = normal ;player
name = "Tripmine"
ID = 2401
stateno = 6401
pos = 32,-67
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 0.5
size.yscale = 0.5

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 8
fv = 11
value = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time < 8
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = S1000,0
volumescale = 230
channel = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time < 8
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = 2400
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = 62030
ctrl = 0

;---------------------------------------------------------------------------
; Tripmine
; CNS difficulty: basic
[Statedef 6401]
type     = A
movetype = I
physics  = N
ctrl = 0
anim = 2400
velset = 0,-1
sprpriority = 5

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.47

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y >= -10 
value = 2401
ctrl = 0

;---------------------------------------------------------------------------
;Jump Freezethrower
; CNS difficulty: easy
[Statedef 6500]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 30
ctrl = 0
anim = 1020
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0088

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2502
ID = 2502
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 2000, 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 10
fv = 11
value = -1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 10
value = 2500, 1

[State 0, Helper]
type = Helper
trigger1 = time = 10
trigger2 = time = 13
trigger3 = time = 16
helpertype = normal ;player
name = "Freezethrower"
ID = 200
stateno = 2501 
pos = 44,-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 0.15
size.yscale = 0.15

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = fvar(11) != 0
trigger1 = time >= 16
trigger1 = command = "z" || command = "hold_z"
id = 2502

[State 0, ChangeState]
type = ChangeState
trigger1 = fvar(11) != 0
trigger1 = time >= 16
trigger1 = command = "z"  || command = "hold_z"
value = 65000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time < 19
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = S1000,0
volumescale = 230
channel = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = 65030
ctrl = 0

;---------------------------------------------------------------------------
;Jump Freezethrower
; CNS difficulty: easy
[Statedef 65000]
type    = A
movetype= A
physics = A
juggle  = 4
ctrl = 0
anim = 10200
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.005

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 25020
ID = 2502
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 2000, 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 10
fv = 11
value = -1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 10
value = 2500, 1

[State 0, Helper]
type = Helper
trigger1 = time = 10
trigger2 = time = 13
trigger3 = time = 16
helpertype = normal ;player
name = "Freezethrower"
ID = 200
stateno = 2501 
pos = 44,-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 0.15
size.yscale = 0.15

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = fvar(11) != 0
trigger1 = time >= 16
trigger1 = command = "z" || command = "hold_z"
id = 2502

[State 0, ChangeState]
type = ChangeState
trigger1 = fvar(11) != 0
trigger1 = time >= 16
trigger1 = command = "z"  || command = "hold_z"
value = 65000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time < 19
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = S1000,0
volumescale = 230
channel = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = 65030
ctrl = 0

;---------------------------------------------------------------------------
; Freezethrower Land
; CNS difficulty: easy
[Statedef 65030]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 1030
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2502)
id = 2502

[State 0, PosSet]
type = PosSet
trigger1 = pos y != 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2503
ID = 2503
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Jump Flamethrower
; CNS difficulty: easy
[Statedef 6600]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 30
ctrl = 0
anim = 1020
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0088

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2602
ID = 2602
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 2000, 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 10
fv = 11
value = -1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 10
value = 2600, 1

[State 0, Helper]
type = Helper
trigger1 = time = 10
trigger2 = time = 13
trigger3 = time = 16
helpertype = normal ;player
name = "Flamethrower"
ID = 200
stateno = 2601 
pos = 44,-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = fvar(11) != 0
trigger1 = time >= 16
trigger1 = command = "z" || command = "hold_z"
id = 2602

[State 0, ChangeState]
type = ChangeState
trigger1 = fvar(11) != 0
trigger1 = time >= 16
trigger1 = command = "z"  || command = "hold_z"
value = 66000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time < 19
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = S1000,0
volumescale = 230
channel = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = 66030
ctrl = 0

;---------------------------------------------------------------------------
;Jump Flamethrower
; CNS difficulty: easy
[Statedef 66000]
type    = A
movetype= A
physics = A
juggle  = 4
ctrl = 0
anim = 10200
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.005

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 26020
ID = 2602
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 2000, 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 10
fv = 11
value = -1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 10
value = 2600, 1

[State 0, Helper]
type = Helper
trigger1 = time = 10
trigger2 = time = 13
trigger3 = time = 16
helpertype = normal ;player
name = "Freezethrower"
ID = 200
stateno = 2601 
pos = 44,-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = fvar(11) != 0
trigger1 = time >= 16
trigger1 = command = "z" || command = "hold_z"
id = 2602

[State 0, ChangeState]
type = ChangeState
trigger1 = fvar(11) != 0
trigger1 = time >= 16
trigger1 = command = "z"  || command = "hold_z"
value = 66000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time < 19
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = S1000,0
volumescale = 230
channel = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = 66030
ctrl = 0

;---------------------------------------------------------------------------
; Flamethrower Land
; CNS difficulty: easy
[Statedef 66030]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 1030
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2602)
id = 2602

[State 0, PosSet]
type = PosSet
trigger1 = pos y != 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2603
ID = 2603
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Jump RPG
; CNS difficulty: easy
[Statedef 6700]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 30
ctrl = 0
anim = 1020
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0088

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2702
ID = 2702
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 2000, 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 10
fv = 11
value = -1

[State 210, 1]
type = PlaySnd
trigger1 = time = 10
value = 2700, 0

[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal ;player
name = "RPG"
ID = 200
stateno = 6701 
pos = 52,-82
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time < 10
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = S1000,0
volumescale = 230
channel = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = 67030
ctrl = 0

;---------------------------------------------------------------------------
; Rocket
; CNS difficulty: easy
[Statedef 6701]
type    = A
movetype= A
physics = N
ctrl = 0
velset = 8,-1+random%3
anim = 2701
sprpriority = -2

[State 0, MakeDust]
type = MakeDust
trigger1 = timemod = 4, 1
pos = -42, 0
spacing = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
x = 0.57

[State 0, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, SP
animtype  = Medium
damage    = 105, 10
guardflag = HA
pausetime = 0,12
sparkno = S7000
guard.sparkno = S7003
sparkxy = -10,0
hitsound   = S5,1
guardsound = S6,1
ground.type = Low
ground.slidetime = 10
ground.hittime  = 14
ground.velocity = -2
air.velocity = -2,-1.5

[State 0, Helper]
type = Helper
trigger1 = movecontact
helpertype = normal ;player
name = "Rocket"
ID = 6702
stateno = 6702 
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 0.5
size.yscale = 0.5

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 100
trigger2 = movecontact

;---------------------------------------------------------------------------
; Rocket
; CNS difficulty: easy
[Statedef 6702]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,-0.75
anim = 2301
sprpriority = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2300,1
volumescale = 130

[State 0, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, HP
animtype  = Hard
damage    = 140, 32
priority  = 7,Hit
hitflag = MAFD
guardflag = HA
pausetime = 0,12
sparkno = S7002
guard.sparkno = S7003
sparkxy = 0,0
hitsound   = S5,3
guardsound = S6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 22
ground.velocity = -6,-4.5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
guard.velocity = -12
air.velocity = -8,-4.5
airguard.velocity = -8,-4.5
fall = 1
fall.recover = 0
sprpriority = 6

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; RPG Land
; CNS difficulty: easy
[Statedef 67030]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 1030
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2702)
id = 2702

[State 0, PosSet]
type = PosSet
trigger1 = pos y != 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2703
ID = 2703
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Jump Shrinker
; CNS difficulty: easy
[Statedef 6800]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 30
ctrl = 0
anim = 1020
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.0088

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2802
ID = 2802
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 2000, 0

;Same as 2801
[State 0, Helper]
type = Helper
trigger1 = time = 10
helpertype = normal ;player
name = "Shrink Ray"
ID = 2801
stateno = 6801 
pos = 49,-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 30
fv = 11
value = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time < 30
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = S1000,0
volumescale = 230
channel = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = vel y > 0
trigger1 = pos y >= -10
value = 68030
ctrl = 0

;---------------------------------------------------------------------------
; Shrink Ray (Air)
[Statedef 6801]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 2801
sprpriority = 2

[State 210, 1]
type = PlaySnd
trigger1 = time = 0
value = 2800, 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time <= 20
value = 0
scale = 0+(time*0.05),0+(time*0.05)

[State 0, BindToRoot]
type = BindToRoot
trigger1 = time <= 20
time = 1
pos = 49,-70

[State 210, 1]
type = PlaySnd
trigger1 = time = 21
value = 2800, 0

[State 0, VelSet]
type = VelSet
trigger1 = time >= 21
x = 18

[State 0, HitDef]
type = HitDef
Trigger1 = Time = 0
attr = S, ST 
hitflag = MA-
priority = 1, Miss
sparkno = S28010
p1sprpriority = 1
p1facing = 1
p2facing = 1
fall = 1

[State 0, TargetState]
type = TargetState
triggerall = NumTarget
trigger1 = movehit
value = 2806

[State 0, ChangeState]
type = ChangeState
trigger1 = movehit
value = 2805
ctrl = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time <= 20
trigger1 = root, stateno != 6800
trigger2 = time >= 110

;---------------------------------------------------------------------------
; Shrinker Land
; CNS difficulty: easy
[Statedef 68030]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 1030
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2802)
id = 2802

[State 0, PosSet]
type = PosSet
trigger1 = pos y != 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2803
ID = 2803
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Quake Site (hyper)
; CNS difficulty: medium
[Statedef 3000]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 3000
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.016

;Reset Plasma Charge
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = 0

[State 3000, Super A]
type = SuperPause
trigger1 = animelem = 2
pos = 0, -57
anim = S4000
sound = S20, 0
poweradd = -1000

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3001
ID = 3001
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 2000, 0

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3000, 0
volumescale = 130
channel = 3

[State 0, Helper]
type = Helper
trigger1 = time = 6
helpertype = normal ;player
name = "Plasma"
ID = 3002
stateno = 3002 
pos = 54,-70
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
;size.xscale = 
;size.yscale = 

;Plasma Charge Level 2
[State 0, VarSet]
type = VarSet
triggerall = power >= 1000
trigger1 = time = 30
v = 1
value = 1

;Plasma Charge Level 3
[State 0, VarSet]
type = VarSet
triggerall = power >= 1000
trigger1 = time = 52
v = 1
value = 2

[State 0, ChangeState]
type = ChangeState
trigger1 = var(59) = 0
trigger1 = time >= 20
trigger1 = command != "Charge"
trigger2 = time >= 30
trigger2 = power < 1000
trigger2 = var(1) < 1
trigger3 = time >= 52
trigger3 = power < 1000
trigger3 = var(1) < 2
trigger4 = time >= 76
trigger5 = var(59)
trigger5 = time >= 20
trigger5 = enemynear, movetype = A
trigger5 = p2bodydist y >= -70
value = 30000
ctrl = 0

[State 0, PowerAdd]
type = PowerAdd
triggerall = power >= 1000
trigger1 = time = 30
trigger2 = time = 52
value = -1000

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 30
trigger2 = time = 52
time = 5
freq = 98
ampl = 3
phase = 104

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Quake Site (Fire)
; CNS difficulty: medium
[Statedef 30000]
type    = S
movetype= A
physics = S
ctrl = 0
velset = -4-(var(1)*2),0
anim = 30000
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = numhelper(3002)
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(3001)
id = 3001

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 30010
ID = 30010
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3000, 1
volumescale = 130
channel = 3

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = numhelper(3002)
trigger1 = helper(3002), stateno = 3004
value = 30001
ctrl = 1

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Quake Site (Wait for cutscene to play out)
; CNS difficulty: medium
[Statedef 30001]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 18
value = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 640
trigger2 = time >= 10
trigger2 = !numhelper(3002)
value = 1
ctrl = 1

;---------------------------------------------------------------------------
; Plasma Projectile Charge
; CNS difficulty: easy
[Statedef 3002]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 3002
sprpriority = 5

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = 1
pos = 54,-70

[State 0, Trans]
type = Trans
trigger1 = time < 35
trans = addalpha
alpha = floor(56+(time*5.6)),256

[State 0, Trans]
type = Trans
trigger1 = time >= 35
trans = addalpha
alpha = 256,256

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 20
value = time*2
scale = 0+(time*0.05),0+(time*0.05)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 20
value = time*2
scale = 1,1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root, stateno != 3000
trigger1 = root, stateno != 30000

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
trigger2 = root, stateno = 30000
value = 3003
ctrl = 0

;---------------------------------------------------------------------------
; Plasma Projectile Fired
; CNS difficulty: easy
[Statedef 3003]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 12,0
anim = 3003+(root, var(1))
sprpriority = 5

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 5
freq = 146
ampl = 9
phase = 152

[State 0, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype  = Hard
damage    = 100+ceil(root, var(1)*130)
priority  = 5
guardflag = MA
pausetime = 0,15
sparkno = S7002
guard.sparkno = S7003
sparkxy = -10,-5+random%10
hitsound   = S5,4
guardsound = S6,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 17
ground.velocity = -4,-3.5
air.velocity = -4,-3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p1facing = 1
p2facing = 1 
getpower = 0
fall = 1

[State 0, Explod]
type = Explod
trigger1 = root, var(1) <= 0
trigger1 = movehit
anim = 3018
ID = 3018
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 890009
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = root, var(1) = 1
trigger1 = movehit
anim = 30181
ID = 30181
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 890009
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
persistent = 0


[State 0, Explod]
type = Explod
trigger1 = root, var(1) >= 2
trigger1 = movehit
anim = 30182
ID = 30182
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 890009
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
persistent = 0

[State 0, TargetState]
type = TargetState
triggerall = NumTarget
trigger1 = movehit
value = 3005

[State 0, ChangeState]
type = ChangeState
trigger1 = movehit
trigger1 = target, stateno = 3005
trigger1 = enemynear, movetype = H
value = 3004
ctrl = 0

[State 200, 2]
type = DestroySelf
trigger1 = time >= 120

;---------------------------------------------------------------------------
; Cutscene
; CNS difficulty: easy
[Statedef 3004]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
anim = 9999
sprpriority = -1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 20
value = root, fvar(20)

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 21
value = root, fvar(21)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = timerfreeze

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 27
flag = nofg
flag2 = nobardisplay
flag3 = timerfreeze

[State 0, Explod]
type = Explod
trigger1 = time = 27
anim = 3007
ID = 3007
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 353
pausemovetime = 0
scale = 1,1
sprpriority = 890000
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = 1
trigger1 = time >= 27
trigger1 = time < 360
trigger1 = numexplod(3011) < 10
trigger1 = timemod = 5, 1
anim = 3011
ID = 3011
pos = 60,random%240
postype = right
facing = 1
vfacing = 1
bindtime = 1
vel = -9,0
accel = -1.97,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5+((random%7)*0.1),0.5+((random%5)*0.1)
sprpriority = 890002
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = -1
trigger1 = time >= 27
trigger1 = time < 360
trigger1 = numexplod(3011) < 10
trigger1 = timemod = 5, 1
anim = 3011
ID = 3011
pos = -60,random%240
postype = left
facing = 1
vfacing = 1
bindtime = 1
vel = 9,0
accel = 1.97,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.5+((random%7)*0.1),0.5+((random%5)*0.1)
sprpriority = 890002
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = 1
trigger1 = time = 67
anim = 3012
ID = 3012
pos = 20,((fvar(21))/2)+75
postype = right
facing = 1
vfacing = 1
bindtime = 1
vel = -9,0
accel = -1.97,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890002
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = -1
trigger1 = time = 67
anim = 3012
ID = 3012
pos = -20,((fvar(21))/2)+75
postype = left
facing = -1
vfacing = 1
bindtime = 1
vel = 9,0
accel = 1.97,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890002
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = facing = 1
trigger1 = time = 77
trigger2 = time = 140
trigger3 = time = 193
trigger4 = time = 246
anim = 1905
ID = 1905
pos = -160,((fvar(21))/2)+75
postype = right
facing = 1
vfacing = 1
bindtime = 1
vel = -9,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.5,1.5
sprpriority = 890001
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = facing = 1
trigger1 = time = 299
anim = 1905
ID = 1905
pos = -160,((fvar(21))/2)+75
postype = right
facing = 1
vfacing = 1
bindtime = 1
vel = -9,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.5,1.5
sprpriority = 890004
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = 1
trigger1 = time = 77
anim = 30120
ID = 30120
pos = -160,((fvar(21))/2)+75
postype = right
facing = 1
vfacing = 1
bindtime = 1
vel = -9,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890003
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = facing = -1
trigger1 = time = 77
trigger2 = time = 140
trigger3 = time = 193
trigger4 = time = 246
anim = 1905
ID = 1905
pos = 160,((fvar(21))/2)+75
postype = left
facing = -1
vfacing = 1
bindtime = 1
vel = 9,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.5,1.5
sprpriority = 890001
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = facing = -1
trigger1 = time = 299
anim = 1905
ID = 1905
pos = 160,((fvar(21))/2)+75
postype = left
facing = -1
vfacing = 1
bindtime = 1
vel = 9,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.5,1.5
sprpriority = 890004
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = -1
trigger1 = time = 77
anim = 30120
ID = 30120
pos = 160,((fvar(21))/2)+75
postype = left
facing = -1
vfacing = 1
bindtime = 1
vel = 9,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890003
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, HitAdd]
type = HitAdd
trigger1 = time = 77
trigger2 = time = 140
trigger3 = time = 193
trigger4 = time = 246
trigger5 = time = 299
trigger6 = timemod = 10, 1
trigger6 = time >= 430
trigger6 = time <= 700
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 77
trigger2 = time = 140
trigger3 = time = 193
trigger4 = time = 246
trigger5 = time = 299
value = S5, 3
volumescale = 90
abspan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 77
value = S3000,3
volumescale = 130
abspan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 140
value = S3000,4
volumescale = 130
abspan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 193
value = S3000,5
volumescale = 130
abspan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 246
value = S3000,6
volumescale = 130
abspan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 299
value = S3000,7
volumescale = 130
abspan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 77
trigger2 = time = 140
trigger3 = time = 193
trigger5 = time = 299
value = S181, 6
volumescale = 130
abspan = 0

[State 0, Explod]
type = Explod
trigger1 = facing = 1
trigger1 = time = 130
anim = 3013
ID = 3013
pos = 20,((fvar(21))/2)+75
postype = right
facing = 1
vfacing = 1
bindtime = 1
vel = -9,0
accel = -1.97,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890002
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = -1
trigger1 = time = 130
anim = 3013
ID = 3013
pos = -20,((fvar(21))/2)+75
postype = left
facing = -1
vfacing = 1
bindtime = 1
vel = 9,0
accel = 1.97,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890002
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = 1
trigger1 = time = 140
anim = 30130
ID = 30130
pos = -160,((fvar(21))/2)+75
postype = right
facing = 1
vfacing = 1
bindtime = 1
vel = -9,-2
accel = 0,0.47
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890003
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = -1
trigger1 = time = 140
anim = 30130
ID = 30130
pos = 160,((fvar(21))/2)+75
postype = left
facing = -1
vfacing = 1
bindtime = 1
vel = 9,-2
accel = 0,0.47
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890003
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = 1
trigger1 = time = 140
anim = 30131
ID = 30131
pos = -142,((fvar(21))/2)
postype = right
facing = -1
vfacing = 1
bindtime = 1
vel = -5,-2
accel = 0,0.47
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890003
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = -1
trigger1 = time = 140
anim = 30131
ID = 30131
pos = 142,((fvar(21))/2)
postype = left
facing = 1
vfacing = 1
bindtime = 1
vel = 5,-2
accel = 0,0.47
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890003
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = 1
trigger1 = time = 140
anim = 30132
ID = 30132
pos = -238,((fvar(21))/2)
postype = right
facing = 1
vfacing = 1
bindtime = 1
vel = -7,-4
accel = 0,0.47
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890003
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = -1
trigger1 = time = 140
anim = 30132
ID = 30132
pos = 238,((fvar(21))/2)
postype = left
facing = -1
vfacing = 1
bindtime = 1
vel = 7,-4
accel = 0,0.47
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890003
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = 1
trigger1 = time = 140
anim = 30133
ID = 30133
pos = -170,((fvar(21))/2)-15
postype = right
facing = 1
vfacing = 1
bindtime = 1
vel = -9,-7.2
accel = 0,0.47
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890003
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = -1
trigger1 = time = 140
anim = 30133
ID = 30133
pos = 170,((fvar(21))/2)-15
postype = left
facing = -1
vfacing = 1
bindtime = 1
vel = 9,-7.2
accel = 0,0.47
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890003
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = 1
trigger1 = time = 140
anim = 30134
ID = 30134
pos = -160,((fvar(21))/2)+65
postype = right
facing = -1
vfacing = 1
bindtime = 1
vel = -2,-2
accel = 0,0.47
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890003
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = -1
trigger1 = time = 140
anim = 30134
ID = 30134
pos = 160,((fvar(21))/2)+65
postype = left
facing = 1
vfacing = 1
bindtime = 1
vel = 2,-2
accel = 0,0.47
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890003
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = 1
trigger1 = time = 140
anim = 30134
ID = 30134
pos = -220,((fvar(21))/2)+51
postype = right
facing = 1
vfacing = 1
bindtime = 1
vel = -4,-3
accel = 0,0.47
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890003
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = -1
trigger1 = time = 140
anim = 30134
ID = 30134
pos = 220,((fvar(21))/2)+51
postype = left
facing = -1
vfacing = 1
bindtime = 1
vel = 4,-3
accel = 0,0.47
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890003
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = 1
trigger1 = time = 183
anim = 3014
ID = 3014
pos = 20,((fvar(21))/2)+75
postype = right
facing = 1
vfacing = 1
bindtime = 1
vel = -9,0
accel = -1.97,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890002
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = -1
trigger1 = time = 183
anim = 3014
ID = 3014
pos = -20,((fvar(21))/2)+75
postype = left
facing = -1
vfacing = 1
bindtime = 1
vel = 9,0
accel = 1.97,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890002
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = 1
trigger1 = time = 193
anim = 30140
ID = 30140
pos = -160,((fvar(21))/2)+75
postype = right
facing = 1
vfacing = 1
bindtime = 1
vel = -9,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890003
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = -1
trigger1 = time = 193
anim = 30140
ID = 30140
pos = 160,((fvar(21))/2)+75
postype = left
facing = -1
vfacing = 1
bindtime = 1
vel = 9,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890003
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = 1
trigger1 = time = 236
anim = 3015
ID = 3015
pos = 20,((fvar(21))/2)+75
postype = right
facing = 1
vfacing = 1
bindtime = 1
vel = -9,0
accel = -1.97,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890002
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = -1
trigger1 = time = 236
anim = 3015
ID = 3015
pos = -20,((fvar(21))/2)+75
postype = left
facing = -1
vfacing = 1
bindtime = 1
vel = 9,0
accel = 1.97,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890002
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = 1
trigger1 = time = 246
anim = 30150
ID = 30150
pos = -160,((fvar(21))/2)+75
postype = right
facing = 1
vfacing = 1
bindtime = 1
vel = -9,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890003
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = -1
trigger1 = time = 246
anim = 30150
ID = 30150
pos = 160,((fvar(21))/2)+75
postype = left
facing = -1
vfacing = 1
bindtime = 1
vel = 9,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890003
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = 1
trigger1 = time = 289
anim = 3016
ID = 3016
pos = 20,((fvar(21))/2)+75
postype = right
facing = 1
vfacing = 1
bindtime = 1
vel = -9,0
accel = -1.97,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890002
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = -1
trigger1 = time = 289
anim = 3016
ID = 3016
pos = -20,((fvar(21))/2)+75
postype = left
facing = -1
vfacing = 1
bindtime = 1
vel = 9,0
accel = 1.97,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890002
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = 1
trigger1 = time = 299
anim = 30160
ID = 30160
pos = -160,((fvar(21))/2)+75
postype = right
facing = 1
vfacing = 1
bindtime = 1
vel = -9,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890002
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = facing = -1
trigger1 = time = 299
anim = 30160
ID = 30160
pos = 160,((fvar(21))/2)+75
postype = left
facing = -1
vfacing = 1
bindtime = 1
vel = 9,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.25,1.25
sprpriority = 890002
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 380
anim = 3008
ID = 3008
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 50
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 890002
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 380
anim = 3009
ID = 3009
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 50
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 890000
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 430
anim = 30090
ID = 30090
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 260
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 890000
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 430
anim = 3008
ID = 3008
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = 1
vel = -3,-2
accel = 0,0.47
random = 0,0
removetime = 50
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 890003
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = time = 430
anim = 3010
ID = 3010
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 270
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 890001
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 3,1
trigger1 = numexplod(31911) <= 10
trigger1 = time >= 430
trigger1 = time < 680
anim = 1911
ID = 31911
pos = ((fvar(20))/2)-70+random%140,((fvar(21))/2)-random%60
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.1,0.1
sprpriority = 890004
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(3010)
trigger1 = time >= 430
trigger1 = time < 480
ID = 3010
trans = addalpha
alpha = 0+((time-430)*5),256-((time-430)*5)

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(3010)
trigger1 = time = 480
ID = 3010
trans = none

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 500
value = S3000,8
volumescale = 180
abspan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 12,1
trigger1 = time >= 430
trigger1 = time <= 680
value = S1920,0
volumescale = 130
abspan = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time >= 700
trigger1 = numexplod(31911)
id = 31911

[State 200, 2]
type = DestroySelf
trigger1 = time >= 700

;---------------------------------------------------------------------------
; Launched into East Town Towers
; CNS difficulty: easy
[Statedef 3005]
type    = A
movetype= H
physics = N
ctrl = 0
velset = 0,0
sprpriority = -1

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 3006

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 16
x = -12
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 18
x = 0
y = 0

[State 0, Explod]
type = Explod
triggerall = facing = -1
trigger1 = time >= 27
trigger1 = time <= 37
anim = 5050
ID = 5050
pos = 0+((time-27)*16),210
postype = left
facing = -1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 1
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 890001
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = facing = 1
trigger1 = time >= 27
trigger1 = time <= 37
anim = 5050
ID = 5050
pos = 0-((time-27)*16),210
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 1
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 890001
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = facing = -1
trigger1 = time = 37
anim = 5050
ID = 5050
pos = 160,210
postype = left
facing = -1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 313
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 890001
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = facing = 1
trigger1 = time = 37
anim = 5050
ID = 5050
pos = -160,210
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 313
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 890001
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = facing = -1
trigger1 = time >= 350
trigger1 = time <= 370
anim = 5050
ID = 5050
pos = 160+((time-350)*16),210
postype = left
facing = -1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 1
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 890001
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = facing = 1
trigger1 = time >= 350
trigger1 = time <= 370
anim = 5050
ID = 5050
pos = -160-((time-350)*16),210
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 1
pausemovetime = 0
scale = (1*const(size.xscale)),(1*const(size.yscale))
sprpriority = 890001
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, LifeAdd]
type = LifeAdd
triggerall = lifemax < 1000
trigger1 = time = 77
trigger2 = time = 140
trigger3 = time = 193
trigger4 = time = 246
trigger5 = time = 299
value = -25
absolute = 1

[State 0, LifeAdd]
type = LifeAdd
triggerall = lifemax >= 1000
trigger1 = time = 77
trigger2 = time = 140
trigger3 = time = 193
trigger4 = time = 246
trigger5 = time = 299
value = -ceil(lifemax*0.025)
absolute = 1

[State 0, LifeAdd]
type = LifeAdd
triggerall = lifemax < 1000
triggerall = timemod = 10, 1
trigger1 = time >= 430
trigger1 = time <= 700
value = -3
absolute = 1

[State 0, LifeAdd]
type = LifeAdd
triggerall = lifemax >= 1000
triggerall = timemod = 10, 1
trigger1 = time >= 430
trigger1 = time <= 700
value = -ceil(lifemax*0.003)
absolute = 1

[State 0, Explod]
type = Explod
triggerall = facing = -1
trigger1 = time >= 410
trigger1 = time <= 430
anim = 5050
ID = 5050
pos = -20+((time-410)*8),190+((time-410)*1)
postype = left
facing = -1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 1
pausemovetime = 0
scale = (1*const(size.xscale))-((time-410)*(0.05*const(size.xscale))),(1*const(size.yscale))-((time-410)*(0.05*const(size.yscale)))
sprpriority = 890002
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = facing = 1
trigger1 = time >= 410
trigger1 = time <= 430
anim = 5050
ID = 5050
pos = 20-((time-410)*8),190+((time-410)*1)
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 1
pausemovetime = 0
scale = (1*const(size.xscale))-((time-410)*(0.05*const(size.xscale))),(1*const(size.yscale))-((time-410)*(0.05*const(size.yscale)))
sprpriority = 890002
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = !alive
trigger1 = time >= 700
value = 5150
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = alive
trigger1 = time >= 700
value = 3006
ctrl = 0

;---------------------------------------------------------------------------
; Launched into East Town Towers
; CNS difficulty: easy
[Statedef 3006]
type    = A
movetype= H
physics = N
ctrl = 0
velset = 8,-7
sprpriority = -1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -80

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 3017

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -time*20

[State 0, VelAdd]
type = VelAdd
trigger1 = time >= 5
y = 0.57

[State 821, 4]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -20
value = 5100 

;---------------------------------------------------------------------------
; Those Alien Bastards...! (hyper)
; CNS difficulty: medium
[Statedef 3050]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3050
ctrl = 0
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = var(31) = 0
trigger1 = fvar(3) < 1
trigger1 = time = 0
fv = 3
value = 0.048

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 55

[State 0, SuperPause]
type = SuperPause
trigger1 = AnimElem = 2
pos = 5, -52
anim = S4000
sound = S20, 0
poweradd = -1000

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal ;player
name = "My Ride"
ID = 3051
stateno = 3051
pos = 10,-160
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 3050, floor(fvar(16))
volumescale = 180
channel = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 1
trigger1 = fvar(16) = 0
fv = 16
value = 1

[State 3050, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------
; My Ride
[Statedef 3051]
type    = A
movetype= A
physics = N
ctrl = 0
velset = 0.95,1.1
anim = 1910
sprpriority = -3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, SprPriority]
type = SprPriority
trigger1 = time >= 50
value = 25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 16,1
value = S1920,0
volumescale = 50

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,1
anim = 1911
ID = 1911
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0+(time*0.005),0+(time*0.005)
sprpriority = -4
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 345
scale = 0+(time*0.008),0+(time*0.008)

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 100
value = 3052
ctrl = 0

;------------------
; My Ride
[Statedef 3052]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,-0.25
anim = 3051
sprpriority = 5

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1920,0
volumescale = 150

[State 0, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, HP
animtype  = Hard
damage    = 295, 34
getpower  = 0
priority  = 5
guardflag = HA
pausetime = 0,30
sparkno = S7001
guard.sparkno = S7003
sparkxy = 0,-20
hitsound   = s5,4
guardsound = s6,0
ground.type = Low
ground.slidetime = 26
ground.hittime  = 28
ground.velocity = -1.3,-8
guard.velocity = -6
air.velocity = -1.3,-8
airguard.velocity = -1.5,-2
envshake.time = 18
envshake.ampl = 5
envshake.freq = 142
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
fall.recover = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0


;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; Downed get-hit (getting up)
[Statedef 5120]
type    = L
movetype= I
physics = N

[State 5120, 1a] ;Get up anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5111,5119]
trigger2 = !SelfAnimExist(5120 + (anim % 10))
value = 5120

[State 5120, 1b] ;Get up anim (for hit up/diag-up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5111,5119]
trigger1 = SelfAnimExist(5120 + (anim % 10))
value = 5120 + (anim % 10)

[State 5120, 2]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = Time = 0
x = 0

[State 5120, 2]
type = VelSet
trigger1 = command = "holdfwd"
trigger1 = Time = 0
x = 6

[State 5120, 2]
type = VelSet
trigger1 = command = "holdback"
trigger1 = Time = 0
x = -4

[State 0, PlayerPush]
type = PlayerPush
trigger1 = vel x = 0
value = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = vel x != 0
value = 0

[State 5120, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5120, 4]
type = HitFallSet
trigger1 = AnimTime = 0
value = 1

[State 5120, 5] ;Can't be thrown right after getting up
type = NotHitBy
trigger1 = AnimTime = 0
value = , NT,ST,HT
time = 12

[State 5120, 6] ;Can't be hit right after getting up (short time)
type = NotHitBy
trigger1 = AnimTime = 0
value2 = SCA
time = 3

[State 5120, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Downed get-hit (lying defeated)
[Statedef 5150]
type    = L
movetype= H
physics = N
sprpriority = -3
ctrl = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = prevstateno = 3005
value = 0
movecamera = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = 3005
flag = noshadow
flag2 = invisible

[State 5150, 1] ;Normal anim
type = ChangeAnim
triggerall = Time = 0
triggerall = SelfAnimExist(5140)
trigger1 = (anim != [5111,5119]) && (anim != [5171,5179])
trigger2 = !SelfAnimExist(5140 + (anim % 10))
value = 5140

[State 5150, 3] ;Hit up type anim
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (anim = [5111,5119]) || (anim = [5171,5179])
trigger1 = SelfAnimExist(5140 + (anim % 10))
value = 5140 + (anim % 10)

[State 5150, 4] ;Match over anim
type = ChangeAnim
persistent = 0
;trigger1 = Time = 0
trigger1 = MatchOver = 1
trigger1 = Anim = [5140,5149]
trigger1 = SelfAnimExist(anim+10)
value = anim+10

[State 5150, 5] ;Switch to 5110 if liedead anim does not exist
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Anim != [5140,5159]
trigger1 = Anim != [5110,5119]
value = 5110

[State 5150, 6] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5150, 7] ;Friction
type = VelSet
trigger1 = abs(Vel x) < Const(movement.down.friction.threshold)
persistent = 0
x = 0

[State 5150, 8]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Air get-hit (fall recovery on ground)
[Statedef 5201]
type    = A
movetype= H
physics = A
anim = 5200

[State 5201, 1] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < Const720p(-20)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S5120,random%6
volumescale = 130
channel = 0

[State 5201, 2]
type = VelSet
trigger1 = command = "holdback"
trigger1 = Time = 0
x = Const(velocity.air.gethit.groundrecover.x)
y = Const(velocity.air.gethit.groundrecover.y)

[State 5201, 2]
type = VelSet
trigger1 = command = "holdfwd"
trigger1 = Time = 0
x = -(Const(velocity.air.gethit.groundrecover.x))
y = Const(velocity.air.gethit.groundrecover.y)

[State 5201, 2]
type = VelSet
trigger1 = command != "holdfwd"
trigger1 = command != "holdback"
trigger1 = Time = 0
x = 0
y = Const(velocity.air.gethit.groundrecover.y)

[State 5201, 3]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5201, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 5
add = 128,128,128 ;256,256,256

[State 5201, 6]
type = Explod
trigger1 = Time = 0
anim = F60
postype = none
pos = pos x + camerapos x, (pos y) - floor(vel y)
facing = facing
sprpriority = -10

;---------------------------------------------------------------------------
; Air get-hit (fall recovery in air)
[Statedef 5210]
type    = A
movetype= I
physics = N
anim = 5210
ctrl = 0

[State 5210, 1] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 5
add = 128,128,128

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S5120,random%6
volumescale = 130
channel = 0

[State 5210, 1]
type = PosFreeze
trigger1 = Time < 4

[State 5210, 2] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < Const720p(-80)

[State 5210, 1.0 behavior 1]
type = VelMul
trigger1 = Time = 4
x = Const(velocity.air.gethit.airrecover.mul.x)
y = Const(velocity.air.gethit.airrecover.mul.y)

[State 5210, 1.0 behavior 2]
type = VelAdd
trigger1 = Time = 4
x = Const(velocity.air.gethit.airrecover.add.x)
y = Const(velocity.air.gethit.airrecover.add.y)

[State 5210, 2002.04.14 behavior 1]
type = null;VelMul
trigger1 = Time = 4
x = .8
y = .8

[State 5210, 2002.04.14 behavior 2]
type = null;VelAdd
trigger1 = Time = 4
x = 0 
y = -4.5

[State 5210, 2002.04.14 behavior 3]
type = null;VelMul
trigger1 = Time = 4
trigger1 = Vel Y > 0
y = .5

[State 5210, 2002.04.14 behavior 4]
type = null;VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -3
y = -2

[State 5210, 2002.04.14 behavior 5]
type = null;VelAdd
trigger1 = Time = 4
trigger1 = Vel Y > -2
y = -1

[State 5210, 2] ;Go up
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdup"
y = Const(velocity.air.gethit.airrecover.up)

[State 5210, 2] ;Go down
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holddown"
y = Const(velocity.air.gethit.airrecover.down)

[State 5210, 2] ;Go fwd
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdfwd"
x = Const(velocity.air.gethit.airrecover.fwd)

[State 5210, 2] ;Go back
type = VelAdd
trigger1 = Time = 4
trigger1 = Command = "holdback"
x = Const(velocity.air.gethit.airrecover.back)

[State 5210, 3]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 20

[State 5210, 4]
type = CtrlSet
trigger1 = Time = 20
value = 1

[State 5210, 5]
type = VelAdd
trigger1 = Time >= 4
y = Const(movement.air.gethit.airrecover.yaccel)

[State 5210, 5] ;Land on ground
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;Jump land
ctrl = 1

;---------------------------------------------------------------------------
; Initialize (at the start of the round)
[Statedef 5900]
type = S

[State 5900, 1] ;Clear all int variables
type = VarRangeSet
trigger1 = roundsexisted = 0
value = 0

[State 5900, 2] ;Clear all float variables
type = VarRangeSet
trigger1 = roundsexisted = 0
fvalue = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 5
value = 12

[State 0, VarSet]
type = VarSet
trigger1 = fvar(12) = 0
trigger1 = time = 0
fv = 13
value = 3

[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 20
value = gamewidth

[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 21
value = gameheight

[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 22
value = 1


[State 0, Explod]
type = Explod
triggerall = teamside = 1
triggerall = numexplod(6120) = 0
triggerall = time = 0
triggerall = fvar(12) != 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6120+floor(fvar(12))
ID = 6120
pos = 75,(fvar(21)) - 47
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = teamside = 1
triggerall = numexplod(6120) = 0
triggerall = time = 0
triggerall = fvar(12) != 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6120+floor(fvar(12))
ID = 6120
pos = 155,(fvar(21)) - 47
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = teamside = 2
triggerall = numexplod(6120) = 0
triggerall = time = 0
triggerall = fvar(12) != 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6120+floor(fvar(12))
ID = 6120
pos = -75,(fvar(21)) - 47
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = teamside = 2
triggerall = numexplod(6120) = 0
triggerall = time = 0
triggerall = fvar(12) != 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6120+floor(fvar(12))
ID = 6120
pos = -155,(fvar(21)) - 47
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, VarSet]
type = VarSet
trigger1 = fvar(12) != 0
trigger1 = time = 0
fv = 13
value = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 14
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 15
value = 0

[State 5900, 3] ;Change palette
type = RemapPal
trigger1 = 1
source = 1,1
dest = 1,palno

[State 5900, 4] ;Intro for round 1
type = ChangeState
trigger1 = roundno = 1
trigger2 = teammode = turns
value = 190

[State 5900, 5] ;All other rounds
type = ChangeState
trigger1 = 1
value = 0

;---------------------------------------------------------------------------
;  Training Mode
[Statedef 50783]
type    = S
movetype= I
physics = N
velset = 0,0
anim = 9999
sprpriority = 4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 0, DestroySelf]
type = DestroySelf
trigger1 = roundsexisted > 0
trigger2 = roundstate != 2
trigger3 = root, prevstateno != 191
trigger3 = root, prevstateno != 192
trigger3 = root, prevstateno != 193
trigger3 = root, prevstateno != 194

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------

[Statedef -2]


;---------------------------------------------------------------------------
;Detect Training Mode for Devastator Meter
; This rather simple method of detecting training mode relies on looking at the meter after intros
; Training mode tends to give characters max meter right at the beginning of intros (roundstate 1), but if players choose to skip intros, it will do so as soon as it can in roundstate 2. This method hopes to account for that.
; This method also doesn't account for if a player presses the space bar or F3 at the beggining of the round, because if people are going to cheat with non-training mode fights, I might as well give them infinite  Devastator for the first round too.
; There is a helper in State 0 that checks for training mode when the intro is skipped.

[State 0, Explod]
type = Explod
triggerall = numenemy < 2 && !numpartner && power = const(data.power)
triggerall = roundno = 1 && matchno = 1
triggerall = life = lifemax
triggerall = !numexplod(50783)
trigger1 = roundstate <= 1
trigger2 = numhelper(50783)
trigger2 = helper(50783), time >= 16
anim = 9999
ID = 50783
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, VarSet]
type = VarSet
trigger1 = var(31) = 0
trigger1 = power = const(data.power)
trigger1 = numexplod(50783)
trigger1 = AILevel = 0 ;This turns off the infinite Devastator meter if the AI gains control, but when players take control again, the infinite Devastator meter will return.
fv = 3
value = 1

;---------------------------------------------------------------------------
;HUD

[State 0, VarAdd]
type = VarAdd
trigger1 = alive
trigger1 = fvar(3) < 1
trigger1 = var(31) = 0
trigger1 = movetype = H
trigger1 = time = 0
trigger1 = gethitvar(damage) >= 195
fv = 3
value = 0.040420

[State 0, VarAdd]
type = VarAdd
trigger1 = alive
trigger1 = fvar(3) < 1
trigger1 = var(31) = 0
trigger1 = movetype = H
trigger1 = time = 0
trigger1 = gethitvar(damage) >= 95
fv = 3
value = 0.040420

[State 0, VarAdd]
type = VarAdd
trigger1 = alive
trigger1 = fvar(3) < 1
trigger1 = movetype = H
trigger1 = var(31) = 0
trigger1 = time = 0
trigger1 = gethitvar(damage) >= 15
fv = 3
value = 0.021398

[State 0, VarAdd]
type = VarAdd
trigger1 = alive
trigger1 = fvar(3) < 1
trigger1 = var(31) = 0
trigger1 = movetype = H
trigger1 = time = 0
trigger1 = gethitvar(damage) < 15
fv = 3
value = 0.000767

[State 0, VarSet]
type = VarSet
trigger1 = fvar(3) < 0
fv = 3
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = fvar(3) > 1
fv = 3
value = 1

[State 0, VarAdd]
type = VarSet
trigger1 = var(31) != 0
trigger1 = fvar(3) <= 0
v = 31
value = 0
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = stateno != 30000
trigger1 = stateno != 30001
trigger1 = roundstate = 2
trigger1 = var(31) > 0
trigger1 = fvar(3) > 0
fv = 3
value = -0.002472
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = fvar(14) > 0
trigger1 = fvar(15) > 0
fv = 15
value = -0.0011111111111111
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = fvar(14) != 0
trigger1 = fvar(15) <= 0
fv = 14
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = fvar(15) <= 0
fv = 15
value = 0


[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(6000) = 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6000
ID = 6000
pos = 97,(fvar(21)) - 10
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900000
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(6000) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6000
ID = 6000
pos = 32,(fvar(21)) - 10
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900000
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(6000) = 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 60000
ID = 6000
pos = -97,(fvar(21)) - 10
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900000
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(6000) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 60000
ID = 6000
pos = -32,(fvar(21)) - 10
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900000
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(6002) = 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6002
ID = 6002
pos = 97,(fvar(21)) - 10
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = fvar(3)/2,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(6002) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6002
ID = 6002
pos = 32,(fvar(21)) - 10
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = fvar(3)/2,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(6002) = 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 60020
ID = 6002
pos = -97,(fvar(21)) - 10
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = fvar(3)/2,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(6002) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 60020
ID = 6002
pos = -32,(fvar(21)) - 10
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = fvar(3)/2,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0


[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(6001) = 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6001
ID = 6001
pos = 97,(fvar(21)) - 10
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900003
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(6001) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6001
ID = 6001
pos = 32,(fvar(21)) - 10
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900003
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(6001) = 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 60010
ID = 6001
pos = -97,(fvar(21)) - 10
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900003
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(6001) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 60010
ID = 6001
pos = -32,(fvar(21)) - 10
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900003
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0


[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(6002)
ID = 6002
scale = fvar(3)/2,0.5

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(6003) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6003
ID = 6003
pos = 15,(fvar(21)) - 10
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.25,0.25
sprpriority = 899999
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(6003) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6003
ID = 6003
pos = -15,(fvar(21)) - 10
postype = right
facing = -1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.25,0.25
sprpriority = 899999
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0


[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = var(31) != 0
triggerall = numexplod(6004) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6004
ID = 6004
pos = 15,(fvar(21)) - 10
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.25,0.25
sprpriority = 900000
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = var(31) != 0
triggerall = numexplod(6004) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6004
ID = 6004
pos = -15,(fvar(21)) - 10
postype = right
facing = -1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.25,0.25
sprpriority = 900000
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = numexplod(6004)
trigger1 = fvar(3) <= 0
trigger1 = var(31) = 0
trigger2 = win
id = 6004


[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(6100) = 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6100
ID = 6100
pos = 100,(fvar(21)) - 37
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900000
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(6100) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6100
ID = 6100
pos = 20,(fvar(21)) - 37
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900000
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(6100) = 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6100
ID = 6100
pos = -100,(fvar(21)) - 37
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900000
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(6100) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6100
ID = 6100
pos = -20,(fvar(21)) - 37
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900000
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = fvar(3) >= 1
triggerall = numexplod(6005) = 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6005
ID = 6005
pos = 92,(fvar(21)) - 10
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 9999997
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = fvar(3) >= 1
triggerall = numexplod(6005) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6005
ID = 6005
pos = 27,(fvar(21)) - 10
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 9999997
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = fvar(3) >= 1
triggerall = numexplod(6005) = 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 60050
ID = 6005
pos = -92,(fvar(21)) - 10
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 9999997
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = fvar(3) >= 1
triggerall = numexplod(6005) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 60050
ID = 6005
pos = -27,(fvar(21)) - 10
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 9999997
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(6005)
trigger1 = fvar(3) < 1
trigger1 = var(31) = 0
id = 6005

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(6103) = 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6103
ID = 6103
pos = 100,(fvar(21)) - 37
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(6103) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6103
ID = 6103
pos = 20,(fvar(21)) - 37
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(6103) = 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6103
ID = 6103
pos = -100,(fvar(21)) - 37
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(6103) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6103
ID = 6103
pos = -20,(fvar(21)) - 37
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(6101) = 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6101
ID = 6101
pos = 130,(fvar(21)) - 30
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.25,0.25
sprpriority = 900000
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(6101) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6101
ID = 6101
pos = 50,(fvar(21)) - 30
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.25,0.25
sprpriority = 900000
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(6101) = 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6101
ID = 6101
pos = -130,(fvar(21)) - 30
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.25,0.25
sprpriority = 900000
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(6101) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6101
ID = 6101
pos = -50,(fvar(21)) - 30
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.25,0.25
sprpriority = 900000
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(6104) = 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6104
ID = 6104
pos = 130,(fvar(21)) - 30
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.25,0.25
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(6104) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6104
ID = 6104
pos = 50,(fvar(21)) - 30
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.25,0.25
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(6104) = 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6104
ID = 6104
pos = -130,(fvar(21)) - 30
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.25,0.25
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(6104) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6104
ID = 6104
pos = -50,(fvar(21)) - 30
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.25,0.25
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(6102) = 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6102
ID = 6102
pos = 150,(fvar(21)) - 30
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.25,0.25
sprpriority = 900000
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1


[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(6102) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6102
ID = 6102
pos = 70,(fvar(21)) - 30
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.25,0.25
sprpriority = 900000
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(6102) = 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6102
ID = 6102
pos = -150,(fvar(21)) - 30
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.25,0.25
sprpriority = 900000
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1


[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(6102) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6102
ID = 6102
pos = -70,(fvar(21)) - 30
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.25,0.25
sprpriority = 900000
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(6105) = 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6105
ID = 6105
pos = 150,(fvar(21)) - 30
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.25,0.25
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(6105) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6105
ID = 6105
pos = 70,(fvar(21)) - 30
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.25,0.25
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(6105) = 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6105
ID = 6105
pos = -150,(fvar(21)) - 30
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.25,0.25
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(6105) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6105
ID = 6105
pos = -70,(fvar(21)) - 30
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.25,0.25
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(6300) <= 1
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6300+floor(fvar(10))
ID = 6300
pos = 100,(fvar(21)) - 37
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 2
pausemovetime = 0
scale = 0.3,0.3
sprpriority = 900002
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(6300) <= 1
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6300+floor(fvar(10))
ID = 6300
pos = 20,(fvar(21)) - 37
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 2
pausemovetime = 0
scale = 0.3,0.3
sprpriority = 900002
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1


[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(6300) <= 1
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6300+floor(fvar(10))
ID = 6300
pos = -101,(fvar(21)) - 37
postype = right
facing = -1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 2
pausemovetime = 0
scale = 0.3,0.3
sprpriority = 900002
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(6300) <= 1
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6300+floor(fvar(10))
ID = 6300
pos = -21,(fvar(21)) - 37
postype = right
facing = -1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 2
pausemovetime = 0
scale = 0.3,0.3
sprpriority = 900002
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(6200) <= 1
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6200+var(5)
ID = 6200
pos = 150,(fvar(21)) - 30
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(6200) <= 1
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6200+var(5)
ID = 6200
pos = 70,(fvar(21)) - 30
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(6200) <= 1
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6200+var(5)
ID = 6200
pos = -150,(fvar(21)) - 30
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(6200) <= 1
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6200+var(5)
ID = 6200
pos = -70,(fvar(21)) - 30
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(6201) <= 1
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6200+floor(fvar(11))
ID = 6201
pos = 130,(fvar(21)) - 30
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(6201) <= 1
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6200+floor(fvar(11))
ID = 6201
pos = 50,(fvar(21)) - 30
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(6201) <= 1
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6200+floor(fvar(11))
ID = 6201
pos = -130,(fvar(21)) - 30
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(6201) <= 1
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6200+floor(fvar(11))
ID = 6201
pos = -50,(fvar(21)) - 30
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 2
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(61210) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6120
ID = 61210
pos = 45,(fvar(21)) - 47
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(61210) = 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6120
ID = 61210
pos = 125,(fvar(21)) - 47
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(61210) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6120
ID = 61210
pos = -45,(fvar(21)) - 47
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(61210) = 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6120
ID = 61210
pos = -125,(fvar(21)) - 47
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(61220) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6120
ID = 61220
pos = 60,(fvar(21)) - 47
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(61220) = 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6120
ID = 61220
pos = 140,(fvar(21)) - 47
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(61220) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6120
ID = 61220
pos = -60,(fvar(21)) - 47
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(61220) = 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6120
ID = 61220
pos = -140,(fvar(21)) - 47
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0


[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(61230) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6120
ID = 61230
pos = 75,(fvar(21)) - 47
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 1
triggerall = numexplod(61230) = 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6120
ID = 61230
pos = 155,(fvar(21)) - 47
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(61230) = 0
trigger1 = teammode != simul
trigger2 = teammode = simul
trigger2 = NumPartner = 1
trigger2 = partner,ID > ID
anim = 6120
ID = 61230
pos = -75,(fvar(21)) - 47
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
triggerall = fvar(22)
triggerall = stateno != 5500
triggerall = teamside = 2
triggerall = numexplod(61230) = 0
trigger1 = teammode = simul
trigger1 = NumPartner = 1
trigger1 = partner,ID < ID
anim = 6120
ID = 61230
pos = -155,(fvar(21)) - 47
postype = right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 900001
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(6120)
trigger1 = fvar(12) = 0
id = 6120

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(61230)
trigger1 = fvar(13) < 3
id = 61230

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(61220)
trigger1 = fvar(13) < 2
id = 61220

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(61210)
trigger1 = fvar(13) < 1
id = 61210


;---------------------------------------------------------------------------
;Explod Removal

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(210)
trigger1 = stateno != 210
trigger1 = stateno != 3000
id = 210

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(211)
trigger1 = stateno != 410
id = 211

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(212)
trigger1 = stateno != 610
id = 212

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(213)
trigger1 = stateno != 613
id = 213

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(950)
trigger1 = stateno != 960
id = 950

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(952)
trigger1 = stateno != 960
id = 952

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(951)
trigger1 = stateno != 961
id = 951

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(1201)
trigger1 = stateno != 1200
id = 1201

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(1205)
trigger1 = stateno != 1200
id = 1205

[State 0, RemoveExplod]
type = RemoveExplod
triggerall = numexplod(2100)
trigger1 = stateno != 2100
trigger1 = stateno != 21000
id = 2100

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2102)
trigger1 = stateno != 6100
trigger1 = stateno != 61000
id = 2102

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2313)
trigger1 = stateno != 3300
ID = 2313

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2314)
trigger1 = stateno != 7300
ID = 2314

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2500)
trigger1 = stateno != 2500
trigger1 = stateno != 25000
id = 2500

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2502)
trigger1 = stateno != 6500
trigger1 = stateno != 65000
id = 2502

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2600)
trigger1 = stateno != 2600
trigger1 = stateno != 26000
id = 2600

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2602)
trigger1 = stateno != 6600
trigger1 = stateno != 66000
id = 2602

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2700)
trigger1 = stateno != 2700
id = 2700

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2702)
trigger1 = stateno != 6700
id = 2702

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2800)
trigger1 = stateno != 2800
id = 2800

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(2802)
trigger1 = stateno != 6800
id = 2802

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(3001)
trigger1 = stateno != 3000
id = 3001


[State 0, PlaySnd]
type = PlaySnd
trigger1 = numhelper(1903)
trigger1 = helper(1903), stateno = 1904
value = S1901,1
volumescale = 200
channel = 0

;Drop weapon when ammo is emptied
[State 0, VarSet]
type = VarSet
trigger1 = stateno != 220
trigger1 = fvar(11) = 0
trigger1 = fvar(10) != 0
trigger2 = fvar(10) = 13
trigger2 = !numhelper(2301)
fv = 10
value = 0

;Empty Ammo when there's no weapon
[State 0, VarSet]
type = VarSet
trigger1 = fvar(11) != 0
trigger1 = stateno != 220
trigger1 = fvar(10) = 0
fv = 11
value = 0

[State 0, PowerAdd] ;Relabale source of Meter
type = PowerAdd
triggerall = alive
trigger1 = (stateno = 5000) || (stateno = 5010) || (stateno = 5020) || (stateno = 5070)
trigger1 = time = 0
trigger2 = (stateno != 5000) && (stateno != 5010) && (stateno != 5020) && (stateno != 5070)
trigger2 = stateno != [120,160]
trigger2 = gethitvar(damage)
value = gethitvar(damage)

[State -2, PlaySnd]
type = PlaySnd
triggerall = gethitvar(damage) <= 127
triggerall = alive
trigger1 = (stateno = 5000) || (stateno = 5010) || (stateno = 5020) || (stateno = 5070)
trigger1 = time = 0
trigger2 = (stateno != 5000) && (stateno != 5010) && (stateno != 5020) && (stateno != 5070)
trigger2 = stateno != [120,160]
trigger2 = gethitvar(damage)
trigger3 = movetype = H && time = 0
trigger3 = stateno != [120,160]
trigger3 = stateno != [0,51]
value = 5000, random%7
volumescale = 130
channel = 0

[State -2, PlaySnd]
type = PlaySnd
triggerall = gethitvar(damage) > 127
triggerall = alive
trigger1 = (stateno = 5000) || (stateno = 5010) || (stateno = 5020) || (stateno = 5070)
trigger1 = time = 0
trigger2 = (stateno != 5000) && (stateno != 5010) && (stateno != 5020) && (stateno != 5070)
trigger2 = stateno != [120,160]
trigger2 = gethitvar(damage)
trigger3 = movetype = H && time = 0
trigger3 = stateno != [120,160]
trigger3 = stateno != [0,51]
value = 5001, random%5
volumescale = 130
channel = 0

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]

[State 0, PlaySnd]
type = PlaySnd
trigger1 = stateno = 5120
trigger1 = time = 1
trigger1 = roundstate = 2
value = S5120,random%6
volumescale = 130
channel = 0

[State 0, Helper]
type = Helper
trigger1 = fvar(14) != 0
trigger1 = numhelper(1301) = 0
helpertype = normal ;player
name = "Steroids" 
ID = 1301
stateno = 1301 
pos = -2,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999999
pausemovetime = 9999999

[State 0, Helper]
type = Helper
triggerall = roundstate = 2 || roundstate = 3
triggerall = movetype != H
triggerall = !numhelper(1950)
triggerall = stateno != 30001
trigger1 = alive
trigger1 = var(59) = 0
trigger1 = command = "start"
trigger2 = alive
trigger2 = var(59)
trigger2 = (enemynear, life) != (enemynear, lifemax)
trigger2 = life >= 506
trigger2 = movetype != A
trigger2 = random <= 214
trigger2 = random <= 167
helpertype = normal ;player
name = "Duke Talk"
ID = 1950
stateno = 1950
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 0, PlaySnd]
type = PlaySnd
triggerall = roundstate = 2 || roundstate = 3
triggerall = movetype != H
triggerall = numhelper(1950)
triggerall = helper(1950), time = 0
triggerall = stateno != 30001
trigger1 = alive
value = S195,random%21
volumescale = 200
channel = 0

[State 0, Helper]
type = Helper
triggerall = roundstate = 2
triggerall = movetype != H
triggerall = !numhelper(6000)
triggerall = statetype = A
triggerall = fvar(10) = 0
trigger1 = ctrl
trigger1 = var(59) = 0
trigger1 = command = "z"
helpertype = normal ;player
name = "Where is it?!"
ID = 6000
stateno = 6000 
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 0, PlaySnd]
type = PlaySnd
triggerall = roundstate = 2
triggerall = movetype != H
triggerall = numhelper(6000)
triggerall = statetype = A
triggerall = fvar(10) = 0
triggerall = stateno != 960
trigger1 = ctrl
trigger1 = var(59) = 0
trigger1 = helper(6000), time = 0
value = S1000,1
volumescale = 200
channel = 0

[State 0, Helper]
type = Helper
triggerall = roundstate = 2
triggerall = movetype != H
triggerall = !numhelper(6000)
triggerall = statetype = A
trigger1 = ctrl
trigger1 = var(59) = 0
trigger1 = command = "c"
helpertype = normal ;player
name = "Where is it?!"
ID = 6000
stateno = 6000 
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0


[State 0, PlaySnd]
type = PlaySnd
triggerall = roundstate = 2
triggerall = movetype != H
triggerall = numhelper(6000)
triggerall = stateno != 960
trigger1 = ctrl
trigger1 = var(59) = 0
trigger1 = helper(6000), time = 0
value = S1000,1
volumescale = 200
channel = 0

[State 0, Helper]
type = Helper
triggerall = roundstate = 2
triggerall = movetype != H
triggerall = !numhelper(200)
triggerall = statetype != C
triggerall = var(5) > 0
triggerall = stateno != [120,155]
trigger1 = ctrl || stateno = 101
trigger1 = var(59) != 0
trigger1 = p2bodydist x >= 65
trigger1 = random <= (AILevel * 43)
trigger1 = random <= (AILevel * 27)
trigger2 = statetype = A
trigger2 = var(59) != 0
trigger2 = AIlevel >= 7 || random <= (AILevel * 80) && random <= (AILevel * 68)
trigger2 = ctrl
trigger2 = random <= (AILevel * 99)
trigger2 = random <= (AILevel * 72)
trigger2 = p2bodydist y >= -40
trigger2 = p2bodydist y <= 30
trigger2 = enemynear, movetype = H
helpertype = normal ;player
name = "Pistol"
ID = 200
stateno = 200
pos = 44,-74
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
triggerall = roundstate = 2
triggerall = movetype != H
triggerall = !numhelper(200)
triggerall = statetype = C
triggerall = var(5) > 0
triggerall = stateno != [120,155]
trigger1 = ctrl
trigger1 = var(59) != 0
trigger1 = p2bodydist x >= 65
trigger1 = random <= (AILevel * 43)
trigger1 = random <= (AILevel * 27)
helpertype = normal ;player
name = "Pistol"
ID = 200
stateno = 400
pos = 58,-29
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0


[State 0, Helper]
type = Helper
triggerall = roundstate = 2
triggerall = movetype != H
triggerall = !numhelper(200)
triggerall = statetype != C
triggerall = var(5) > 0
triggerall = stateno != [120,155]
triggerall = command != "Quake"
triggerall = command != "Ride"
triggerall = command != "Throw"
trigger1 = ctrl
trigger1 = var(59) = 0
trigger1 = command = "x"
helpertype = normal ;player
name = "Pistol"
ID = 200
stateno = 200 
pos = 44,-74
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
triggerall = roundstate = 2
triggerall = movetype != H
triggerall = !numhelper(200)
triggerall = statetype = C
triggerall = var(5) > 0
triggerall = stateno != [120,155]
triggerall = command != "Quake"
triggerall = command != "Ride"
triggerall = command != "Throw"
trigger1 = ctrl
trigger1 = var(59) = 0
trigger1 = command = "x"
helpertype = normal ;player
name = "Pistol"
ID = 200
stateno = 400 
pos = 58,-29
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

;This controller plays a sound everytime Duke lands from a jump, or
;from his back-dash.
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 ;Jump land
trigger2 = stateno = 106 ;Run-back land
value = 40, 0