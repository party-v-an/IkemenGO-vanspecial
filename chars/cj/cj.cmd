;cj from GTA San Andreas
;made by armin_iuf

[Remap]
x = x
y = y
z = z
a = a
b = b
c = c
s = s


;******************************************************************************** 
;-| Default Values |-------------------------------------------------------
[Defaults]
command.time = 15

command.buffer.time = 1

;AIset---------------------------------------------------------------------
[Command]
name = "cpu"
command = F,F,F,F
time = 1

[Command]
name = "cpu1"
command = F,F,F,D
time = 1

[Command]
name = "cpu2"
command = F,F,D,D
time = 1

[Command]
name = "cpu3"
command = F,D,D,D
time = 1

[Command]
name = "cpu4"
command = D,D,D,D
time = 1

[Command]
name = "cpu5"
command = D,D,D,U
time = 1

[Command]
name = "cpu6"
command = D,D,U,U
time = 1

[Command]
name = "cpu7"
command = D,U,U,U
time = 1

[Command]
name = "cpu8"
command = U,U,U,U
time = 1

[Command]
name = "cpu9"
command = U,U,U,B
time = 1

[Command]
name = "cpu10"
command = U,U,B,B
time = 1

[Command]
name = "cpu11"
command = U,B,B,B
time = 1

[Command]
name = "cpu12"
command = B,B,B,B
time = 1

[Command]
name = "cpu13"
command = D,D,F,U
time = 1

[Command]
name = "cpu14"
command = D,U,B,U
time = 1

[Command]
name = "cpu15"
command = B,U,D,D
time = 1

[Command]
name = "cpu16"
command = U,F,F,B
time = 1

[Command]
name = "cpu17"
command = U,U,D,F
time = 1

[Command]
name = "cpu18"
command = D,F,B,B
time = 1

[Command]
name = "cpu19"
command = D,B,B,U
time = 1

[Command]
name = "cpu20"
command = F,U,D,B
time = 1

[Command]
name = "cpu21"
command = B,F,F,B
time = 1

[Command]
name = "cpu22"
command = F,B,B,F
time = 1

[Command]
name = "cpu23"
command = B, D, U, F
time = 1
[Command]
name = "cpu24"
command = B, F, U, D
time = 1
[Command]
name = "cpu25"
command = F, F, D, U
time = 1
[Command]
name = "cpu26"
command = U, D, B, U
time = 1
[Command]
name = "cpu27"
command = D, D, U, U
time = 1
[Command]
name = "cpu28"
command = U, D, D, F
time = 1
[Command]
name = "cpu29"
command = D, U, B, F
time = 1
[Command]
name = "cpu30"
command = U, U, U
time = 1
[Command]
name = "cpu31"
command = U, U, D
time = 1
[Command]
name = "cpu32"
command = U, U, B
time = 1
[Command]
name = "cpu33"
command = U, D, F
time = 1
[Command]
name = "cpu34"
command = D, U, B
time = 1
[Command]
name = "cpu35"
command = B, U, B
time = 1
[Command]
name = "cpu36"
command = U, D, D
time = 1
[Command]
name = "cpu37"
command = D, U, U, U, D
time = 1
[Command]
name = "cpu38"
command = F, D, U
time = 1
[Command]
name = "cpu39"
command = D, B, D
time = 1
[Command]
name = "cpu40"
command = D, F, U, D
time = 1
[Command]
name = "cpu41"
command = D, U, D, U, D
time = 1
[Command]
name = "cpu42"
command = U, F, U, D
time = 1
[Command]
name = "cpu43"
command = U, D, F, U, U
time = 1
[Command]
name = "cpu44"
command = U, U, U, U, U, U, U
time = 1
[Command]
name = "cpu45"
command = B, B, B
time = 1
[Command]
name = "cpu46"
command = F, U, D, U
time = 1
[Command]
name = "cpu47"
command = D, D, F, D, D, U
time = 1
[Command]
name = "cpu48"
command =  B,U,F,D
time = 1
[Command]
name = "cpu49"
command = D, F, U, D
time = 1
[Command]
name = "cpu50"
command = F, D, F, B
time = 1
[Command]
name = "cpu51"
command = U, D, F, U
time = 1
[Command]
name = "cpu52"
command = F, D, D,F
time = 1
[Command]
name = "cpu53"
command = F, U, B, B
time = 1
[Command]
name = "cpu54"
command = D, B, F, B, D, U
time = 1

[Command]
name = "cpu55"
command = B, B, U, F
time = 1
[Command]
name = "cpu56"
command = F, F, U, D
time = 1
[Command]
name = "cpu57"
command = F, F, D, D
time = 1
[Command]
name = "cpu58"
command = D, D, B, B
time = 1
[Command]
name = "cpu59"
command = D, D, F, F
time = 1
[Command]
name = "cpu60"
command = D, F, D, F
time = 1



;-| Super Motions |--------------------------------------------------------



[Command]
name = "bazokax"
command = ~D, DF, F, D, DF, F, x
time = 30

[Command]
name = "bazokay"
command = ~D, DF, F, D, DF, F, y
time = 30

[Command]
name = "bazokaz"
command = ~D, DF, F, D, DF, F, z
time = 30

[Command]
name = "superx"
command = ~D, DB, B, D, DB, B, a
time = 30

[Command]
name = "supery"
command = ~D, DB, B, D, DB, B, b
time = 30

[Command]
name = "superz"
command = ~D, DB, B, D, DB, B, c
time = 30


[Command]
name = "su1x"
command = ~D, DB, B, D, DB, B, x
time = 30

[Command]
name = "su1y"
command = ~D, DB, B, D, DB, B, y
time = 30

[Command]
name = "su1z"
command = ~D, DB, B, D, DB, B, z
time = 30

[Command]
name = "MAXab"
command = ~D, DF, F, D, DF, F, a
time = 30

[Command]
name = "MAXbc"
command = ~D, DF, F, D, DF, F, b
time = 30

[Command]
name = "MAXac"
command = ~D, DF, F, D, DF, F, c
time = 30


;-| Special Motions |------------------------------------------------------

[Command]
name = "sp2a"
command = ~D, DF, F, a
time = 30

[Command]
name = "sp2b"
command = ~D, DF, F, b
time = 30

[Command]
name = "sp2c"
command = ~D, DF, F, c
time = 30

[Command]
name = "cmagnuma"
command = ~D, DB, B, a
time = 30

[Command]
name = "cmagnumb"
command = ~D, DB, B, b
time = 30

[Command]
name = "cmagnumc"
command = ~D, DB, B, c
time = 30


[Command]
name = "Guny"
command = ~D, DB, B,  y
time = 30

[Command]
name = "Gunz"
command = ~D, DB, B,  z
time = 30

[Command]
name = "Gunx"
command = ~D, DB, B, x
time = 30

[Command]
name = "FlameThrowx"
command = ~D, DF, F,x
time = 30

[Command]
name = "FlameThrowy"
command = ~D, DF, F,y
time = 30

[Command]
name = "FlameThrowz"
command = ~D, DF, F,z
time = 30


[Command]
name = "sp5x"
command = ~D, DF, F,x+z
time = 30

[Command]
name = "sp5y"
command = ~D, DF, F,x+y
time = 30

[Command]
name = "sp5z"
command = ~D, DF, F,y+z
time = 30

[Command]
name = "sp6x"
command = ~D, DB, B,x+z
time = 30

[Command]
name = "sp6y"
command = ~D, DB, B,x+y
time = 30

[Command]
name = "sp6z"
command = ~D, DB, B,y+z
time = 30


[Command]
name = "sp7a"
command = ~D, DF, F,a+b
time = 30

[Command]
name = "sp7b"
command = ~D, DF, F,b+c
time = 30

[Command]
name = "sp7c"
command = ~D, DF, F,a+c
time = 30


[Command]
name = "sp8a"
command = ~D, DB, B,a+b
time = 30

[Command]
name = "sp8b"
command = ~D, DB, B,b+c
time = 30

[Command]
name = "sp8c"
command = ~D, DB, B,a+c
time = 30


;-| Double Tap |-----------------------------------------------------------
[Command]
name = "FF"     ;Required (do not remove)
command = F, F
time = 10

[Command]
name = "BB"     ;Required (do not remove)
command = B, B
time = 10

[Command]
name = "DU"
command = D, U
time = 20

;-| 2/3 Button Combination |-----------------------------------------------
[Command]
name = "recovery";Required (do not remove)
command = x+y
time = 1

;-| Dir + Button |---------------------------------------------------------
[Command]
name = "down_a"
command = /$D,a
time = 1

[Command]
name = "down_b"
command = /$D,b
time = 1

;-| Single Button |---------------------------------------------------------
[Command]
name = "a"
command = a
time = 1

[Command]
name = "b"
command = b
time = 1

[Command]
name = "c"
command = c
time = 1

[Command]
name = "x"
command = x
time = 1

[Command]
name = "y"
command = y
time = 1

[Command]
name = "z"
command = z
time = 1

[Command]
name = "start"
command = s
time = 1

;-| Hold Dir |--------------------------------------------------------------
[Command]
name = "holdfwd";Required (do not remove)
command = /$F
time = 1

[Command]
name = "holdback";Required (do not remove)
command = /$B
time = 1

[Command]
name = "holdup" ;Required (do not remove)
command = /$U
time = 1

[Command]
name = "holddown";Required (do not remove)
command = /$D
time = 1

;---------------------------------------------------------------------------
[Statedef -1]

;Run Fwd
[State -1, Run Fwd]
type = ChangeState
value = 100
triggerall = !var(50)
trigger1 = command = "FF"
trigger1 = statetype = S
trigger1 = ctrl

;Run Back
[State -1, Run Back]
type = ChangeState
value = 105
triggerall = !var(50)
trigger1 = command = "BB"
trigger1 = statetype = S
trigger1 = ctrl


[State -1, Taunt]
type = ChangeState
value = 195
triggerall = !var(50)
triggerall = command = "start"
trigger1 = statetype = S
trigger1 = ctrl



;Charging power
[State -1, Charging power]
type = ChangeState
value = 3000
triggerall = !var(50)
triggerall = command = "MAXab"|| command = "MAXbc"|| command = "MAXac"
triggerall = power >= 1000
trigger1 = ctrl
trigger2 = stateno = 230 && movecontact
trigger3 = stateno = 240 && movecontact 
trigger4 = stateno = 245 && movecontact
trigger5 = stateno = 400 && movecontact
trigger6 = stateno = 410 && movecontact
trigger6 = stateno = 430 && movecontact
trigger7 = stateno = 440 && movecontact
trigger8 = stateno = 450 && movecontact

;bazoka
[State -1, bazoka]
type = ChangeState
value = 3400
triggerall = !var(50)
triggerall = command = "bazokax" || command = "bazokay" || command = "bazokaz"
triggerall = statetype = S
triggerall = statetype != A
trigger1 = power >= 1000
trigger1 = ctrl

;su1
[State -1, Gunhyper]
type = ChangeState
value = 3100
triggerall = !var(50)
triggerall = command = "su1x" || command = "su1y" || command = "su1z"
triggerall = statetype != A
triggerall = power >= 1000
trigger1 = ctrl

;su2
[State -1, Gunhyper]
type = ChangeState
value = 3200
triggerall = !var(50)
triggerall = command = "superx" || command = "supery" || command = "superz"
triggerall = statetype = S
triggerall = statetype != A
trigger1 = power >= 3000
trigger1 = ctrl

;sp5
[State -1,  sp5]
type = ChangeState
value = 1010
triggerall = !var(50)
triggerall = command = "sp7a"  || command = "sp7b"  || command = "sp7c" 
triggerall = statetype != A
trigger1 = ctrl

;sp5
[State -1,  sp5]
type = ChangeState
value = 1100
triggerall = !var(50)
triggerall = command = "sp8a"  || command = "sp8b"  || command = "sp8c" 
triggerall = statetype != A
trigger1 = ctrl

;sp6
[State -1,  sp6]
type = ChangeState
value = 1011
triggerall = !var(50)
triggerall = command = "sp5x"  || command = "sp5y"  || command = "sp5z" 
triggerall = statetype != A
trigger1 = ctrl


;sp7
[State -1,  sp6]
type = ChangeState
value = 1020
triggerall = !var(50)
triggerall = command = "sp6x"  || command = "sp6y"  || command = "sp6z" 
triggerall = statetype != A && (!numhelper(1030)  || !numhelper(1040)  || !numhelper(1050))  
trigger1 = ctrl

;Charging knife
[State -1, Charging knife]
type = ChangeState
value = 2200
triggerall = !var(50)
triggerall = command = "sp2a"||command ="sp2b"||command ="sp2c" || (stateno=100 && (command="a"||command="b"||command="c"))
triggerall = statetype = S
triggerall = statetype != A
trigger1 = ctrl
trigger2 = stateno = 230 && movecontact
trigger3 = stateno = 240 && movecontact 
trigger4 = stateno = 245 && movecontact
trigger5 = stateno = 400 && movecontact
trigger6 = stateno = 410 && movecontact
trigger7 = stateno = 430 && movecontact
trigger8 = stateno = 440 && movecontact
trigger9 = stateno = 450 && movecontact
ignorehitpause=1

;Cmagnum
[State -1, Cmagnum]
type = ChangeState
value = 2300
triggerall = !var(50)
triggerall = command = "cmagnuma"||command ="cmagnumb"||command ="cmagnumc"
triggerall = statetype = S
triggerall = statetype != A
trigger1 = ctrl
trigger2= (stateno=230)&&movehit
trigger3= (stateno=240)&&movehit
trigger4= (stateno=440)&&movehit

;Gun Attack
[State -1, Gun]
type = ChangeState
value = 2000
triggerall = !var(50)
triggerall = command = "Gunx"||command = "Guny"||command = "Gunz"
triggerall = statetype = S
triggerall = statetype != A 
trigger1 = ctrl
trigger2= (stateno=200)&&movecontact
trigger3= (stateno=210)&&movecontact
trigger4= (stateno=220)&&movecontact
trigger5= (stateno=221)&&movecontact

;FlameThrow Attack 
[State -1, FlameThrow]
type = ChangeState
value = 1000
triggerall = !var(50)
triggerall = command = "FlameThrowx"||command ="FlameThrowy"||command ="FlameThrowz"
triggerall= statetype = S
triggerall = statetype != A
trigger1 = ctrl
trigger2= (stateno=200)&&movecontact
trigger3= (stateno=210)&&movecontact
trigger4= (stateno=220)&&movecontact
trigger5= (stateno=221)&&movecontact


;throw
[State -1,  throw]
type = ChangeState
value = 800
triggerall = !var(50)
triggerall = command = "x" || command = "y"  || command = "z" 
triggerall = statetype != A
triggerall = ctrl
triggerall = stateno != 100
trigger1 = command = "holdfwd"
trigger1 = p2bodydist X < 10
trigger1 = (p2statetype = S) || (p2statetype = C)
trigger1 = p2movetype != H
trigger2 = command = "holdback"
trigger2 = p2bodydist X < 10
trigger2 = (p2statetype = S) || (p2statetype = C)
trigger2 = p2movetype != H

;Stand Light Punch
[State -1, Stand Light Punch]
type = ChangeState
value = 200
triggerall = !var(50)
triggerall = command = "x"
triggerall = statetype = S
trigger1 = ctrl

;Stand mid Punch
[State -1, Stand mid Punch]
type = ChangeState
value = 210
triggerall = !var(50)
triggerall = command = "y"
triggerall = statetype = S
trigger1 = ctrl
trigger2 = stateno = 230 && movecontact
trigger3 = stateno = 240 && movecontact 
trigger4 = stateno = 200 && movecontact

;Stand Strong Punch
[State -1,Stand Strong Punch]
type = ChangeState
value = 220
triggerall = !var(50)
triggerall = command = "z"
triggerall = statetype = S
trigger1 = ctrl 
trigger2 = stateno = 200 && movecontact
trigger3 = stateno = 210 && movecontact
trigger4 = stateno = 230 && movecontact
trigger5 = stateno = 240 && movecontact

;Stand Light Kick
[State -1, Stand Light Kick]
type = ChangeState
value = 230
triggerall = !var(50)
triggerall = command = "a"
triggerall = statetype = S
trigger1 = ctrl

[State -1, Standing mid Kick]
type = ChangeState
value = 245
triggerall = !var(50)
triggerall = command = "b" && (command = "holdfwd" || (stateno = 240 && movecontact))
triggerall = statetype = S
trigger1 = ctrl
trigger2 = stateno = 200 && movecontact
trigger3 = stateno = 210 && movecontact 
trigger4 = stateno = 230 && movecontact
trigger5 = stateno = 240 && movecontact

[State -1, Standing mid Kick]
type = ChangeState
value = 240
triggerall = !var(50)
triggerall = command = "b"
triggerall = statetype = S
trigger1 = ctrl
trigger2 = stateno = 200 && movecontact
trigger3 = stateno = 210 && movecontact 
trigger4 = stateno = 230 && movecontact

;Standing Strong Kick
[State -1, Standing Strong Kick]
type = ChangeState
value = 250
triggerall = !var(50)
triggerall = command = "c" 
triggerall = statetype = S
trigger1 = ctrl  
trigger2 = stateno = 210 && movecontact 
trigger3 = stateno = 220 && movecontact
trigger4 = stateno = 230 && movecontact
trigger5 = stateno = 240 && movecontact
trigger6 = stateno = 245 && movecontact


;Crouching Light Punch
[State -1, Crouching Light Punch]
type = ChangeState
value = 400
triggerall = !var(50)
triggerall = command = "x"
triggerall = command = "holddown"
triggerall = statetype = C
trigger1 = ctrl


;Crouching Strong Punch
[State -1, Crouching Strong Punch]
type = ChangeState
value = 410
triggerall = !var(50)
triggerall = command = "y"
triggerall = command = "holddown"
triggerall = statetype = C
trigger1 = ctrl
trigger2 = stateno = 400 && movecontact 
trigger3 = stateno = 430 && movecontact 
trigger4 = stateno = 450 && movecontact

;Crouching Strong Punch
[State -1, Crouching Strong Punch]
type = ChangeState
value = 420
triggerall = !var(50)
triggerall = command = "z"
triggerall = command = "holddown"
triggerall = statetype = C
trigger1 = ctrl
trigger2 = stateno = 410 && movecontact
trigger3 = stateno = 430 && movecontact 
trigger4 = stateno = 450 && movecontact


;Crouching Light Kick
[State -1, Crouching Light Kick]
type = ChangeState
value = 430
triggerall = !var(50)
triggerall = command = "a"
triggerall = command = "holddown"
triggerall = statetype = C
trigger1 = ctrl
trigger2 = stateno = 400 && movecontact 
trigger3 = stateno = 410 && movecontact
trigger4 = stateno = 450 && movecontact

;Crouching Strong Kick
[State -1, Crouching Strong Kick]
type = ChangeState
value = 440
triggerall = !var(50)
triggerall = command = "b"
triggerall = command = "holddown"
triggerall = statetype = C
trigger1 = ctrl
trigger2 = stateno = 400 && movecontact 
trigger3 = stateno = 410 && movecontact 
trigger4 = stateno = 430 && movecontact


;Crouching Strong Kick
[State -1, Crouching Strong Kick]
type = ChangeState
value = 450
triggerall = !var(50)
triggerall = command = "c"
triggerall = command = "holddown"
triggerall = statetype = C
trigger1 = ctrl
trigger2 = stateno = 440 && movecontact 
trigger3 = stateno = 410 && movecontact 
trigger4 = stateno = 430 && movecontact


;Jump Light Punch
[State -1, Jump Light Punch]
type = ChangeState
value = 600
triggerall = !var(50)
triggerall = command = "x"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = stateno = 610
trigger2 = movecontact
trigger3 = stateno = 630
trigger3 = movecontact
trigger4 = stateno = 640
trigger4 = movecontact


;Jump Strong Punch
[State -1, Jump Strong Punch]
type = ChangeState
value = 610
triggerall = !var(50)
triggerall = command = "y"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = stateno = 600
trigger2 = movecontact
trigger3 = stateno = 630
trigger3 = movecontact
trigger4 = stateno = 640
trigger4 = movecontact

;Jump Strong Punch
[State -1, Jump Strong Punch]
type = ChangeState
value = 620
triggerall = !var(50)
triggerall = command = "z"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = stateno = 600
trigger2 = movecontact
trigger3 = stateno = 630
trigger3 = movecontact
trigger4 = stateno = 610
trigger4 = movecontact


;Jump Light Kick
[State -1, Jump Light Kick]
type = ChangeState
value = 630
triggerall = !var(50)
triggerall = command = "a"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = stateno = 600
trigger2 = movecontact
trigger3 = stateno = 610
trigger3 = movecontact
trigger4 = stateno = 640
trigger4 = movecontact 

;Jump Strong Kick
[State -1, Jump Strong Kick]
type = ChangeState
value = 640
triggerall = !var(50)
triggerall = command = "b"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = stateno = 600
trigger2 = movecontact
trigger3 = stateno = 610
trigger3 = movecontact
trigger4 = stateno = 630
trigger4 = movecontact

;Jump Strong Kick
[State -1, Jump Strong Kick]
type = ChangeState
value = 650
triggerall = !var(50)
triggerall = command = "c"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = stateno = 640
trigger2 = movecontact
trigger3 = stateno = 610
trigger3 = movecontact
trigger4 = stateno = 630
trigger4 = movecontact




;Super Jump
[State -1, super jump ]
type = ChangeState
value = 9996
triggerall = !var(50)
trigger1 = command = "DU"
trigger1 = ctrl
trigger1 = statetype != A

[State -3,veladd]
type = Veladd
triggerall = !var(50)
triggerall =command = "holdfwd"
triggerall = prevstateno = 9996 
trigger1 = stateno = 50
x = .2

[State state-3,veladd]
type = Veladd
triggerall = !var(50)
triggerall =command = "holdback"
triggerall = prevstateno = 9996
trigger1 = stateno = 50
x = -.2





;*******************************************************************************************


;=====================================================================
;A.I.
;=====================================================================


[State -1, AISET]
type = varset
triggerALL = !var(50)
trigger1 = command="cpu1"
trigger2 = command="cpu2"
trigger3 = command="cpu3"
trigger4 = command="cpu4"
trigger5 = command="cpu5"
trigger6 = command="cpu6"
trigger7 = command="cpu7"
trigger8 = command="cpu8"
trigger9 = command="cpu9"
trigger10 = command="cpu10"
trigger11 = command="cpu11"
trigger12 = command="cpu12"
trigger13 = command="cpu13"
trigger14 = command="cpu14"
trigger15 = command="cpu15"
trigger16 = command="cpu16"
trigger17 = command="cpu17"
trigger18 = command="cpu18"
trigger19 = command="cpu19"
trigger20 = command="cpu20"
trigger21 = command="cpu21"
trigger22 = command="cpu22"
trigger23 = command="cpu23"
trigger24 = command="cpu24"
trigger25 = command="cpu25"
trigger26 = command="cpu26"
trigger27 = command="cpu27"
trigger28 = command="cpu28"
trigger29 = command="cpu29"
trigger30 = command="cpu30"
trigger31 = command="cpu31"
trigger32 = command="cpu32"
trigger33 = command="cpu33"
trigger34 = command="cpu34"
trigger35 = command="cpu35"
trigger36 = command="cpu36"
trigger37 = command="cpu37"
trigger38 = command="cpu38"
trigger39 = command="cpu39"
trigger40 = command="cpu40"
trigger41 = command="cpu41"
trigger42 = command="cpu42"
trigger43 = command="cpu43"
trigger44 = command="cpu44"
trigger45 = command="cpu45"
trigger46 = command="cpu46"
trigger47 = command="cpu47"
trigger48 = command="cpu48"
trigger49 = command="cpu49"
trigger50 = command="cpu50"
trigger51 = command="cpu51"
trigger52 = command="cpu52"
trigger53 = command="cpu53"
trigger54 = command="cpu54"
trigger55 = command="cpu55"
trigger56 = command="cpu56"
trigger57 = command="cpu57"
trigger58 = command="cpu58"
trigger59 = command="cpu59"
trigger60 = command="cpu60"
var(50)=1



[State -1, Run Fwd]
type = changestate
value = 100
triggerall = VAR(50) && numenemy
triggerall = statetype = S && roundstate = 2 && (ctrl||stateno=21)
triggerall = (stateno != [100, 105]) && P2statetype != L && enemynear, movetype != A && p2bodydist x > 100
trigger1 = random<=20

[State -1, Run back]
type = changestate
value = 105
triggerall = VAR(50) && numenemy
triggerall = statetype = S && roundstate = 2 && (ctrl||stateno=21)
triggerall = (stateno != [100, 105]) && enemynear, movetype != A && p2bodydist x < 150
trigger1 = random<=20+20*(enemynear,hitfall||p2statetype=L||(enemynear,stateno=[120,155]))


[State -1, Guard]
type = changestate
value = 120
trigger1 = var(50) && numenemy
trigger1 = roundstate = 2 && inguarddist
trigger1 = ( ctrl || StateNo=21) && (stateno != [120, 155])
trigger1 = !(enemynear, hitdefattr = SCA, AT) && (enemynear, time < 120)
trigger1 = random < (ifelse((p2stateno = [200, 699]), 700, ifelse((p2stateno = [1000, 2999]), 900, 1000)))

[State -1, SLP]
type = changestate
value = 200
triggerall = var(50) && numenemy
triggerall = statetype != A && roundstate = 2
triggerall = (p2bodydist x = [-8, 87]) && (p2bodydist y = [ -70, 50]) && p2statetype != L && !(enemynear, hitfall)
triggerall = (enemynear, const(size.head.pos.y) <= -40) || (enemynear, statetype = A)
triggerall = random < 60
trigger1 = ctrl || stateno=21
trigger2= (stateno=400)&&moveHIT
trigger3= (stateno=430)&&moveHIT
trigger4= (stateno=230)&&moveHIT

[State -1, SMP]
type = changestate
value = 210
triggerall = var(50) && numenemy
triggerall = statetype != A && roundstate = 2
triggerall = (p2bodydist x = [-11, 115]) && (p2bodydist y = [ -50, 50]) && p2statetype = S && !(enemynear, hitfall)
triggerall = (enemynear, const(size.head.pos.y) <= -40) || (enemynear, statetype = A)
triggerall = random < 50
trigger1 = ctrl || stateno=21
trigger2= (stateno=200)&&moveHIT
trigger3= (stateno=400)&&moveHIT
trigger4= (stateno=430)&&moveHIT
trigger5= (stateno=240)&&moveHIT
trigger6= (stateno=230)&&moveHIT

[State -1, SHP3]
type = changestate
value = 220
triggerall = var(50) && numenemy
triggerall = statetype != A && roundstate = 2
triggerall = (p2bodydist y = [ -60, 50]) && (p2statetype = S || p2statetype = C)
triggerall = (enemynear, const(size.head.pos.y) <= -40) || (enemynear, statetype = A)
triggerall = Random < 30
trigger1 = (Ctrl || StateNo=21 || StateNo=100) && (p2bodydist x = [0, 135])
trigger2= (stateno=240)&&movehit
trigger3= (stateno=210)&&movehit
trigger4= (stateno=410)&&movehit
trigger5= (stateno=440)&&movehit

[State -1, SLK]
type = changestate
value = 230
triggerall = var(50) && numenemy
triggerall = statetype != A && roundstate = 2
triggerall = (p2bodydist x = [0, 96]) && (p2bodydist y = [ -50, 50]) && p2statetype != L && p2statetype != A && !(enemynear, hitfall)
trigger1 = (Ctrl || StateNo=21 || StateNo=100) && random < 50

[State -1, SMK]
type = changestate
value = 240
triggerall = var(50) && numenemy
triggerall = statetype != A && roundstate = 2
triggerall = (p2bodydist x = [0, 155]) && (p2bodydist y = [ -60, 50]) && p2statetype != L && p2statetype != C && !(enemynear, hitfall)
triggerall = (enemynear, const(size.head.pos.y) <= -40) || (enemynear, statetype = A)
triggerall = random < 40
trigger1 = (Ctrl || StateNo=21 || StateNo=100)
trigger2= (stateno=400)&&movehit
trigger3= (stateno=200)&&movehit
trigger4= (stateno=430)&&movehit
trigger5= (stateno=230)&&movehit

[State -1, SMK]
type = changestate
value = 245
triggerall = var(50) && numenemy
triggerall = statetype != A && roundstate = 2
triggerall = (p2bodydist x = [0, 100]) && (p2bodydist y = [ -50, 50]) && p2statetype != L && p2statetype != C && !(enemynear, hitfall)
triggerall = (enemynear, const(size.head.pos.y) <= -40) || (enemynear, statetype = A)
triggerall = random < 40
trigger1 = (Ctrl || StateNo=21 || StateNo=100)
trigger2= (stateno=400)&&movehit
trigger3= (stateno=200)&&movehit
trigger4= (stateno=430)&&movehit
trigger5= (stateno=230)&&movehit

[State -1, SHK]
type = changestate
value = 250
triggerall = var(50) && numenemy
triggerall = statetype != A && roundstate = 2
triggerall = (p2bodydist x = [0, 170]) && (p2bodydist y = [ -80, 50]) && p2statetype != L && p2statetype != C && !(enemynear, hitfall)
triggerall = (enemynear, const(size.head.pos.y) <= -40) || (enemynear, statetype = A)
triggerall = random < 65
trigger1 = Ctrl || StateNo=21
trigger2= (stateno=220)&&movehit
trigger3= (stateno=240)&&movehit
trigger4= (stateno=410)&&movehit
trigger5= (stateno=440)&&movehit
trigger6= (stateno=245)&&movehit


[State -1, CLP]
type = changestate
value = 400
triggerall = var(50) && numenemy
triggerall = statetype != A && roundstate = 2
triggerall = (p2bodydist x = [-6, 77]) && (p2bodydist y = [ -50, 50]) && p2statetype != L && p2statetype != A && !(enemynear, hitfall)
triggerall = random < 50
trigger1 = ctrl
trigger2= (stateno=400)&&moveHIT
trigger3= (stateno=430)&&moveHIT
trigger4= (stateno=230)&&moveHIT

[State -1, CMP]
type = changestate
value = 410
triggerall = var(50) && numenemy
triggerall = statetype != A && roundstate = 2
triggerall = (p2bodydist x = [-10, 95]) && P2statetype != A && !(enemynear, hitfall)
triggerall = Random < 30
trigger1 = Ctrl
trigger2=(stateno=400)&&movehit
trigger3=(stateno=430)&&movehit

[State -1, CHP]
type = changestate
value = 420
triggerall = var(50) && numenemy 
triggerall = statetype != A && roundstate = 2 && p2statetype != L
triggerall = (enemynear, const(size.head.pos.y) <= -40) || (enemynear, statetype = A)
triggerall = (p2bodydist x = [0, 65]) && (p2dist y = [ -100, 50]) &&!(enemynear, hitfall)
triggerall = Random < 30
trigger1 = Ctrl
trigger2= (stateno=200)&&movehit
trigger3= (stateno=221)&&movehit
trigger4= (stateno=230)&&movehit
trigger5= (stateno=240)&&movehit
trigger6= (stateno=400)&&movehit
trigger7= (stateno=410)&&movehit
trigger8= (stateno=450)&&movehit

[State -1, CLK]
type = changestate
value = 430
triggerall = var(50) && numenemy
triggerall = statetype != A && roundstate = 2
triggerall = (p2bodydist x = [-7, 60]) && (p2bodydist y = [ -50, 50]) && p2statetype != L && p2statetype != A && !(enemynear, hitfall)
triggerall = random < 50
trigger1 = ctrl || StateNo=21 || StateNo=100

[State -1, CMK]
type = changestate
value = 440
triggerall = var(50) && numenemy
triggerall = statetype != A && roundstate = 2
triggerall = (p2bodydist x = [-2, 90]) && (p2bodydist y = [ -50, 50]) && p2statetype != L && p2statetype != A && !(enemynear, hitfall)
triggerall = Random < 40
trigger1 = Ctrl
trigger2= (stateno=430)&&movehit
trigger3= (stateno=400)&&movehit
trigger3= (stateno=230)&&movehit
trigger4= (stateno=200)&&movehit

[State -1, CHK]
type = changestate
value = 450
triggerall = var(50) && numenemy
triggerall = statetype != A && roundstate = 2
triggerall = (p2bodydist x = [35, 100]) && (p2bodydist y = [ -50, 50]) && p2statetype != L
triggerall = Enemynear,Anim != 5300
trigger1 = (Ctrl || StateNo = 21 || StateNo = 100) && !(enemynear, hitfall) && p2statetype = S
triggerall = Random < 30
trigger2= (stateno=210)&&movehit
trigger3= (stateno=240)&&movehit
trigger4= (stateno=410)&&movehit
trigger5= (stateno=440)&&movehit

;Jump Light Punch
[State -1, Jump Light Punch]
type = ChangeState
value = 600
triggerall = var(50) && numenemy
triggerall = statetype = A && roundstate = 2
triggerall = (p2bodydist x = [0,75]) && (p2bodydist y = [ -50, 50]) && p2statetype != L
triggerall = random < (ifelse((vel x > 0 && p2statetype = A), 250, 100))
trigger1 = ctrl
trigger2 = stateno = 610
trigger2 = movecontact
trigger3 = stateno = 630
trigger3 = movecontact
trigger4 = stateno = 640
trigger4 = movecontact


;Jump mid Punch
[State -1, Jump mid Punch]
type = ChangeState
value = 610
triggerall = var(50) && numenemy
triggerall = statetype = A && roundstate = 2
triggerall = (p2bodydist x = [0,90]) && (p2bodydist y = [ -50, 50]) && p2statetype != L
triggerall = random < (ifelse((vel x > 0 && p2statetype = A), 450, 100))
trigger1 = ctrl
trigger2 = stateno = 600
trigger2 = movecontact
trigger3 = stateno = 630
trigger3 = movecontact
trigger4 = stateno = 640
trigger4 = movecontact

;Jump Strong Punch
[State -1, Jump Strong Punch]
type = ChangeState
value = 620
triggerall = var(50) && numenemy
triggerall = statetype = A && roundstate = 2
triggerall = (p2bodydist x = [-30, 90]) && (p2dist y = [ -50, 80]) && p2statetype != L
triggerall = random < (ifelse((vel x > 0 && p2statetype = A), 350, 200))
trigger1 = ctrl
trigger2 = stateno = 600
trigger2 = movecontact
trigger3 = stateno = 630
trigger3 = movecontact
trigger4 = stateno = 610
trigger4 = movecontact


;Jump Light Kick
[State -1, Jump Light Kick]
type = ChangeState
value = 630
triggerall = var(50) && numenemy
triggerall = statetype = A && roundstate = 2
triggerall = (p2bodydist x = [-10,100]) && (p2bodydist y = [ -50, 50]) && p2statetype != L && !(enemynear, hitfall)
triggerall = random < 50
trigger1 = ctrl
trigger2 = stateno = 600
trigger2 = movecontact
trigger3 = stateno = 610
trigger3 = movecontact
trigger4 = stateno = 640
trigger4 = movecontact 

;Jump mid Kick
[State -1, Jump mid Kick]
type = ChangeState
value = 640
triggerall = var(50) && numenemy
triggerall = statetype = A && roundstate = 2
triggerall = (p2bodydist x = [ 10, 105]) && (p2bodydist y = [ -50, 50]) && p2statetype != L
triggerall = random < 50
trigger1 = ctrl
trigger2 = stateno = 600
trigger2 = movecontact
trigger3 = stateno = 610
trigger3 = movecontact
trigger4 = stateno = 630
trigger4 = movecontact

;Jump Strong Kick
[State -1, Jump Strong Kick]
type = ChangeState
value = 650
triggerall = var(50) && numenemy 
triggerall = statetype = A && roundstate = 2
triggerall = (p2bodydist x = [ 10,115]) && (p2bodydist y = [ -50, 60]) && p2statetype != L
triggerall = Random < (50 + 150 * (P2MoveType != I && (Abs(Enemynear,animtime)=[5,12])))
trigger1 = ctrl
trigger2 = stateno = 640
trigger2 = movecontact
trigger3 = stateno = 610
trigger3 = movecontact
trigger4 = stateno = 630
trigger4 = movecontact


; Taunt
[State -1, taunt]
type = changestate
value = 195
triggerall = var(50) && numenemy
triggerall = roundstate = 2 && statetype != A
trigger1 = p2dist x > 160 && (enemynear, vel y > 0) && ctrl && random <=20
trigger1 = !(enemynear, ctrl) && (enemynear, movetype = H) && (p2bodydist y = [ -120, 120])


;grap
[State -1,  grap]
type = ChangeState
value = 800
triggerall = var(50) && numenemy
triggerall = roundstate = 2 && statetype = S && stateno != 100 && (Ctrl || StateNo=21)
triggerall = p2statetype != A && p2statetype != L && p2movetype != H
trigger1 = (p2bodydist x = [0, 15]) && (p2bodydist y = [ -25, 25])


;sp5
[State -1,  sp5]
type = ChangeState
value = 1010
triggerall = var(50) && numenemy
triggerall = roundstate = 2 && statetype != A
triggerall = p2statetype != A && p2statetype != L && !(enemynear,hitfall)
triggerall = (enemynear, vel y > -1) 
triggerall = Random < 60
triggerall = (p2bodydist x = [-10, 150])  && (p2bodydist y = [-50, 50])
trigger1 = Ctrl || stateno=21


;sp5
[State -1,  sp5]
type = ChangeState
value = 1011
triggerall = var(50) && numenemy
triggerall = roundstate = 2 && statetype != A && !(enemynear, hitfall)
triggerall = (p2bodydist x >= 60)  && (p2bodydist y = [-50, 50])
trigger1 = Ctrl && p2statetype=S
trigger1 = Random < 65

[State -1, sp2]
type = ChangeState
value = 2000
triggerall = var(50) && numenemy
triggerall = roundstate = 2 && statetype != A && !(enemynear, hitfall)
triggerall = (p2bodydist x >= 60)  && (p2bodydist y = [-50, 50])
trigger1 = Ctrl
trigger1 = Random < 65-35*(p2statetype=L)

[State -1, sp2]
type = ChangeState
value = 2200
triggerall = var(50) && numenemy
triggerall = roundstate = 2 && statetype != A
triggerall = p2statetype != L && !(enemynear,hitfall)
triggerall = (enemynear, vel y > -1) 
triggerall = (enemynear, const(size.head.pos.y) <= -40) || (enemynear, statetype = A)
triggerall = Random < 100
triggerall = (p2bodydist x = [-10, 180])  && (p2bodydist y = [-90, 50])
trigger1 = Ctrl || stateno=21
trigger2= (stateno=240)&&movehit
trigger3= (stateno=210)&&movehit
trigger4= (stateno=220)&&movehit
trigger5= (stateno=221)&&movehit

[State -1, sp1]
type = ChangeState
value = 1000
triggerall = var(50) && numenemy
triggerall = roundstate = 2 && statetype != A
triggerall = p2statetype != L && !(enemynear,hitfall)
triggerall = (enemynear, vel y > -1) 
triggerall = (enemynear, const(size.head.pos.y) <= -40) || (enemynear, statetype = A)
triggerall = Random < 60+60*(p2dist x<120)
triggerall = (p2bodydist x = [10, 200])  && (p2bodydist y = [-50, 50])
trigger1 = Ctrl || stateno=21
trigger2= (stateno=240)&&movehit
trigger3= (stateno=210)&&movehit
trigger4= (stateno=220)&&movehit
trigger5= (stateno=221)&&movehit

;sp5
[State -1,  sp5]
type = ChangeState
value = 1100
triggerall = var(50) && numenemy
triggerall = statetype != A && roundstate = 2 && p2dist x>=120 && life<lifemax
triggerall =  p2movetype!=A && ((enemynear,stateno!=[120,155])||random<=400)
triggerall = random<=6+10*p2statetype=L+10*(ENEMYNEAR,HITFALL)
trigger1 = (Ctrl || StateNo=21)


;sp7
[State -1, sp7]
type = ChangeState
value = 1020
triggerall = var(50) && numenemy
triggerall = statetype != A && roundstate = 2 && (!numhelper(1030)  || !numhelper(1040)  || !numhelper(1050))
triggerall = (p2bodydist y = [-70, 50]) && (p2bodydist x >=60) && !(enemynear, hitfall||random<=200) && ((enemynear,stateno!=[120,155])||random<=400)
triggerall = (p2statetype != L||random<=200) && random<80
trigger1 = (Ctrl || StateNo=21)

[State -1, cmagnum]
type = ChangeState
value = 2300
triggerall = var(50) && numenemy
triggerall = roundstate = 2 && statetype != A
triggerall = p2statetype != L && !(enemynear,hitfall)
triggerall = (enemynear, vel y > -1) 
triggerall = (enemynear, const(size.head.pos.y) <= -40) || (enemynear, statetype = A)
triggerall = Random < 80+80*(p2dist x<120)
triggerall = (p2bodydist x = [10, 200])  && (p2bodydist y = [-50, 50])
trigger1 = Ctrl || stateno=21
trigger2= (stateno=230)&&movehit
trigger3= (stateno=240)&&movehit
trigger4= (stateno=440)&&movehit

[State -1, su1]
type = ChangeState
value = 3000
triggerall = var(50) && numenemy
triggerall = (power=[1000,2100])||(power>=1000 && random<=300)
triggerall = roundstate = 2 && statetype != A && power >= 1000
triggerall = P2statetype != L && P2statetype != A && Enemynear,vel y > -1 && !(enemynear, hitfall)
trigger1 = (p2dist y = [ -50, 50])
trigger1 = (ctrl||stateno=21) && (p2bodydist x = [-5, 125+30*(enemynear,vel x>=1)]) && random < 40 + 40*(enemynear, ctrl=0) + 40*(p2movetype=A)


[State -1, su1]
type = ChangeState
value = 3100
triggerall = var(50) && numenemy
triggerall = (power=[1000,2100])||(power>=1000 && random<=300)
triggerall = roundstate = 2 && statetype != A && power >= 1000
triggerall = P2statetype != L && P2statetype != A && Enemynear,vel y > -1 && !(enemynear, hitfall)
trigger1 = (p2dist y = [ -50, 50])
trigger1 = (ctrl||stateno=21) && (p2bodydist x = [-5, 140+30*(enemynear,vel x>=1)]) && random < 45 + 40*(enemynear, ctrl=0) + 40*(p2movetype=A)


[State -1, racket launcher]
type = ChangeState
value = 3400
triggerall = var(50) && numenemy
triggerall = (power=[1000,2100])||(power>=1000 && random<=300)
triggerall = roundstate = 2 && statetype != A && power >= 1000
triggerall = P2statetype != L && P2statetype != A && Enemynear,vel y > -1 && !(enemynear, hitfall)
trigger1 = (p2dist y = [ -50, 50])
trigger1 = (ctrl||stateno=21) && (p2bodydist x = [-5, 110+30*(enemynear,vel x>=1)]) && random < 65 + 40*(enemynear, ctrl=0) + 40*(p2movetype=A)

[State -1, su2]
type = ChangeState
value = 3200
triggerall = var(50) && numenemy
triggerall = roundstate = 2 && power >= 3000 && statetype != A
triggerall = (enemynear, statetype != L)
triggerall = (p2bodydist x = [-11, 200]) && (P2Dist Y = [-50,50]) && !(enemynear, hitfall)
triggerall = (enemynear, vel y > -1) 
triggerall = enemynear,ctrl=0
trigger1 = (ctrl || StateNo=21 || StateNo=100)

[State -1, superjump]
type = ChangeState
value = 9996
triggerall = var(50) && numenemy
triggerall = roundstate = 2 && statetype != A && !(enemynear, hitfall)
triggerall = (p2bodydist x >= 60)  && (p2bodydist y = [-50, 50])
trigger1 = Ctrl
trigger1 = Random < 35-20*(p2statetype=L)
