;----------------------------------------------------------------------------
;Slash FX
[Statedef 2030]
type = A
ctrl = 0
anim = 7606
velset = 0,0
movetype = I
physics = N
sprpriority = -4

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 32000, AssertSpecial]
type = AssertSpecial
Trigger1 = 1
Trigger1 = root,movetype = H && root,stateno !=[120,159]
flag = invisible
ignorehitpause = 1

[state a]
type = angleset
trigger1 = 1
value = 25  ;55 + time*1


;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0

;--------------------------
;fire(front)
;--------------------------
[Statedef 2040]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 6500
sprpriority = 2

[State 2008, ヒット判定用]
type = VarSet
trigger1 = Time = 0
v = 25
value = random

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.5,0.5
ignorehitpause = 0

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
x = 60

[State 281, HitDef]
type = Projectile
trigger1 = (Time = 0)
attr             = A, HP
damage           = ceil(ifElse(fvar(11) * 20 < 18, 18, fvar(11) * 20)), 7
guardflag         = MA
hitflag           = MAFD
animtype         = Heavy
pausetime        = 0,10
;-----------------------------------
offset           = 0,0
velocity         = 60,0
accel            = 0,0
projID           = (var(25))
projanim         = 6650  ;透明の「攻撃判定専用アニメ」を設定してる
projhitanim      = 9999
projremanim      = 9999
projscale        = 1,1
projshadow       = 0,0,0
projhits         = 1
projmisstime     = 0
projpriority     = 5
projremovetime   = 100
projsprpriority  = -1  
;-----------------------------------
priority         = 4
sparkno          = 9999;s(Root,var(44))
sparkxy          = ceil(ifelse((P2Dist X<0),30+Random/40,30-Random/40)),ceil(ifelse(Random<500,60+Random/70,60-Random/70))
guard.sparkno    = 9999;s4216
hitsound         = s1,21
guardsound       = s0,30
ground.type      = High
ground.slidetime = 12
ground.hittime   = 19
ground.velocity  = ifelse((root,time>=50),-9,-4.5),ifelse((root,time>=50),-7,0)
guard.velocity   = -3
air.velocity     = -4.5,-5
airguard.velocity= -3,-4
yaccel           = 0.4
fall             = ifelse((root,time>=50),1,0)
air.fall         = 1
fall.recover     = 0
envshake.time    = 4
envshake.ampl    = 6
envshake.freq    = 45

[State 1315, effect]
type = helper
triggerAll = NumEnemy
trigger1 = (Root,ProjhitTime(var(25)) = 1)
name ="Spark FX"
ID =8820
stateno =8820
Postype = p2
pos=(target,const(size.ground.front)),-180
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 8090, G-FX]
type = Helper
triggerAll = NumEnemy
trigger1 = (Root,ProjguardedTime(var(25)) = 1)
pos = 10,enemy,const(size.mid.pos.y)
postype = p2
stateno = 8090
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 281,end]
type = Destroyself
trigger1 = time = 500

[State 281,end]
type = changestate ;Destroyself
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
trigger2 = (Root,ProjContactTime(var(25)) = 1)
value = 6360
;--------------------------
;fire(diagonal)
;--------------------------
[Statedef 2041]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 6503
sprpriority = 2

[State 2008, ヒット判定用]
type = VarSet
trigger1 = Time = 0
v = 25
value = random

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 35
scale = 0.5,0.5
ignorehitpause = 0

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
y = -23
x = 30.5

[State 281, HitDef]
type = Projectile
trigger1 = (Time = 0)
attr             = A, HP
damage           = ceil(ifElse(fvar(11) * 20 < 18, 18, fvar(11) * 20)), 7
guardflag         = MA
hitflag           = MAFD
animtype         = Heavy
pausetime        = 0,10
;-----------------------------------
offset           = 0,0
velocity         = 30.5,-23
accel            = 0,0
projID           = (var(25))
projanim         = 6650  ;透明の「攻撃判定専用アニメ」を設定してる
projhitanim      = 9999
projremanim      = 9999
projscale        = 1,1
projshadow       = 0,0,0
projhits         = 1
projmisstime     = 0
projpriority     = 5
projremovetime   = 100
projsprpriority  = -1  
;-----------------------------------
priority         = 4
sparkno          = 9999;s(Root,var(44))
sparkxy          = ceil(ifelse((P2Dist X<0),30+Random/40,30-Random/40)),ceil(ifelse(Random<500,60+Random/70,60-Random/70))
guard.sparkno    = 9999;s4216
hitsound         = s1,21
guardsound       = s0,30
ground.type      = High
ground.slidetime = 16
ground.hittime   = 19
ground.velocity  = ifelse((root,time>=50),-9,-4.5),ifelse((root,time>=50),-7,0)
guard.velocity   = -3
air.velocity     = -4.5,-5
airguard.velocity= -3,-4
yaccel           = 0.4
fall             = ifelse((root,time>=50),1,0)
air.fall         = 1
fall.recover     = 0
envshake.time    = 4
envshake.ampl    = 6
envshake.freq    = 45


[State 1315, effect]
type = helper
triggerAll = NumEnemy
trigger1 = (Root,ProjhitTime(var(25)) = 1)
name ="Spark FX"
ID =8820
stateno =8820
Postype = p2
pos=(target,const(size.ground.front)),-180
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 8090, G-FX]
type = Helper
triggerAll = NumEnemy
trigger1 = (Root,ProjguardedTime(var(25)) = 1)
pos = 10,enemy,const(size.mid.pos.y)
postype = p2
stateno = 8090
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 281,end]
type = Destroyself
trigger1 = time = 500

[State 281,end]
type = changestate ;Destroyself
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
trigger2 = (Root,ProjContactTime(var(25)) = 1)
value = 6360
;--------------------------
;fire(air)
;--------------------------
[Statedef 2042]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 6501
sprpriority = 2

[State 2008, ヒット判定用]
type = VarSet
trigger1 = Time = 0
v = 25
value = random

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -34
scale = 0.5,0.5
ignorehitpause = 0

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
y = 25
x = 35

[State 281, HitDef]
type = Projectile
trigger1 = (Time = 0)
attr             = A, HP
damage           = ceil(ifElse(fvar(11) * 20 < 18, 18, fvar(11) * 20)), 7
guardflag         = MA
hitflag           = MAFD
animtype         = Heavy
pausetime        = 0,10
;-----------------------------------
offset           = 0,0
velocity         = 35,25
accel            = 0,0
projID           = (var(25))
projanim         = 6650  ;透明の「攻撃判定専用アニメ」を設定してる
projhitanim      = 9999
projremanim      = 9999
projscale        = 1,1
projshadow       = 0,0,0
projhits         = 1
projmisstime     = 0
projpriority     = 5
projremovetime   = 100
projsprpriority  = -1  
;-----------------------------------
priority         = 4
sparkno          = 9999;s(Root,var(44))
sparkxy          = ceil(ifelse((P2Dist X<0),30+Random/40,30-Random/40)),ceil(ifelse(Random<500,60+Random/70,60-Random/70))
guard.sparkno    = 9999;s4216
hitsound         = s1,21
guardsound       = s0,30
ground.type      = High
ground.slidetime = 16
ground.hittime   = 19
ground.velocity  = ifelse((root,time>=50),-9,-4.5),ifelse((root,time>=50),-7,0)
guard.velocity   = -3
air.velocity     = -4.5,-5
airguard.velocity= -3,-4
yaccel           = 0.4
fall             = ifelse((root,time>=50),1,0)
air.fall         = 1
fall.recover     = 0
envshake.time    = 4
envshake.ampl    = 6
envshake.freq    = 45

[State -2, Drive increase]
type = varadd
triggerAll = NumEnemy
trigger1 = (Root,ProjcontactTime(var(25)) = 1)
v = 50
value = 10
persistent = 0
ignorehitpause = 1

[State 1315, effect]
type = helper
triggerAll = NumEnemy
trigger1 = (Root,ProjhitTime(var(25)) = 1)
name ="Spark FX"
ID =8820
stateno =8820
Postype = p2
pos=(target,const(size.ground.front)),-180
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 8090, G-FX]
type = Helper
triggerAll = NumEnemy
trigger1 = (Root,ProjguardedTime(var(25)) = 1)
pos = 10,enemy,const(size.mid.pos.y)
postype = p2
stateno = 8090
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 281,end]
type = changestate
trigger1 = Pos Y >= 0
value = 6350

[State 281,end]
type = Destroyself
trigger1 = time = 500

[State 281,end]
type = changestate ;Destroyself
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
trigger2 = (Root,ProjContactTime(var(25)) = 1)
value = 6360
;--------------------------
;fire(crouch)
;--------------------------
[Statedef 20422]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 6500
sprpriority = 2

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -34
scale = 0.5,0.5
ignorehitpause = 0

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
y = 40
x = 60

[State 281, HitDef]
type = HitDef
trigger1 = animelemtime(1) >= 0
attr = S,SP
hitflag = MAFDE
guardflag = MA 
animtype = Heavy                 
guardflag = MA                  
hitflag = MAF  
priority = 4,Hit   ;Hit,Miss,Dodge
damage = 12,4
pausetime = 0,13
hitsound   = s1,21
sparkno = S6091                     ;Spark anim no (Def: set above)
guard.sparkno = -1
sparkxy = -65,0; 0,0
air.type = low
ground.type = Low
ground.slidetime = 8
ground.hittime  = 10
ground.velocity = -18,-3
air.velocity = -8,-12
down.velocity = -20,0
down.hittime = 22
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
airguard.ctrltime = 0
hitonce = 1
fall = 1
fall.recover = 0
fall.xvelocity = 0
fall.yvelocity = 1
envshake.time = 7
envshake.ampl = 3

[State 1315, effect]
type = helper
triggerAll = NumTarget;Enemy
trigger1 = (HitCount = 1) && (MoveHit)
name ="Spark FX"
ID =8820
stateno =8820
Postype = p2
pos=(target,const(size.ground.front)-75),-130
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 281,end]
type = Destroyself
trigger1 = time = 500 || Pos Y >= -45
trigger2 = (HitCount = 1) && (MoveHit) || movecontact
;--------------------------
;fire(air + diagonal)
;--------------------------
[Statedef 2043]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 6502
sprpriority = 2

[State 2008, ヒット判定用]
type = VarSet
trigger1 = Time = 0
v = 25
value = random

[State 1061, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1061, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -90
scale = 0.5,0.5
ignorehitpause = 0

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
y = 70
x = 0

[State 281, HitDef]
type = Projectile
trigger1 = (Time = 0)
attr             = A, HP
damage           = ceil(ifElse(fvar(11) * 20 < 18, 18, fvar(11) * 20)), 7
guardflag         = MA
hitflag           = MAFD
animtype         = Heavy
pausetime        = 0,10
;-----------------------------------
offset           = 0,0
velocity         = 0,70
accel            = 0,0
projID           = (var(25))
projanim         = 6650  ;透明の「攻撃判定専用アニメ」を設定してる
projhitanim      = 9999
projremanim      = 9999
projscale        = 1,1
projshadow       = 0,0,0
projhits         = 1
projmisstime     = 0
projpriority     = 5
projremovetime   = 100
projsprpriority  = -1  
;-----------------------------------
priority         = 4
sparkno          = 9999;s(Root,var(44))
sparkxy          = ceil(ifelse((P2Dist X<0),30+Random/40,30-Random/40)),ceil(ifelse(Random<500,60+Random/70,60-Random/70))
guard.sparkno    = 9999;s4216
hitsound         = s1,21
guardsound       = s0,30
ground.type      = High
ground.slidetime = 16
ground.hittime   = 19
ground.velocity  = ifelse((root,time>=50),-9,-4.5),ifelse((root,time>=50),-7,0)
guard.velocity   = -3
air.velocity     = -4.5,-5
airguard.velocity= -3,-4
yaccel           = 0.4
fall             = ifelse((root,time>=50),1,0)
air.fall         = 1
fall.recover     = 0
envshake.time    = 4
envshake.ampl    = 6
envshake.freq    = 45

[State -2, Drive increase]
type = varadd
triggerAll = NumEnemy
trigger1 = (Root,ProjcontactTime(var(25)) = 1)
v = 50
value = 8
persistent = 0
ignorehitpause = 1

[State 1315, effect]
type = helper
triggerAll = NumEnemy
trigger1 = (Root,ProjhitTime(var(25)) = 1)
name ="Spark FX"
ID =8820
stateno =8820
Postype = p2
pos=(target,const(size.ground.front)),-180
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 8090, G-FX]
type = Helper
triggerAll = NumEnemy
trigger1 = (Root,ProjguardedTime(var(25)) = 1)
pos = 10,enemy,const(size.mid.pos.y)
postype = p2
stateno = 8090
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 281,end]
type = changestate
trigger1 = Pos Y >= 0
value = 6350

[State 281,end]
type = Destroyself
trigger1 = time = 500

[State 281,end]
type = changestate ;Destroyself
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
trigger2 = (Root,ProjContactTime(var(25)) = 1)
value = 6360
;--------------------------
;LV2 fire(front)
;--------------------------
[Statedef 21400]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 6651
sprpriority = 2

[State 2008, ヒット判定用]
type = VarSet
trigger1 = Time = 0
v = 25
value = random

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 5
timegap = 2
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 50, 50, 50
paladd = 0,0,0
palmul = .90, .90, .90

;[State 0, Explod]
;type = Explod
;trigger1 = time%10
;anim = 6611;+random%2
;ID = 6610
;pos = 0,0
;postype = p1
;bindtime = 2
;random = 10,20
;scale = .5,.5
;sprpriority = 10
;ownpal = 1
;trans =add

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1.5,1.5

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
x = 25
;y = 1-random%-6

[State 281, HitDef]
type = Projectile
trigger1 = (Time = 0)
attr             = A, HP
damage           = ceil(ifElse(fvar(11) * 20 < 25, 25, fvar(11) * 20)), 7
guardflag         = MA
hitflag           = MAFD
animtype         = Heavy
pausetime        = 0,10
;-----------------------------------
offset           = 0,0
velocity         = 25,0
accel            = 0,0
projID           = (var(25))
projanim         = 6650  ;透明の「攻撃判定専用アニメ」を設定してる
projhitanim      = 9999
projremanim      = 9999
projscale        = 1,1
projshadow       = 0,0,0
projhits         = 1
projmisstime     = 0
projpriority     = 5
projremovetime   = 100
projsprpriority  = -1  
;-----------------------------------
priority         = 4
sparkno          = 9999;s(Root,var(44))
sparkxy          = ceil(ifelse((P2Dist X<0),30+Random/40,30-Random/40)),ceil(ifelse(Random<500,60+Random/70,60-Random/70))
guard.sparkno    = 9999;s4216
hitsound         = s1,21
guardsound       = s0,30
ground.type      = High
ground.slidetime = 16
ground.hittime   = 19
ground.velocity  = ifelse((root,time>=50),-9,-4.5),ifelse((root,time>=50),-7,0)
guard.velocity   = -3
air.velocity     = -4.5,-5
airguard.velocity= -3,-4
yaccel           = 0.4
fall             = ifelse((root,time>=50),1,0)
air.fall         = 1
fall.recover     = 0
envshake.time    = 4
envshake.ampl    = 6
envshake.freq    = 45

[State 1315, effect]
type = helper
triggerAll = NumEnemy
trigger1 = (Root,ProjhitTime(var(25)) = 1)
name ="Spark FX"
ID =8820
stateno =8820
Postype = p2
pos=(target,const(size.ground.front)),-180
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 8090, G-FX]
type = Helper
triggerAll = NumEnemy
trigger1 = (Root,ProjguardedTime(var(25)) = 1)
pos = 10,enemy,const(size.mid.pos.y)
postype = p2
stateno = 8090
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 281,end]
type = removeexplod
trigger1 = time = 500
trigger2 = (HitCount = 1) && (MoveHit) || movecontact
trigger3 = (Root,ProjContactTime(var(25)) = 1)
id = 6610

[State 281,end]
type = Destroyself
trigger1 = time = 500

[State 281,end]
type = changestate ;Destroyself
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
trigger2 = (Root,ProjContactTime(var(25)) = 1)
value = 6361
;--------------------------
;LV2 fire(front)
;--------------------------
[Statedef 21401]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 6651
sprpriority = 2

[State 2008, ヒット判定用]
type = VarSet
trigger1 = Time = 0
v = 25
value = random

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 5
timegap = 2
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 50, 50, 50
paladd = 0,0,0
palmul = .90, .90, .90

;[State 0, Explod]
;type = Explod
;trigger1 = time%10
;anim = 6611;+random%2
;ID = 6610
;pos = 0,0
;postype = p1
;bindtime = 2
;random = 10,20
;scale = .5,.5
;sprpriority = 10
;ownpal = 1
;trans =add

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -(vel y)*5;-10+(time%5)
scale = 1.5,1.5

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
x = 25
y = 2.5

[State 281, HitDef]
type = Projectile
trigger1 = (Time = 0)
attr             = A, HP
damage           = ceil(ifElse(fvar(11) * 20 < 25, 25, fvar(11) * 20)), 7
guardflag         = MA
hitflag           = MAFD
animtype         = Heavy
pausetime        = 0,10
;-----------------------------------
offset           = 0,0
velocity         = 25,2.5
accel            = 0,0
projID           = (var(25))
projanim         = 6650  ;透明の「攻撃判定専用アニメ」を設定してる
projhitanim      = 9999
projremanim      = 9999
projscale        = 1,1
projshadow       = 0,0,0
projhits         = 1
projmisstime     = 0
projpriority     = 5
projremovetime   = 100
projsprpriority  = -1  
;-----------------------------------
priority         = 4
sparkno          = 9999;s(Root,var(44))
sparkxy          = ceil(ifelse((P2Dist X<0),30+Random/40,30-Random/40)),ceil(ifelse(Random<500,60+Random/70,60-Random/70))
guard.sparkno    = 9999;s4216
hitsound         = s1,21
guardsound       = s0,30
ground.type      = High
ground.slidetime = 16
ground.hittime   = 19
ground.velocity  = ifelse((root,time>=50),-9,-4.5),ifelse((root,time>=50),-7,0)
guard.velocity   = -3
air.velocity     = -4.5,-5
airguard.velocity= -3,-4
yaccel           = 0.4
fall             = ifelse((root,time>=50),1,0)
air.fall         = 1
fall.recover     = 0
envshake.time    = 4
envshake.ampl    = 6
envshake.freq    = 45

[State 1315, effect]
type = helper
triggerAll = NumEnemy
trigger1 = (Root,ProjhitTime(var(25)) = 1)
name ="Spark FX"
ID =8820
stateno =8820
Postype = p2
pos=(target,const(size.ground.front)),-180
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 8090, G-FX]
type = Helper
triggerAll = NumEnemy
trigger1 = (Root,ProjguardedTime(var(25)) = 1)
pos = 10,enemy,const(size.mid.pos.y)
postype = p2
stateno = 8090
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 281,end]
type = removeexplod
trigger1 = time = 500
trigger2 = (HitCount = 1) && (MoveHit) || movecontact
trigger3 = (Root,ProjContactTime(var(25)) = 1)
id = 6610

[State 281,end]
type = Destroyself
trigger1 = time = 500

[State 281,end]
type = changestate ;Destroyself
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
trigger2 = (Root,ProjContactTime(var(25)) = 1)
value = 6361
;--------------------------
;LV2 fire(front)
;--------------------------
[Statedef 21402]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 6651
sprpriority = 2

[State 2008, ヒット判定用]
type = VarSet
trigger1 = Time = 0
v = 25
value = random

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 5
timegap = 2
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 50, 50, 50
paladd = 0,0,0
palmul = .90, .90, .90

;[State 0, Explod]
;type = Explod
;trigger1 = time%10
;anim = 6611;+random%2
;ID = 6610
;pos = 0,0
;postype = p1
;bindtime = 2
;random = 10,20
;scale = .5,.5
;sprpriority = 10
;ownpal = 1
;trans =add

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -(vel y)*5;-10+(time%5)
scale = 1.5,1.5

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
x = 25
y = -2.5

[State 281, HitDef]
type = Projectile
trigger1 = (Time = 0)
attr             = A, HP
damage           = ceil(ifElse(fvar(11) * 20 < 25, 25, fvar(11) * 20)), 7
guardflag         = MA
hitflag           = MAFD
animtype         = Heavy
pausetime        = 0,10
;-----------------------------------
offset           = 0,0
velocity         = 25,-2.5
accel            = 0,0
projID           = (var(25))
projanim         = 6650  ;透明の「攻撃判定専用アニメ」を設定してる
projhitanim      = 9999
projremanim      = 9999
projscale        = 1,1
projshadow       = 0,0,0
projhits         = 1
projmisstime     = 0
projpriority     = 5
projremovetime   = 100
projsprpriority  = -1  
;-----------------------------------
priority         = 4
sparkno          = 9999;s(Root,var(44))
sparkxy          = ceil(ifelse((P2Dist X<0),30+Random/40,30-Random/40)),ceil(ifelse(Random<500,60+Random/70,60-Random/70))
guard.sparkno    = 9999;s4216
hitsound         = s1,21
guardsound       = s0,30
ground.type      = High
ground.slidetime = 16
ground.hittime   = 19
ground.velocity  = ifelse((root,time>=50),-9,-4.5),ifelse((root,time>=50),-7,0)
guard.velocity   = -3
air.velocity     = -4.5,-5
airguard.velocity= -3,-4
yaccel           = 0.4
fall             = ifelse((root,time>=50),1,0)
air.fall         = 1
fall.recover     = 0
envshake.time    = 4
envshake.ampl    = 6
envshake.freq    = 45

[State 1315, effect]
type = helper
triggerAll = NumEnemy
trigger1 = (Root,ProjhitTime(var(25)) = 1)
name ="Spark FX"
ID =8820
stateno =8820
Postype = p2
pos=(target,const(size.ground.front)),-180
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 8090, G-FX]
type = Helper
triggerAll = NumEnemy
trigger1 = (Root,ProjguardedTime(var(25)) = 1)
pos = 10,enemy,const(size.mid.pos.y)
postype = p2
stateno = 8090
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 281,end]
type = removeexplod
trigger1 = time = 500
trigger2 = (HitCount = 1) && (MoveHit) || movecontact
trigger3 = (Root,ProjContactTime(var(25)) = 1)
id = 6610

[State 281,end]
type = Destroyself
trigger1 = time = 500

[State 281,end]
type = changestate ;Destroyself
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
trigger2 = (Root,ProjContactTime(var(25)) = 1)
value = 6361
;--------------------------
;LV2 fire(diagonal)
;--------------------------
[Statedef 21410]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 6651
sprpriority = 2

[State 2008, ヒット判定用]
type = VarSet
trigger1 = Time = 0
v = 25
value = random

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 5
timegap = 2
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 50, 50, 50
paladd = 0,0,0
palmul = .90, .90, .90

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 2008, 食らい上書き];分身バグ対策
type = HitOverRide
trigger1 = (Time >= 0)
attr = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT, AA, AT, AP
time = -1
stateno = 9999
IgnoreHitPause = 1

[State 2008, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;自分の影を消す
IgnoreHitPause = 1
Persistent = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 35+(time%2)
scale = 1.5,1.5

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
y = -20
x = 30.5

[State 281, HitDef]
type = Projectile
trigger1 = (Time = 0)
attr             = A, HP
damage           = ceil(ifElse(fvar(11) * 20 < 25, 25, fvar(11) * 20)), 7
guardflag         = MA
hitflag           = MAFD
animtype         = Heavy
pausetime        = 0,10
;-----------------------------------
offset           = 0,0
velocity         = 30.5,-20
accel            = 0,0
projID           = (var(25))
projanim         = 6650  ;透明の「攻撃判定専用アニメ」を設定してる
projhitanim      = 9999
projremanim      = 9999
projscale        = 1,1
projshadow       = 0,0,0
projhits         = 1
projmisstime     = 0
projpriority     = 5
projremovetime   = 100
projsprpriority  = -1  
;-----------------------------------
priority         = 4
sparkno          = 9999;s(Root,var(44))
sparkxy          = ceil(ifelse((P2Dist X<0),30+Random/40,30-Random/40)),ceil(ifelse(Random<500,60+Random/70,60-Random/70))
guard.sparkno    = 9999;s4216
hitsound         = s1,21
guardsound       = s0,30
ground.type      = High
ground.slidetime = 16
ground.hittime   = 19
ground.velocity  = ifelse((root,time>=50),-9,-4.5),ifelse((root,time>=50),-7,0)
guard.velocity   = -3
air.velocity     = -4.5,-5
airguard.velocity= -3,-4
yaccel           = 0.4
fall             = ifelse((root,time>=50),1,0)
air.fall         = 1
fall.recover     = 0
envshake.time    = 4
envshake.ampl    = 6
envshake.freq    = 45

[State 1315, effect]
type = helper
triggerAll = NumEnemy
trigger1 = (Root,ProjhitTime(var(25)) = 1)
name ="Spark FX"
ID =8820
stateno =8820
Postype = p2
pos=(target,const(size.ground.front)),-180
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 8090, G-FX]
type = Helper
triggerAll = NumEnemy
trigger1 = (Root,ProjguardedTime(var(25)) = 1)
pos = 10,enemy,const(size.mid.pos.y)
postype = p2
stateno = 8090
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 281,end]
type = Destroyself
trigger1 = time = 500

[State 281,end]
type = changestate ;Destroyself
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
trigger2 = (Root,ProjContactTime(var(25)) = 1)
value = 6361
;--------------------------
;LV2 fire(diagonal)
;--------------------------
[Statedef 21411]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 6651
sprpriority = 2

[State 2008, ヒット判定用]
type = VarSet
trigger1 = Time = 0
v = 25
value = random

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 5
timegap = 2
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 50, 50, 50
paladd = 0,0,0
palmul = .90, .90, .90

[State 2008, 食らい上書き];分身バグ対策
type = HitOverRide
trigger1 = (Time >= 0)
attr = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT, AA, AT, AP
time = -1
stateno = 9999
IgnoreHitPause = 1

[State 2008, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;自分の影を消す
IgnoreHitPause = 1
Persistent = 1

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 45-(time%5)
scale = 1.5,1.5

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
y = -25
x = 25.5

[State 281, HitDef]
type = Projectile
trigger1 = (Time = 0)
attr             = A, HP
damage           = ceil(ifElse(fvar(11) * 20 < 25, 25, fvar(11) * 20)), 7
guardflag         = MA
hitflag           = MAFD
animtype         = Heavy
pausetime        = 0,10
;-----------------------------------
offset           = 0,0
velocity         = 25.5,-25
accel            = 0,0
projID           = (var(25))
projanim         = 6650  ;透明の「攻撃判定専用アニメ」を設定してる
projhitanim      = 9999
projremanim      = 9999
projscale        = 1,1
projshadow       = 0,0,0
projhits         = 1
projmisstime     = 0
projpriority     = 5
projremovetime   = 100
projsprpriority  = -1  
;-----------------------------------
priority         = 4
sparkno          = 9999;s(Root,var(44))
sparkxy          = ceil(ifelse((P2Dist X<0),30+Random/40,30-Random/40)),ceil(ifelse(Random<500,60+Random/70,60-Random/70))
guard.sparkno    = 9999;s4216
hitsound         = s1,21
guardsound       = s0,30
ground.type      = High
ground.slidetime = 16
ground.hittime   = 19
ground.velocity  = ifelse((root,time>=50),-9,-4.5),ifelse((root,time>=50),-7,0)
guard.velocity   = -3
air.velocity     = -4.5,-5
airguard.velocity= -3,-4
yaccel           = 0.4
fall             = ifelse((root,time>=50),1,0)
air.fall         = 1
fall.recover     = 0
envshake.time    = 4
envshake.ampl    = 6
envshake.freq    = 45

[State 1315, effect]
type = helper
triggerAll = NumEnemy
trigger1 = (Root,ProjhitTime(var(25)) = 1)
name ="Spark FX"
ID =8820
stateno =8820
Postype = p2
pos=(target,const(size.ground.front)),-180
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 8090, G-FX]
type = Helper
triggerAll = NumEnemy
trigger1 = (Root,ProjguardedTime(var(25)) = 1)
pos = 10,enemy,const(size.mid.pos.y)
postype = p2
stateno = 8090
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 281,end]
type = Destroyself
trigger1 = time = 500
trigger2 = (HitCount = 1) && (MoveHit) || movecontact
trigger3 = (Root,ProjContactTime(var(25)) = 1)
;--------------------------
;LV2 fire(diagonal)
;--------------------------
[Statedef 21412]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 6651
sprpriority = 2

[State 2008, ヒット判定用]
type = VarSet
trigger1 = Time = 0
v = 25
value = random

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 5
timegap = 2
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 50, 50, 50
paladd = 0,0,0
palmul = .90, .90, .90

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 2008, 食らい上書き];分身バグ対策
type = HitOverRide
trigger1 = (Time >= 0)
attr = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT, AA, AT, AP
time = -1
stateno = 9999
IgnoreHitPause = 1

[State 2008, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;自分の影を消す
IgnoreHitPause = 1
Persistent = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 25+(time%5)
scale = 1.5,1.5

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
y = -15
x = 40.5

[State 281, HitDef]
type = Projectile
trigger1 = (Time = 0)
attr             = A, HP
damage           = ceil(ifElse(fvar(11) * 20 < 25, 25, fvar(11) * 20)), 7
guardflag         = MA
hitflag           = MAFD
animtype         = Heavy
pausetime        = 0,10
;-----------------------------------
offset           = 0,0
velocity         = 40.5,-15
accel            = 0,0
projID           = (var(25))
projanim         = 6650  ;透明の「攻撃判定専用アニメ」を設定してる
projhitanim      = 9999
projremanim      = 9999
projscale        = 1,1
projshadow       = 0,0,0
projhits         = 1
projmisstime     = 0
projpriority     = 5
projremovetime   = 100
projsprpriority  = -1  
;-----------------------------------
priority         = 4
sparkno          = 9999;s(Root,var(44))
sparkxy          = ceil(ifelse((P2Dist X<0),30+Random/40,30-Random/40)),ceil(ifelse(Random<500,60+Random/70,60-Random/70))
guard.sparkno    = 9999;s4216
hitsound         = s1,21
guardsound       = s0,30
ground.type      = High
ground.slidetime = 16
ground.hittime   = 19
ground.velocity  = ifelse((root,time>=50),-9,-4.5),ifelse((root,time>=50),-7,0)
guard.velocity   = -3
air.velocity     = -4.5,-5
airguard.velocity= -3,-4
yaccel           = 0.4
fall             = ifelse((root,time>=50),1,0)
air.fall         = 1
fall.recover     = 0
envshake.time    = 4
envshake.ampl    = 6
envshake.freq    = 45

[State 1315, effect]
type = helper
triggerAll = NumEnemy
trigger1 = (Root,ProjhitTime(var(25)) = 1)
name ="Spark FX"
ID =8820
stateno =8820
Postype = p2
pos=(target,const(size.ground.front)),-180
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 8090, G-FX]
type = Helper
triggerAll = NumEnemy
trigger1 = (Root,ProjguardedTime(var(25)) = 1)
pos = 10,enemy,const(size.mid.pos.y)
postype = p2
stateno = 8090
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 281,end]
type = Destroyself
trigger1 = time = 500

[State 281,end]
type = changestate ;Destroyself
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
trigger2 = (Root,ProjContactTime(var(25)) = 1)
value = 6361
;--------------------------
;LV2 fire(air)
;--------------------------
[Statedef 21420]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 6651
sprpriority = 2

[State 2008, ヒット判定用]
type = VarSet
trigger1 = Time = 0
v = 25
value = random

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 5
timegap = 2
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 50, 50, 50
paladd = 0,0,0
palmul = .90, .90, .90

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 2008, 食らい上書き];分身バグ対策
type = HitOverRide
trigger1 = (Time >= 0)
attr = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT, AA, AT, AP
time = -1
stateno = 9999
IgnoreHitPause = 1

[State 2008, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;自分の影を消す
IgnoreHitPause = 1
Persistent = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -34+(time%2)
scale = 1.5,1.5

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
y = 15
x = 25

[State 281, HitDef]
type = Projectile
trigger1 = (Time = 0)
attr             = A, HP
damage           = ceil(ifElse(fvar(11) * 20 < 25, 25, fvar(11) * 20)), 7
guardflag         = MA
hitflag           = MAFDE
animtype         = Heavy
pausetime        = 0,10
;-----------------------------------
offset           = 0,0
velocity         = 25,15
accel            = 0,0
projID           = (var(25))
projanim         = 6650  ;透明の「攻撃判定専用アニメ」を設定してる
projhitanim      = 9999
projremanim      = 9999
projscale        = 1,1
projshadow       = 0,0,0
projhits         = 1
projmisstime     = 0
projpriority     = 5
projremovetime   = 100
projsprpriority  = -1  
;-----------------------------------
priority         = 4
sparkno          = 9999;s(Root,var(44))
sparkxy          = ceil(ifelse((P2Dist X<0),30+Random/40,30-Random/40)),ceil(ifelse(Random<500,60+Random/70,60-Random/70))
guard.sparkno    = 9999;s4216
hitsound         = s1,21
guardsound       = s0,30
ground.type      = High
ground.slidetime = 16
ground.hittime   = 19
ground.velocity  = ifelse((root,time>=50),-9,-4.5),ifelse((root,time>=50),-7,0)
guard.velocity   = -3
air.velocity     = -4.5,-5
airguard.velocity= -3,-4
yaccel           = 0.4
fall             = ifelse((root,time>=50),1,0)
air.fall         = 1
fall.recover     = 0
envshake.time    = 4
envshake.ampl    = 6
envshake.freq    = 45

[State 1315, effect]
type = helper
triggerAll = NumEnemy
trigger1 = (Root,ProjhitTime(var(25)) = 1)
name ="Spark FX"
ID =8820
stateno =8820
Postype = p2
pos=(target,const(size.ground.front)),-180
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 8090, G-FX]
type = Helper
triggerAll = NumEnemy
trigger1 = (Root,ProjguardedTime(var(25)) = 1)
pos = 10,enemy,const(size.mid.pos.y)
postype = p2
stateno = 8090
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 281,end]
type = changestate
trigger1 = Pos Y >= 0
value = 6351

[State 281,end]
type = Destroyself
trigger1 = time = 500

[State 281,end]
type = changestate ;Destroyself
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
trigger2 = (Root,ProjContactTime(var(25)) = 1)
value = 6361
;--------------------------
;LV2 fire(air)
;--------------------------
[Statedef 21421]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 6651
sprpriority = 2

[State 2008, ヒット判定用]
type = VarSet
trigger1 = Time = 0
v = 25
value = random

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 5
timegap = 2
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 50, 50, 50
paladd = 0,0,0
palmul = .90, .90, .90

[State 2008, 食らい上書き];分身バグ対策
type = HitOverRide
trigger1 = (Time >= 0)
attr = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT, AA, AT, AP
time = -1
stateno = 9999
IgnoreHitPause = 1

[State 2008, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;自分の影を消す
IgnoreHitPause = 1
Persistent = 1

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -38+(time%2)
scale = 1.5,1.5

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
y = 15
x = 20

[State 281, HitDef]
type = Projectile
trigger1 = (Time = 0)
attr             = A, HP
damage           = ceil(ifElse(fvar(11) * 20 < 25, 25, fvar(11) * 20)), 7
guardflag         = MA
hitflag           = MAFDE
animtype         = Heavy
pausetime        = 0,10
;-----------------------------------
offset           = 0,0
velocity         = 20,15
accel            = 0,0
projID           = (var(25))
projanim         = 6650  ;透明の「攻撃判定専用アニメ」を設定してる
projhitanim      = 9999
projremanim      = 9999
projscale        = 1,1
projshadow       = 0,0,0
projhits         = 1
projmisstime     = 0
projpriority     = 5
projremovetime   = 100
projsprpriority  = -1  
;-----------------------------------
priority         = 4
sparkno          = 9999;s(Root,var(44))
sparkxy          = ceil(ifelse((P2Dist X<0),30+Random/40,30-Random/40)),ceil(ifelse(Random<500,60+Random/70,60-Random/70))
guard.sparkno    = 9999;s4216
hitsound         = s1,21
guardsound       = s0,30
ground.type      = High
ground.slidetime = 16
ground.hittime   = 19
ground.velocity  = ifelse((root,time>=50),-9,-4.5),ifelse((root,time>=50),-7,0)
guard.velocity   = -3
air.velocity     = -4.5,-5
airguard.velocity= -3,-4
yaccel           = 0.4
fall             = ifelse((root,time>=50),1,0)
air.fall         = 1
fall.recover     = 0
envshake.time    = 4
envshake.ampl    = 6
envshake.freq    = 45

[State 1315, effect]
type = helper
triggerAll = NumEnemy
trigger1 = (Root,ProjhitTime(var(25)) = 1)
name ="Spark FX"
ID =8820
stateno =8820
Postype = p2
pos=(target,const(size.ground.front)),-180
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 8090, G-FX]
type = Helper
triggerAll = NumEnemy
trigger1 = (Root,ProjguardedTime(var(25)) = 1)
pos = 10,enemy,const(size.mid.pos.y)
postype = p2
stateno = 8090
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 281,end]
type = changestate
trigger1 = Pos Y >= 0
value = 6351

[State 281,end]
type = Destroyself
trigger1 = time = 500

[State 281,end]
type = changestate ;Destroyself
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
trigger2 = (Root,ProjContactTime(var(25)) = 1)
value = 6361
;--------------------------
;LV2 fire(air)
;--------------------------
[Statedef 21422]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 6651
sprpriority = 2

[State 2008, ヒット判定用]
type = VarSet
trigger1 = Time = 0
v = 25
value = random

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 5
timegap = 2
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 50, 50, 50
paladd = 0,0,0
palmul = .90, .90, .90

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 2008, 食らい上書き];分身バグ対策
type = HitOverRide
trigger1 = (Time >= 0)
attr = SCA, NA, SA, HA, NP, SP, HP, NT, ST, HT, AA, AT, AP
time = -1
stateno = 9999
IgnoreHitPause = 1

[State 2008, 特殊効果]
type = AssertSpecial
trigger1 = 1
flag = NoShadow ;自分の影を消す
IgnoreHitPause = 1
Persistent = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -24+(time%5)
scale = 1.5,1.5

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
y = 20
x = 30

[State 281, HitDef]
type = Projectile
trigger1 = (Time = 0)
attr             = A, HP
damage           = ceil(ifElse(fvar(11) * 20 < 25, 25, fvar(11) * 20)), 7
guardflag         = MA
hitflag           = MAFDE
animtype         = Heavy
pausetime        = 0,10
;-----------------------------------
offset           = 0,0
velocity         = 30,20
accel            = 0,0
projID           = (var(25))
projanim         = 6650  ;透明の「攻撃判定専用アニメ」を設定してる
projhitanim      = 9999
projremanim      = 9999
projscale        = 1,1
projshadow       = 0,0,0
projhits         = 1
projmisstime     = 0
projpriority     = 5
projremovetime   = 100
projsprpriority  = -1  
;-----------------------------------
priority         = 4
sparkno          = 9999;s(Root,var(44))
sparkxy          = ceil(ifelse((P2Dist X<0),30+Random/40,30-Random/40)),ceil(ifelse(Random<500,60+Random/70,60-Random/70))
guard.sparkno    = 9999;s4216
hitsound         = s1,21
guardsound       = s0,30
ground.type      = High
ground.slidetime = 16
ground.hittime   = 19
ground.velocity  = ifelse((root,time>=50),-9,-4.5),ifelse((root,time>=50),-7,0)
guard.velocity   = -3
air.velocity     = -4.5,-5
airguard.velocity= -3,-4
yaccel           = 0.4
fall             = ifelse((root,time>=50),1,0)
air.fall         = 1
fall.recover     = 0
envshake.time    = 4
envshake.ampl    = 6
envshake.freq    = 45

[State 1315, effect]
type = helper
triggerAll = NumEnemy
trigger1 = (Root,ProjhitTime(var(25)) = 1)
name ="Spark FX"
ID =8820
stateno =8820
Postype = p2
pos=(target,const(size.ground.front)),-180
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 8090, G-FX]
type = Helper
triggerAll = NumEnemy
trigger1 = (Root,ProjguardedTime(var(25)) = 1)
pos = 10,enemy,const(size.mid.pos.y)
postype = p2
stateno = 8090
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 281,end]
type = changestate
trigger1 = Pos Y >= 0
value = 6351

[State 281,end]
type = Destroyself
trigger1 = time = 500

[State 281,end]
type = changestate ;Destroyself
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
trigger2 = (Root,ProjContactTime(var(25)) = 1)
value = 6361
;--------------------------
;LV2 fire(air + diagonal)
;--------------------------
[Statedef 21430]
type    = S
movetype= A
physics = N
anim = 6651
sprpriority = 2
hitcountpersist = 1
movehitpersist = 1

[State 2008, ヒット判定用]
type = VarSet
trigger1 = Time = 0
v = 25
value = random

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 5
timegap = 2
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 50, 50, 50
paladd = 0,0,0
palmul = .90, .90, .90

[State 1061, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1061, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -90
scale = 1.5,1.5
ignorehitpause = 0

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
y = 28
x = 0

[State 281, HitDef]
type = Projectile
trigger1 = (Time = 0)
attr             = A, HP
damage           = ceil(ifElse(fvar(11) * 20 < 25, 25, fvar(11) * 20)), 7
guardflag         = MA
hitflag           = MAFDE
animtype         = Heavy
pausetime        = 0,10
;-----------------------------------
offset           = 0,0
velocity         = 0,28
accel            = 0,0
projID           = (var(25))
projanim         = 6655  ;透明の「攻撃判定専用アニメ」を設定してる
projhitanim      = 9999
projremanim      = 9999
projscale        = 1,1
projshadow       = 0,0,0
projhits         = 1
projmisstime     = 0
projpriority     = 5
projremovetime   = 100
projsprpriority  = -1  
;-----------------------------------
priority         = 4
sparkno          = 9999;s(Root,var(44))
sparkxy          = ceil(ifelse((P2Dist X<0),30+Random/40,30-Random/40)),ceil(ifelse(Random<500,60+Random/70,60-Random/70))
guard.sparkno    = 9999;s4216
hitsound         = s1,21
guardsound       = s0,30
ground.type      = High
ground.slidetime = 16
ground.hittime   = 19
ground.velocity  = ifelse((root,time>=50),-9,-4.5),ifelse((root,time>=50),-7,0)
guard.velocity   = -3
air.velocity     = -4.5,-5
airguard.velocity= -3,-4
yaccel           = 0.4
fall             = ifelse((root,time>=50),1,0)
air.fall         = 1
fall.recover     = 0
envshake.time    = 4
envshake.ampl    = 6
envshake.freq    = 45

[State 1315, effect]
type = helper
triggerAll = NumEnemy
trigger1 = (Root,ProjhitTime(var(25)) = 1)
name ="Spark FX"
ID =8820
stateno =8820
Postype = p2
pos=(target,const(size.ground.front)),-180
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 8090, G-FX]
type = Helper
triggerAll = NumEnemy
trigger1 = (Root,ProjguardedTime(var(25)) = 1)
pos = 10,enemy,const(size.mid.pos.y)
postype = p2
stateno = 8090
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 281,end]
type = changestate
trigger1 = Pos Y >= 0
value = 6351

[State 281,end]
type = Destroyself
trigger1 = time = 500

[State 281,end]
type = changestate ;Destroyself
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
trigger2 = (Root,ProjContactTime(var(25)) = 1)
value = 6361
;--------------------------
;LV2 fire(air + diagonal)
;--------------------------
[Statedef 21431]
type    = S
movetype= A
physics = N
anim = 6651
sprpriority = 2
hitcountpersist = 1
movehitpersist = 1

[State 2008, ヒット判定用]
type = VarSet
trigger1 = Time = 0
v = 25
value = random

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 5
timegap = 2
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 50, 50, 50
paladd = 0,0,0
palmul = .90, .90, .90

[State 1061, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1061, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -80+(time%5)
scale = 1.5,1.5
ignorehitpause = 0

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
y = 28
x = 6.5

[State 281, HitDef]
type = Projectile
trigger1 = (Time = 0)
attr             = A, HP
damage           = ceil(ifElse(fvar(11) * 20 < 25, 25, fvar(11) * 20)), 7
guardflag         = MA
hitflag           = MAFDE
animtype         = Heavy
pausetime        = 0,10
;-----------------------------------
offset           = 0,0
velocity         = 6.5,28
accel            = 0,0
projID           = (var(25))
projanim         = 6655  ;透明の「攻撃判定専用アニメ」を設定してる
projhitanim      = 9999
projremanim      = 9999
projscale        = 1,1
projshadow       = 0,0,0
projhits         = 1
projmisstime     = 0
projpriority     = 5
projremovetime   = 100
projsprpriority  = -1  
;-----------------------------------
priority         = 4
sparkno          = 9999;s(Root,var(44))
sparkxy          = ceil(ifelse((P2Dist X<0),30+Random/40,30-Random/40)),ceil(ifelse(Random<500,60+Random/70,60-Random/70))
guard.sparkno    = 9999;s4216
hitsound         = s1,21
guardsound       = s0,30
ground.type      = High
ground.slidetime = 16
ground.hittime   = 19
ground.velocity  = ifelse((root,time>=50),-9,-4.5),ifelse((root,time>=50),-7,0)
guard.velocity   = -3
air.velocity     = -4.5,-5
airguard.velocity= -3,-4
yaccel           = 0.4
fall             = ifelse((root,time>=50),1,0)
air.fall         = 1
fall.recover     = 0
envshake.time    = 4
envshake.ampl    = 6
envshake.freq    = 45

[State 1315, effect]
type = helper
triggerAll = NumEnemy
trigger1 = (Root,ProjhitTime(var(25)) = 1)
name ="Spark FX"
ID =8820
stateno =8820
Postype = p2
pos=(target,const(size.ground.front)),-180
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 8090, G-FX]
type = Helper
triggerAll = NumEnemy
trigger1 = (Root,ProjguardedTime(var(25)) = 1)
pos = 10,enemy,const(size.mid.pos.y)
postype = p2
stateno = 8090
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 281,end]
type = changestate
trigger1 = Pos Y >= 0
value = 6351

[State 281,end]
type = Destroyself
trigger1 = time = 500

[State 281,end]
type = changestate ;Destroyself
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
trigger2 = (Root,ProjContactTime(var(25)) = 1)
value = 6361
;--------------------------
;LV2 fire(air + diagonal)
;--------------------------
[Statedef 21432]
type    = S
movetype= A
physics = N
anim = 6651
sprpriority = 2
hitcountpersist = 1
movehitpersist = 1

[State 2008, ヒット判定用]
type = VarSet
trigger1 = Time = 0
v = 25
value = random

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 5
timegap = 2
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 50, 50, 50
paladd = 0,0,0
palmul = .90, .90, .90

[State 1061, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1061, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -100+(time%5)
scale = 1.5,1.5
ignorehitpause = 0

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
y = 28
x = -6.5

[State 281, HitDef]
type = Projectile
trigger1 = (Time = 0)
attr             = A, HP
damage           = ceil(ifElse(fvar(11) * 20 < 25, 25, fvar(11) * 20)), 7
guardflag         = MA
hitflag           = MAFDE
animtype         = Heavy
pausetime        = 0,10
;-----------------------------------
offset           = 0,0
velocity         = -6.5,28
accel            = 0,0
projID           = (var(25))
projanim         = 6655  ;透明の「攻撃判定専用アニメ」を設定してる
projhitanim      = 9999
projremanim      = 9999
projscale        = 1,1
projshadow       = 0,0,0
projhits         = 1
projmisstime     = 0
projpriority     = 5
projremovetime   = 100
projsprpriority  = -1  
;-----------------------------------
priority         = 4
sparkno          = 9999;s(Root,var(44))
sparkxy          = ceil(ifelse((P2Dist X<0),30+Random/40,30-Random/40)),ceil(ifelse(Random<500,60+Random/70,60-Random/70))
guard.sparkno    = 9999;s4216
hitsound         = s1,21
guardsound       = s0,30
ground.type      = High
ground.slidetime = 16
ground.hittime   = 19
ground.velocity  = ifelse((root,time>=50),-9,-4.5),ifelse((root,time>=50),-7,0)
guard.velocity   = -3
air.velocity     = -4.5,-5
airguard.velocity= -3,-4
yaccel           = 0.4
fall             = ifelse((root,time>=50),1,0)
air.fall         = 1
fall.recover     = 0
envshake.time    = 4
envshake.ampl    = 6
envshake.freq    = 45

[State 1315, effect]
type = helper
triggerAll = NumEnemy
trigger1 = (Root,ProjhitTime(var(25)) = 1)
name ="Spark FX"
ID =8820
stateno =8820
Postype = p2
pos=(target,const(size.ground.front)),-180
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 8090, G-FX]
type = Helper
triggerAll = NumEnemy
trigger1 = (Root,ProjguardedTime(var(25)) = 1)
pos = 10,enemy,const(size.mid.pos.y)
postype = p2
stateno = 8090
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 281,end]
type = changestate
trigger1 = Pos Y >= 0
value = 6351

[State 281,end]
type = Destroyself
trigger1 = time = 500

[State 281,end]
type = changestate ;Destroyself
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
trigger2 = (Root,ProjContactTime(var(25)) = 1)
value = 6361
;--------------------------
;LV3 fire(front)
;--------------------------
[Statedef 22040]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 6621
sprpriority = 2

[State 2008, ヒット判定用]
type = VarSet
trigger1 = Time = 0
v = 25
value = random

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1.5,.93
ignorehitpause = 0

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
x = 60

[State 281, HitDef]
type = Projectile
trigger1 = (Time = 0)
attr             = A, HP
damage           = ceil(ifElse(fvar(11) * 20 < 30, 30, fvar(11) * 20)), 14
guardflag         = MA
hitflag           = MAFD
animtype         = Heavy
pausetime        = 0,10
;-----------------------------------
offset           = 0,0
velocity         = 60,0
accel            = 0,0
projID           = (var(25))
projanim         = 6650  ;透明の「攻撃判定専用アニメ」を設定してる
projhitanim      = 9999
projremanim      = 9999
projscale        = 1,1
projshadow       = 0,0,0
projhits         = 1
projmisstime     = 0
projpriority     = 5
projremovetime   = 100
projsprpriority  = -1  
;-----------------------------------
priority         = 4
sparkno          = 9999;s(Root,var(44))
sparkxy          = ceil(ifelse((P2Dist X<0),30+Random/40,30-Random/40)),ceil(ifelse(Random<500,60+Random/70,60-Random/70))
guard.sparkno    = 9999;s4216
hitsound         = s1,21
guardsound       = s0,30
ground.type      = High
ground.slidetime = 12
ground.hittime   = 19
ground.velocity  = ifelse((root,time>=50),-9,-4.5),ifelse((root,time>=50),-7,0)
guard.velocity   = -3
air.velocity     = -4.5,-5
airguard.velocity= -3,-4
yaccel           = 0.4
fall             = ifelse((root,time>=50),1,0)
air.fall         = 1
fall.recover     = 0
envshake.time    = 4
envshake.ampl    = 6
envshake.freq    = 45

[State 1315, effect]
type = helper
triggerAll = NumEnemy
trigger1 = (Root,ProjhitTime(var(25)) = 1)
name ="Spark FX"
ID =8820
stateno =8820
Postype = p2
pos=(target,const(size.ground.front)),-180
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 8090, G-FX]
type = Helper
triggerAll = NumEnemy
trigger1 = (Root,ProjguardedTime(var(25)) = 1)
pos = 10,enemy,const(size.mid.pos.y)
postype = p2
stateno = 8090
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 281,end]
type = Destroyself
trigger1 = time = 500

[State 281,end]
type = changestate ;Destroyself
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
trigger2 = (Root,ProjContactTime(var(25)) = 1)
value = 6363
;--------------------------
;LV3 fire(diagonal)
;--------------------------
[Statedef 22041]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 6621
sprpriority = 2

[State 2008, ヒット判定用]
type = VarSet
trigger1 = Time = 0
v = 25
value = random

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 35
scale = 1.5,.93
ignorehitpause = 0

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
y = -23
x = 30.5

[State 281, HitDef]
type = Projectile
trigger1 = (Time = 0)
attr             = A, HP
damage           = ceil(ifElse(fvar(11) * 20 < 30, 30, fvar(11) * 20)), 14
guardflag         = MA
hitflag           = MAFD
animtype         = Heavy
pausetime        = 0,10
;-----------------------------------
offset           = 0,0
velocity         = 30.5,-23
accel            = 0,0
projID           = (var(25))
projanim         = 6650  ;透明の「攻撃判定専用アニメ」を設定してる
projhitanim      = 9999
projremanim      = 9999
projscale        = 1,1
projshadow       = 0,0,0
projhits         = 1
projmisstime     = 0
projpriority     = 5
projremovetime   = 100
projsprpriority  = -1  
;-----------------------------------
priority         = 4
sparkno          = 9999;s(Root,var(44))
sparkxy          = ceil(ifelse((P2Dist X<0),30+Random/40,30-Random/40)),ceil(ifelse(Random<500,60+Random/70,60-Random/70))
guard.sparkno    = 9999;s4216
hitsound         = s1,21
guardsound       = s0,30
ground.type      = High
ground.slidetime = 16
ground.hittime   = 19
ground.velocity  = ifelse((root,time>=50),-9,-4.5),ifelse((root,time>=50),-7,0)
guard.velocity   = -3
air.velocity     = -4.5,-5
airguard.velocity= -3,-4
yaccel           = 0.4
fall             = ifelse((root,time>=50),1,0)
air.fall         = 1
fall.recover     = 0
envshake.time    = 4
envshake.ampl    = 6
envshake.freq    = 45


[State 1315, effect]
type = helper
triggerAll = NumEnemy
trigger1 = (Root,ProjhitTime(var(25)) = 1)
name ="Spark FX"
ID =8820
stateno =8820
Postype = p2
pos=(target,const(size.ground.front)),-180
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 8090, G-FX]
type = Helper
triggerAll = NumEnemy
trigger1 = (Root,ProjguardedTime(var(25)) = 1)
pos = 10,enemy,const(size.mid.pos.y)
postype = p2
stateno = 8090
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 281,end]
type = Destroyself
trigger1 = time = 500

[State 281,end]
type = changestate ;Destroyself
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
trigger2 = (Root,ProjContactTime(var(25)) = 1)
value = 6363
;--------------------------
;LV3 fire(air)
;--------------------------
[Statedef 22042]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 6621
sprpriority = 2

[State 2008, ヒット判定用]
type = VarSet
trigger1 = Time = 0
v = 25
value = random

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -34
scale = 1.5,.93
ignorehitpause = 0

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
y = 25
x = 35

[State 281, HitDef]
type = Projectile
trigger1 = (Time = 0)
attr             = A, HP
damage           = ceil(ifElse(fvar(11) * 20 < 30, 30, fvar(11) * 20)), 14
guardflag         = MA
hitflag           = MAFD
animtype         = Heavy
pausetime        = 0,10
;-----------------------------------
offset           = 0,0
velocity         = 35,25
accel            = 0,0
projID           = (var(25))
projanim         = 6650  ;透明の「攻撃判定専用アニメ」を設定してる
projhitanim      = 9999
projremanim      = 9999
projscale        = 1,1
projshadow       = 0,0,0
projhits         = 1
projmisstime     = 0
projpriority     = 5
projremovetime   = 100
projsprpriority  = -1  
;-----------------------------------
priority         = 4
sparkno          = 9999;s(Root,var(44))
sparkxy          = ceil(ifelse((P2Dist X<0),30+Random/40,30-Random/40)),ceil(ifelse(Random<500,60+Random/70,60-Random/70))
guard.sparkno    = 9999;s4216
hitsound         = s1,21
guardsound       = s0,30
ground.type      = High
ground.slidetime = 16
ground.hittime   = 19
ground.velocity  = ifelse((root,time>=50),-9,-4.5),ifelse((root,time>=50),-7,0)
guard.velocity   = -3
air.velocity     = -4.5,-5
airguard.velocity= -3,-4
yaccel           = 0.4
fall             = ifelse((root,time>=50),1,0)
air.fall         = 1
fall.recover     = 0
envshake.time    = 4
envshake.ampl    = 6
envshake.freq    = 45

[State -2, Drive increase]
type = varadd
triggerAll = NumEnemy
trigger1 = (Root,ProjcontactTime(var(25)) = 1)
v = 50
value = 10
persistent = 0
ignorehitpause = 1

[State 1315, effect]
type = helper
triggerAll = NumEnemy
trigger1 = (Root,ProjhitTime(var(25)) = 1)
name ="Spark FX"
ID =8820
stateno =8820
Postype = p2
pos=(target,const(size.ground.front)),-180
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 8090, G-FX]
type = Helper
triggerAll = NumEnemy
trigger1 = (Root,ProjguardedTime(var(25)) = 1)
pos = 10,enemy,const(size.mid.pos.y)
postype = p2
stateno = 8090
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 281,end]
type = changestate
trigger1 = Pos Y >= 0
value = 6350

[State 281,end]
type = Destroyself
trigger1 = time = 500

[State 281,end]
type = changestate ;Destroyself
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
trigger2 = (Root,ProjContactTime(var(25)) = 1)
value = 6363
;--------------------------
;fire(air + diagonal)
;--------------------------
[Statedef 22043]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 6621
sprpriority = 2

[State 2008, ヒット判定用]
type = VarSet
trigger1 = Time = 0
v = 25
value = random

[State 1061, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1061, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -90
scale = 1.5,.93
ignorehitpause = 0

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
y = 70
x = 0

[State 281, HitDef]
type = Projectile
trigger1 = (Time = 0)
attr             = A, HP
damage           = ceil(ifElse(fvar(11) * 20 < 18, 18, fvar(11) * 20)), 7
guardflag         = MA
hitflag           = MAFD
animtype         = Heavy
pausetime        = 0,10
;-----------------------------------
offset           = 0,0
velocity         = 0,70
accel            = 0,0
projID           = (var(25))
projanim         = 6650  ;透明の「攻撃判定専用アニメ」を設定してる
projhitanim      = 9999
projremanim      = 9999
projscale        = 1,1
projshadow       = 0,0,0
projhits         = 1
projmisstime     = 0
projpriority     = 5
projremovetime   = 100
projsprpriority  = -1  
;-----------------------------------
priority         = 4
sparkno          = 9999;s(Root,var(44))
sparkxy          = ceil(ifelse((P2Dist X<0),30+Random/40,30-Random/40)),ceil(ifelse(Random<500,60+Random/70,60-Random/70))
guard.sparkno    = 9999;s4216
hitsound         = s1,21
guardsound       = s0,30
ground.type      = High
ground.slidetime = 16
ground.hittime   = 19
ground.velocity  = ifelse((root,time>=50),-9,-4.5),ifelse((root,time>=50),-7,0)
guard.velocity   = -3
air.velocity     = -4.5,-5
airguard.velocity= -3,-4
yaccel           = 0.4
fall             = ifelse((root,time>=50),1,0)
air.fall         = 1
fall.recover     = 0
envshake.time    = 4
envshake.ampl    = 6
envshake.freq    = 45

[State -2, Drive increase]
type = varadd
triggerAll = NumEnemy
trigger1 = (Root,ProjcontactTime(var(25)) = 1)
v = 50
value = 8
persistent = 0
ignorehitpause = 1

[State 1315, effect]
type = helper
triggerAll = NumEnemy
trigger1 = (Root,ProjhitTime(var(25)) = 1)
name ="Spark FX"
ID =8820
stateno =8820
Postype = p2
pos=(target,const(size.ground.front)),-180
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 8090, G-FX]
type = Helper
triggerAll = NumEnemy
trigger1 = (Root,ProjguardedTime(var(25)) = 1)
pos = 10,enemy,const(size.mid.pos.y)
postype = p2
stateno = 8090
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 281,end]
type = changestate
trigger1 = Pos Y >= 0
value = 6350

[State 281,end]
type = Destroyself
trigger1 = time = 500

[State 281,end]
type = changestate ;Destroyself
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
trigger2 = (Root,ProjContactTime(var(25)) = 1)
value = 6363
;---------------------------------------------------------------------------------------------
;Fire(shoot effect)
[Statedef 2044]
type = A
physics = N
movetype = I
anim = 6141
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 35
ignorehitpause = 0

[State 2044, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 2044, Snd]
type = playsnd
trigger1 = !time
value = 5, 2
ignorehitpause = 1
persistent = 0

[State 2044, End]
type = destroyself
trigger1 = !animtime
;---------------------------------------------------------------------------------------------
;LV2 Fire(shoot effect)
[Statedef 2144]
type = A
physics = N
movetype = I
anim = 6086
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 35
scale = .6,.6
ignorehitpause = 0

[State 2044, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 2044, Snd]
type = playsnd
trigger1 = !time
value = 5, 2
ignorehitpause = 1
persistent = 0

[State 2044, End]
type = destroyself
trigger1 = !animtime
;---------------------------------------------------------------------------------------------
;Fire(shoot effect-diag)
[Statedef 2045]
type = A
physics = N
movetype = I
anim = 6141
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0, BindToparent]
type = BindToparent
trigger1 = 1
pos = 50,-250

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -34
ignorehitpause = 0

[State 2045, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 2045, Snd]
type = playsnd
trigger1 = !time
value = 5, 2
ignorehitpause = 1
persistent = 0

[State 2045, End]
type = destroyself
trigger1 = !animtime
;---------------------------------------------------------------------------------------------
;LV2 Fire(shoot effect-diag)
[Statedef 2145]
type = A
physics = N
movetype = I
anim = 6086
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0, BindToparent]
type = BindToparent
trigger1 = 1
pos = 90,-260

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -34
scale = .6,.6
ignorehitpause = 0

[State 2045, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 2045, Snd]
type = playsnd
trigger1 = !time
value = 5, 2
ignorehitpause = 1
persistent = 0

[State 2045, End]
type = destroyself
trigger1 = !animtime
;---------------------------------------------------------------------------------------------
;Fire(shoot effect-diag2)
[Statedef 2046]
type = A
physics = N
movetype = I
anim = 6141
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0, BindToparent]
type = BindToparent
trigger1 = 1
pos = -15,-170

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -90
ignorehitpause = 0

[State 2045, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 2045, Snd]
type = playsnd
trigger1 = !time
value = 5, 2
ignorehitpause = 1
persistent = 0

[State 2045, End]
type = destroyself
trigger1 = !animtime
;---------------------------------------------------------------------------------------------
;LV2 Fire(shoot effect-diag2)
[Statedef 2146]
type = A
physics = N
movetype = I
anim = 6086
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0, BindToparent]
type = BindToparent
trigger1 = 1
pos = -15,-180

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -90
scale = .6,.6
ignorehitpause = 0

[State 2045, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 2045, Snd]
type = playsnd
trigger1 = !time
value = 5, 2
ignorehitpause = 1
persistent = 0

[State 2045, End]
type = destroyself
trigger1 = !animtime
;---------------------------------------------------------------------------------------------
;Fire(shoot effect-diag)
[Statedef 2047]
type = A
physics = N
movetype = I
anim = 6141
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0, BindToparent]
type = BindToparent
trigger1 = 1
pos = 50,-120

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -34
ignorehitpause = 0

[State 2045, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 2045, Snd]
type = playsnd
trigger1 = !time
value = 5, 2
ignorehitpause = 1
persistent = 0

[State 2045, End]
type = destroyself
trigger1 = !animtime
;---------------------------------------------------------------------------
;fireball(pojectile)
[Statedef 1150]
type    = A
movetype= A
physics = N
poweradd= 0
ctrl = 0
velset = 8,0
anim = 1150
sprpriority = 9

[State 200, 0]
type = Varadd
trigger1 = movehit
v = 47
value = 15
ignorehitpause = 1
persistent = 0

[State 200, 2]
type = veladd
trigger1 = anim = 1150
trigger1 = 1
y = .35

[State 200, 2]
type = velset
trigger1 = anim = 1150
trigger1 = pos Y >= 0
y = -8 ;(vel Y)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -1-(time*45)
scale = .5,.5;.04+(time*.0015),.04+(time*.0015)
ignorehitpause = 0

[State 52, Dust]
type = explod
trigger1 = pos Y >= 0
anim = 7111
ID = 7111
sprpriority = 6
postype = p1
scale = .6,.6
pos = 0,0
ownpal = 1
pausemovetime = -1
supermovetime = -1

[State 1061, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1166
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1

[State 281, HitDef]
type = HitDef
trigger1 = animelemtime(1) >= 0
attr = C,NA
hitflag = MAFD
guardflag = L
animtype = hard                 ;Attribute: Standing, Normal Attack
air.animtype = light
damage = 40+ceil(10*root,fvar(9)),20
pausetime = 0,36
priority = 3, Hit               
sparkno = -1
guard.sparkno = -1;S6404                     ;Spark anim no (Def: set above)
sparkxy = -8, -23             
hitsound = s1,31                  ;Sound to play on hit
guardsound = S1,15               ;Sound to play on guard
ground.type = low               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
down.velocity = -8,0
airguard.velocity = -1.9,-.8     
air.type = High                  
air.cornerpush.veloff = 0
air.velocity = -1.1,-3      
air.hittime = 22                 
air.fall = 1
palfx.time = 80
palfx.color = 0
palfx.add = 100,0,-180
palfx.sinadd = 40,20,20,15
fall.xvelocity = 0
fall.yvelocity =-2
id = 1260

[State 1315, effect]
type = helper
triggerAll = NumTarget;Enemy
trigger1 = (HitCount = 1) && (MoveHit)
name ="Spark FX"
ID =8810
stateno =8810
Postype = p2
pos=(target,const(size.ground.front)-75),-80
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 1250, Flame Particles]
type = Helper
trigger1 = !NumHelper(8040)
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
trigger1 = var(40) := (Target, ID)
helperType = Normal
stateNo = 8040
ID = 8040
name = "Flame Particles"
posType = P2
ownPal = 1
ignoreHitPause = 1

[State 281,end]
type = ChangeState
trigger1 = time = 70
trigger2 = (HitCount = 1) && (MoveHit) || movecontact
value = 1166
;---------------------------------------------------------------------------
;EXfireball(pojectile)
[Statedef 1160]
type    = A
movetype= A
physics = N
poweradd= 0
ctrl = 0
velset = 12,0
anim = 1160
sprpriority = 9

[State 210, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 1,10

;[State 660, Velset]
;type = veladd
;trigger1 = animelemtime(2) = 0
;x = 14.5
;
;[State 660, Velset]
;type = velset
;trigger1 = animelemtime(1) = 0
;x = 0

[State 1251,0]
type = helper
trigger1 = !time
stateno = 1165
id = 1165
pos = 0,0
facing = 1
sprpriority = 1
ownpal = 1
ignorehitpause = 1
scale = 1,1

[State 200, 2]
type = veladd
trigger1 = anim = 1160
trigger1 = 1
y = .35

[State 200, 2]
type = velset
trigger1 = anim = 1160
trigger1 = pos Y >= 0
y = -10 ;(vel Y)

[State 52, Dust]
type = explod
trigger1 = pos Y >= 0
anim = 7111
ID = 7111
sprpriority = 6
postype = p1
scale = .6,.6
pos = 0,0
ownpal = 1
pausemovetime = -1
supermovetime = -1

[State 200, 0]
type = Varadd
trigger1 = movehit
v = 47
value = 15
ignorehitpause = 1
persistent = 0

;[State 0, PalFXWiz]
;type = AfterImage
;trigger1= time = 0
;PalBright = 240,50,0
;PalContrast = 250,150,0
;palpostbright = 0,0,0
;;paladd = 4,5,6
;palmul=.8,.8,.8;palmul = 4,3,0
;TimeGap = 1
;FrameGap = 1
;Trans = Add
;Trans = Add
;time = -1
;IgnoreHitPause = 1


[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -1-(time*15);1+(time*60)
scale = .35,.35;.06,.06
ignorehitpause = 0

[State 1061, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1061, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1061, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1166
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State 281, HitDef]
type = HitDef
trigger1 = animelemtime(1) >= 0
attr = C,NA
hitflag = MAFD
guardflag = L
animtype = hard                   ;Attribute: Standing, Normal Attack
air.animtype = light
damage = 65+ceil(10*root,fvar(9)), 32
pausetime = 0,24
getpower = 0                  ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit               
sparkno = S6401
guard.sparkno = -1;S6404                     ;Spark anim no (Def: set above)
sparkxy = -8, -23             
hitsound = s1,31                  ;Sound to play on hit
guardsound = S1,15               ;Sound to play on guard
ground.type = low               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 45             ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     
air.type = High                  
air.cornerpush.veloff = 0
air.velocity = -1.1,-3      
air.hittime = 22                 
air.fall = 1
fall = 0
palfx.time = 120
palfx.color = 0
palfx.add = 100,0,-180
palfx.sinadd = 40,20,20,15
fall.xvelocity = 0
fall.yvelocity =-2

[State 1251, Flame Particles]
type = Helper
trigger1 = !NumHelper(8040)
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
trigger1 = var(40) := (Target, ID)
helperType = Normal
stateNo = 8040
ID = 8040
name = "Flame Particles"
posType = P2
ownPal = 1
ignoreHitPause = 1

;[State 0]
;type = Explod
;trigger1 = MoveHit = 1 || movecontact
;trigger1 = NumExplod(2153) = 0
;trigger1 = NumTarget > 0
;;trigger1 = floor((target, Pos X - Pos X)*facing) = P2Dist X
;;trigger1 = target, Pos Y - Pos Y = P2Dist Y
;trigger1 = target, Life = P2Life
;trigger1 = target, StateNo = P2StateNo
;trigger1 = P2MoveType = H
;ID = 2153
;postype = p2
;pos = -10, -155+(p2statetype = L +50)
;anim = 2153
;bindtime = -1
;removetime = 35
;ignorehitpause = 1
;ownpal = 1
;sprpriority = 99
;scale = 1.3,1.3

[State 281,end]
type = Helper
trigger1 = time = 100
trigger2 = (HitCount = 1) && (MoveHit) || movecontact
stateno = 1166
helperType = Normal
ownPal = 1
ignoreHitPause = 1

[State 281,end]
type = DestroySelf ;ChangeState
trigger1 = time = 100
trigger2 = (HitCount = 1) && (MoveHit) || movecontact
;value = 1166

;---------------------------------------------------------------------------
;EXfireball(pojectile trail)
[Statedef 1164]
type    = A
movetype= A
physics = N
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1165
sprpriority = 9

[State 0, BindToparent]
type = BindToparent
trigger1 = 1
pos = 0,-10

[State 0, PalFXWiz]
type = AfterImage
trigger1= time = 0
PalBright = 260,50,0
PalContrast = 250,120,0
palpostbright = 0,0,0
;paladd = 4,5,6
palmul=.3,.3,0;palmul = 4,3,0
TimeGap = 1
FrameGap = 3
Trans = Add
Trans = Add
time = -1
IgnoreHitPause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -1-(time*15);1+(time*60)
scale = .35,.35;.06,.06
ignorehitpause = 0

[State 281,end]
type = Destroyself
trigger1 = Numhelper(1161) = 0
;---------------------------------------------------------------------------
;EXfireball(pojectile trail)
[Statedef 1165]
type    = A
movetype= A
physics = N
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1165
sprpriority = 9

[State 0, BindToparent]
type = BindToparent
trigger1 = 1
pos = 0,0

[State 0, PalFXWiz]
type = AfterImage
trigger1= time = 0
PalBright = 260,50,0
PalContrast = 250,120,0
palpostbright = 0,0,0
;paladd = 4,5,6
palmul=.3,.3,0;palmul = 4,3,0
TimeGap = 1
FrameGap = 3
Trans = Add
Trans = Add
time = -1
IgnoreHitPause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -1-(time*15);1+(time*60)
scale = .35,.35;.06,.06
ignorehitpause = 0

[State 281,end]
type = Destroyself
trigger1 = Numhelper(1160) = 0
;---------------------------------------------------------------------------
;D-EXfireball(pojectile)
[Statedef 1170]
type    = A
movetype= A
physics = N
poweradd= 0
ctrl = 0
velset = 12,0
anim = 1160
sprpriority = 9

[State 210, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 1,10

;[State 660, Velset]
;type = veladd
;trigger1 = animelemtime(2) = 0
;x = 14.5
;
;[State 660, Velset]
;type = velset
;trigger1 = animelemtime(1) = 0
;x = 0

[State 1251,0]
type = helper
trigger1 = !time
stateno = 1175
id = 1175
pos = 0,0
facing = 1
sprpriority = 1
ownpal = 1
ignorehitpause = 1
scale = 1,1

[State 200, 2]
type = veladd
trigger1 = anim = 1160
trigger1 = 1
y = .35

[State 200, 2]
type = velset
trigger1 = anim = 1160
trigger1 = pos Y >= 0
y = -10 ;(vel Y)

[State 52, Dust]
type = explod
trigger1 = pos Y >= 0
anim = 7111
ID = 7111
sprpriority = 6
postype = p1
scale = .6,.6
pos = 0,0
ownpal = 1
pausemovetime = -1
supermovetime = -1

[State 200, 0]
type = Varadd
trigger1 = movehit
v = 47
value = 15
ignorehitpause = 1
persistent = 0

;[State 0, PalFXWiz]
;type = AfterImage
;trigger1= time = 0
;PalBright = 240,50,0
;PalContrast = 250,150,0
;palpostbright = 0,0,0
;;paladd = 4,5,6
;palmul=.8,.8,.8;palmul = 4,3,0
;TimeGap = 1
;FrameGap = 1
;Trans = Add
;Trans = Add
;time = -1
;IgnoreHitPause = 1


[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -1-(time*15);1+(time*60)
scale = .35,.35;.06,.06
ignorehitpause = 0

[State 1061, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1061, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1061, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1176
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State 281, HitDef]
type = HitDef
trigger1 = animelemtime(1) >= 0
attr = C,NA
hitflag = MAFD
guardflag = L
animtype = hard                   ;Attribute: Standing, Normal Attack
air.animtype = light
damage = 85+ceil(10*root,fvar(9)), 32
pausetime = 0,30
getpower = 0                  ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit               
sparkno = S6401
guard.sparkno = -1;S6404                     ;Spark anim no (Def: set above)
sparkxy = -8, -23             
hitsound = s1,31                  ;Sound to play on hit
guardsound = S1,15               ;Sound to play on guard
ground.type = low               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 45             ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     
air.type = High                  
air.cornerpush.veloff = 0
air.velocity = -1.1,-3      
air.hittime = 22                 
air.fall = 1
fall = 1
palfx.time = 120
palfx.color = 0
palfx.add = 100,0,-180
palfx.sinadd = 40,20,20,15
fall.xvelocity = 0
fall.yvelocity =-2

[State 1251, Flame Particles]
type = Helper
trigger1 = !NumHelper(8040)
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
trigger1 = var(40) := (Target, ID)
helperType = Normal
stateNo = 8040
ID = 8040
name = "Flame Particles"
posType = P2
ownPal = 1
ignoreHitPause = 1

;[State 0]
;type = Explod
;trigger1 = MoveHit = 1 || movecontact
;trigger1 = NumExplod(2153) = 0
;trigger1 = NumTarget > 0
;;trigger1 = floor((target, Pos X - Pos X)*facing) = P2Dist X
;;trigger1 = target, Pos Y - Pos Y = P2Dist Y
;trigger1 = target, Life = P2Life
;trigger1 = target, StateNo = P2StateNo
;trigger1 = P2MoveType = H
;ID = 2153
;postype = p2
;pos = -10, -155+(p2statetype = L +50)
;anim = 2153
;bindtime = -1
;removetime = 35
;ignorehitpause = 1
;ownpal = 1
;sprpriority = 99
;scale = 1.3,1.3

[State 281,end]
type = Helper
trigger1 = time = 200
trigger2 = (HitCount = 1) && (MoveHit) || movecontact
stateno = 1166
helperType = Normal
ownPal = 1
ignoreHitPause = 1

[State 281,end]
type = Destroyself;ChangeState
trigger1 = time = 200
trigger2 = (HitCount = 1) && (MoveHit) || movecontact

;---------------------------------------------------------------------------
;D-EXfireball(pojectile trail)
[Statedef 1174]
type    = A
movetype= A
physics = N
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1165
sprpriority = 9

[State 0, BindToparent]
type = BindToparent
trigger1 = 1
pos = 0,-10

[State 0, PalFXWiz]
type = AfterImage
trigger1= time = 0
PalBright = 0,50,256
PalContrast = 0,120,250
palpostbright = 0,0,0
;paladd = 4,5,6
palmul=.3,.3,0;palmul = 4,3,0
TimeGap = 1
FrameGap = 3
Trans = Add
Trans = Add
time = -1
IgnoreHitPause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -1-(time*15);1+(time*60)
scale = .35,.35;.06,.06
ignorehitpause = 0

[State 281,end]
type = Destroyself
trigger1 = Numhelper(1171) = 0
;---------------------------------------------------------------------------
;D-EX fireball(pojectile trail)
[Statedef 1175]
type    = A
movetype= A
physics = N
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1165
sprpriority = 9

[State 0, BindToparent]
type = BindToparent
trigger1 = 1
pos = 0,0

[State 0, PalFXWiz]
type = AfterImage
trigger1= time = 0
PalBright = 0,50,256
PalContrast = 0,120,250
palpostbright = 0,0,0
;paladd = 4,5,6
palmul=.3,.3,0;palmul = 4,3,0
TimeGap = 1
FrameGap = 3
Trans = Add
Trans = Add
time = -1
IgnoreHitPause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -1-(time*15);1+(time*60)
scale = .35,.35;.06,.06
ignorehitpause = 0

[State 281,end]
type = Destroyself
trigger1 = Numhelper(1170) = 0
;---------------------------------------------------------------------------
;fireball(pojectile Air)
[Statedef 1151]
type    = A
movetype= A
physics = N
poweradd= 0
ctrl = 0
velset = 15,-10.7
anim = 1151
sprpriority = 9

[State 0, ]
type = VelAdd
trigger1 = 1
y = .65
;ignorehitpause = 0
;persistent = 1

[State 200, 0]
type = Varadd
trigger1 = movehit
v = 47
value = 15
ignorehitpause = 1
persistent = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -1-(time*45)
scale = .5,.5;.04+(time*.0015),.04+(time*.0015)
ignorehitpause = 0

[State 1061, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1061, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1061, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1166
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State 281, HitDef]
type = HitDef
trigger1 = animelemtime(1) >= 0
attr = C,NA
hitflag = MAFD
guardflag = L
animtype = hard                 ;Attribute: Standing, Normal Attack
air.animtype = light
damage = 40+ceil(10*root,fvar(9)),20
pausetime = 0,36
priority = 3, Hit               
sparkno = -1
guard.sparkno = -1;S6404                     ;Spark anim no (Def: set above)
sparkxy = -8, -23             
hitsound = s1,31                  ;Sound to play on hit
guardsound = S1,15               ;Sound to play on guard
ground.type = low               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 25             ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
down.velocity = -8,0
airguard.velocity = -1.9,-.8     
air.type = High                  
air.cornerpush.veloff = 0
air.velocity = -1.1,-3      
air.hittime = 22                 
air.fall = 1
palfx.time = 80
palfx.color = 0
palfx.add = 100,0,-180
palfx.sinadd = 40,20,20,15
fall.xvelocity = 0
fall.yvelocity =-2
id = 1260

[State 1315, effect]
type = helper
triggerAll = NumTarget;Enemy
trigger1 = (HitCount = 1) && (MoveHit)
name ="Spark FX"
ID =8810
stateno =8810
Postype = p2
pos=(target,const(size.ground.front)-75),-80
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 1250, Flame Particles]
type = Helper
trigger1 = !NumHelper(8040)
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
trigger1 = var(40) := (Target, ID)
helperType = Normal
stateNo = 8040
ID = 8040
name = "Flame Particles"
posType = P2
ownPal = 1
ignoreHitPause = 1

[State 281,end]
type = ChangeState
trigger1 = time = 70
trigger2 = (HitCount = 1) && (MoveHit) || movecontact
value = 1166

[State 680, to ground]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1150
ctrl = 0
;---------------------------------------------------------------------------
;EXfireball(pojectile Air)
[Statedef 1161]
type    = A
movetype= A
physics = N
poweradd= 0
ctrl = 0
anim = 1161
velset = 18,-11.7
sprpriority = 9

[State 0, ]
type = VelAdd
trigger1 = 1
y = .65
;ignorehitpause = 0
;persistent = 1

[State 1251,0]
type = helper
trigger1 = !time
stateno = 1164
id = 1164
pos = 0,0
facing = 1
sprpriority = 1
ownpal = 1
ignorehitpause = 1
scale = 1,1

[State 210, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 1,10

[State 200, 0]
type = Varadd
trigger1 = movehit
v = 47
value = 15
ignorehitpause = 1
persistent = 0

;[State 0, PalFXWiz]
;type = AfterImage
;trigger1= time = 0
;PalBright = 240,50,0
;PalContrast = 250,150,0
;palpostbright = 0,0,0
;;paladd = 4,5,6
;palmul=.8,.8,.8;palmul = 4,3,0
;TimeGap = 1
;FrameGap = 1
;Trans = Add
;Trans = Add
;time = -1
;IgnoreHitPause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -1-(time*15);1+(time*60)
scale = .35,.35;.06,.06
ignorehitpause = 0

[State 1061, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1061, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1061, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1166
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State 281, HitDef]
type = HitDef
trigger1 = animelemtime(1) >= 0
attr = C,NA
hitflag = MAFD
guardflag = L
animtype = hard                   ;Attribute: Standing, Normal Attack
air.animtype = light
damage = 65+ceil(10*root,fvar(9)), 32
pausetime = 0,24
getpower = 0                  ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit               
sparkno = S6401
guard.sparkno = -1;S6404                     ;Spark anim no (Def: set above)
sparkxy = -8, -23             
hitsound = s1,31                  ;Sound to play on hit
guardsound = S1,15               ;Sound to play on guard
ground.type = low               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 45             ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     
air.type = High                  
air.cornerpush.veloff = 0
air.velocity = -1.1,-3      
air.hittime = 22                 
air.fall = 1
fall = 0
palfx.time = 120
palfx.color = 0
palfx.add = 100,0,-180
palfx.sinadd = 40,20,20,15
fall.xvelocity = 0
fall.yvelocity =-2

[State 1251, Flame Particles]
type = Helper
trigger1 = !NumHelper(8040)
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
trigger1 = var(40) := (Target, ID)
helperType = Normal
stateNo = 8040
ID = 8040
name = "Flame Particles"
posType = P2
ownPal = 1
ignoreHitPause = 1

;[State 0]
;type = Explod
;trigger1 = MoveHit = 1 || movecontact
;trigger1 = NumExplod(2153) = 0
;trigger1 = NumTarget > 0
;;trigger1 = floor((target, Pos X - Pos X)*facing) = P2Dist X
;;trigger1 = target, Pos Y - Pos Y = P2Dist Y
;trigger1 = target, Life = P2Life
;trigger1 = target, StateNo = P2StateNo
;trigger1 = P2MoveType = H
;ID = 2153
;postype = p2
;pos = -10, -155+(p2statetype = L +50)
;anim = 2153
;bindtime = -1
;removetime = 35
;ignorehitpause = 1
;ownpal = 1
;sprpriority = 99
;scale = 1.3,1.3

[State 281,end]
type = Helper
trigger1 = time = 100
trigger2 = (HitCount = 1) && (MoveHit) || movecontact
stateno = 1166
helperType = Normal
ownPal = 1
ignoreHitPause = 1

[State 281,hit]
type = Destroyself
trigger1 = (HitCount = 1) && (MoveHit) || movecontact

[State 680, to ground]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1160
ctrl = 0
;---------------------------------------------------------------------------
;D-EXfireball(pojectile Air)
[Statedef 1171]
type    = A
movetype= A
physics = N
poweradd= 0
ctrl = 0
anim = 1161
velset = 24,-11.7
sprpriority = 9

[State 0, ]
type = VelAdd
trigger1 = 1
y = .65
;ignorehitpause = 0
;persistent = 1

[State 1251,0]
type = helper
trigger1 = !time
stateno = 1174
id = 1174
pos = 0,0
facing = 1
sprpriority = 1
ownpal = 1
ignorehitpause = 1
scale = 1,1

[State 210, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 1,10

[State 200, 0]
type = Varadd
trigger1 = movehit
v = 47
value = 15
ignorehitpause = 1
persistent = 0

;[State 0, PalFXWiz]
;type = AfterImage
;trigger1= time = 0
;PalBright = 240,50,0
;PalContrast = 250,150,0
;palpostbright = 0,0,0
;;paladd = 4,5,6
;palmul=.8,.8,.8;palmul = 4,3,0
;TimeGap = 1
;FrameGap = 1
;Trans = Add
;Trans = Add
;time = -1
;IgnoreHitPause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -1-(time*15);1+(time*60)
scale = .35,.35;.06,.06
ignorehitpause = 0

[State 1061, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1061, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1061, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 1166
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State 281, HitDef]
type = HitDef
trigger1 = animelemtime(1) >= 0
attr = C,NA
hitflag = MAFD
guardflag = L
animtype = hard                   ;Attribute: Standing, Normal Attack
air.animtype = light
damage = 85+ceil(10*root,fvar(9)), 32
pausetime = 0,30
getpower = 0                  ;Damage that move inflicts, guard damage
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAFD                    ;Flags of conditions that move can hit
priority = 3, Hit               
sparkno = S6401
guard.sparkno = -1;S6404                     ;Spark anim no (Def: set above)
sparkxy = -8, -23             
hitsound = s1,31                  ;Sound to play on hit
guardsound = S1,15               ;Sound to play on guard
ground.type = low               ;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5             ;Time that the opponent slides back
ground.hittime  = 45             ;Time opponent is in hit state
ground.velocity = -3             ;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8     
air.type = High                  
air.cornerpush.veloff = 0
air.velocity = -1.1,-3      
air.hittime = 22                 
air.fall = 1
fall = 1
palfx.time = 120
palfx.color = 0
palfx.add = 100,0,-180
palfx.sinadd = 40,20,20,15
fall.xvelocity = 0
fall.yvelocity =-2

[State 1251, Flame Particles]
type = Helper
trigger1 = !NumHelper(8040)
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
trigger1 = var(40) := (Target, ID)
helperType = Normal
stateNo = 8040
ID = 8040
name = "Flame Particles"
posType = P2
ownPal = 1
ignoreHitPause = 1

;[State 0]
;type = Explod
;trigger1 = MoveHit = 1 || movecontact
;trigger1 = NumExplod(2153) = 0
;trigger1 = NumTarget > 0
;;trigger1 = floor((target, Pos X - Pos X)*facing) = P2Dist X
;;trigger1 = target, Pos Y - Pos Y = P2Dist Y
;trigger1 = target, Life = P2Life
;trigger1 = target, StateNo = P2StateNo
;trigger1 = P2MoveType = H
;ID = 2153
;postype = p2
;pos = -10, -155+(p2statetype = L +50)
;anim = 2153
;bindtime = -1
;removetime = 35
;ignorehitpause = 1
;ownpal = 1
;sprpriority = 99
;scale = 1.3,1.3

[State 281,end]
type = Helper
trigger1 = time = 100
trigger2 = (HitCount = 1) && (MoveHit) || movecontact
stateno = 1166
helperType = Normal
ownPal = 1
ignoreHitPause = 1

[State 281,hit]
type = Destroyself
trigger1 = (HitCount = 1) && (MoveHit) || movecontact

[State 680, to ground]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1170
ctrl = 0
;---------------------------------------------------------------------------------------------
;FireBall (explod)
[Statedef 1166]
type = A
physics = N
movetype = I
anim = 1166
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 2045, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1166, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+.45,1+.45

[State 2045, Snd]
type = playsnd
trigger1 = !time
value = 5, 2
ignorehitpause = 1
persistent = 0

[State 2045, End]
type = destroyself
trigger1 = !animtime
;---------------------------------------------------------------------------------------------
;Fireball (shoot effect diag)
[Statedef 6460]
type = A
physics = N
movetype = I
anim = 7706
ctrl = 0
velset = 0, 0
sprpriority = 10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 45
scale = .6,.6
ignorehitpause = 0

[State 2045, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 2045, Snd]
type = playsnd
trigger1 = !time
value = 5, 2
ignorehitpause = 1
persistent = 0

[State 2045, End]
type = destroyself
trigger1 = !animtime
;---------------------------------------------------------------------------------------------
;Fireball (shoot effect diag2)
[Statedef 6461]
type = A
physics = N
movetype = I
anim = 7706
ctrl = 0
velset = 0, 0
sprpriority = 10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 135
scale = .6,.6
ignorehitpause = 0

[State 2045, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 2045, Snd]
type = playsnd
trigger1 = !time
value = 5, 2
ignorehitpause = 1
persistent = 0

[State 2045, End]
type = destroyself
trigger1 = !animtime
;---------------------------------------------------------------------------------------------
;Fireball (shoot effect diag)
[Statedef 6470]
type = A
physics = N
movetype = I
anim = 7708
ctrl = 0
velset = 0, 0
sprpriority = 10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -45
scale = 1,1
ignorehitpause = 0

[State 2045, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 2045, Snd]
type = playsnd
trigger1 = !time
value = 5, 2
ignorehitpause = 1
persistent = 0

[State 2045, End]
type = destroyself
trigger1 = !animtime
;---------------------------------------------------------------------------------------------
;Fireball (shoot effect diag)
[Statedef 6471]
type = A
physics = N
movetype = I
anim = 7708
ctrl = 0
velset = 0, 0
sprpriority = 10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 45
scale = 1,1
ignorehitpause = 0

[State 2045, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 2045, Snd]
type = playsnd
trigger1 = !time
value = 5, 2
ignorehitpause = 1
persistent = 0

[State 2045, End]
type = destroyself
trigger1 = !animtime
;---------------------------------------------------------------------------------------------
;Smoke FX(air)
[Statedef 7709]
type = A
physics = N
movetype = I
anim = 7709
ctrl = 0
velset = 0, 0
sprpriority = 16

[State 0, AngleDraw]
type = AngleDraw
triggerall = facing=1
trigger1 = 1
value = ceil((atan(((pos x)+.00001)/((pos y)+.00001))*90)/pi)-(200*ifelse(pos y < 0, -1, 1))
scale = .2,.2
ignorehitpause = 0

[State 0, AngleDraw]
type = AngleDraw
triggerall = facing=-1
trigger1 = 1
value = ceil((atan(((pos x)-.00001)/((pos y)-.00001))*90)/pi)-(200*ifelse(pos y < 0, -1, 1))
scale = .2,.2
ignorehitpause = 0

[State 2045, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 2045, Snd]
type = playsnd
trigger1 = !time
value = 5, 2
ignorehitpause = 1
persistent = 0

[State 2045, End]
type = destroyself
trigger1 = !animtime
;---------------------------------------------------------------------------------------------
;Smoke FX(air)
[Statedef 7710]
type = A
physics = N
movetype = I
anim = 7709
ctrl = 0
velset = 0, 0
sprpriority = 8

[State 0, AngleDraw]
type = AngleDraw
triggerall = facing=1
trigger1 = 1
value = 90
scale = .2,.2
ignorehitpause = 0

[State 0, AngleDraw]
type = AngleDraw
triggerall = facing=-1
trigger1 = 1
value = -90
scale = .2,.2
ignorehitpause = 0

[State 2045, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 2045, Snd]
type = playsnd
trigger1 = !time
value = 5, 2
ignorehitpause = 1
persistent = 0

[State 2045, End]
type = destroyself
trigger1 = !animtime
;---------------------------------------------------------------------------------------------
;Smoke FX(air)
[Statedef 7711]
type = A
physics = N
movetype = I
anim = 7709
ctrl = 0
velset = 0, 0
sprpriority = 8

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 40
scale = .2,.2
ignorehitpause = 0

[State 2045, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 2045, Snd]
type = playsnd
trigger1 = !time
value = 5, 2
ignorehitpause = 1
persistent = 0

[State 2045, End]
type = destroyself
trigger1 = !animtime
;---------------------------------------------------------------------------------------------
;Smoke FX(air)
[Statedef 7712]
type = A
physics = N
movetype = I
anim = 7801
ctrl = 0
velset = 0, 0
sprpriority = 8

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -40
scale = 1.8,1.8
ignorehitpause = 0

[State 2045, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 2045, Snd]
type = playsnd
trigger1 = !time
value = 5, 2
ignorehitpause = 1
persistent = 0

[State 2045, End]
type = destroyself
trigger1 = !animtime
;---------------------------------------------------------------------------------------------
;Smoke FX(aim up)
[Statedef 7713]
type = A
physics = N
movetype = I
anim = 7801
ctrl = 0
velset = 0, 0
sprpriority = 12

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 90
scale = 1.8,1.8
ignorehitpause = 0

[State 2045, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 2045, Snd]
type = playsnd
trigger1 = !time
value = 5, 2
ignorehitpause = 1
persistent = 0

[State 2045, End]
type = destroyself
trigger1 = !animtime
;---------------------------------------------------------------------------------------------
;Smoke FX(diag up)
[Statedef 7714]
type = A
physics = N
movetype = I
anim = 7709
ctrl = 0
velset = 0, 0
sprpriority = 16

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -40
scale = .2,.2
ignorehitpause = 0

[State 2045, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 2045, Snd]
type = playsnd
trigger1 = !time
value = 5, 2
ignorehitpause = 1
persistent = 0

[State 2045, End]
type = destroyself
trigger1 = !animtime
;---------------------------------------------------------------------------------------------
;guardbreak(Impact effect)
[Statedef 7550]
type = A
physics = N
movetype = I
anim = 7550
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 35
ignorehitpause = 0

[State 2044, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 2044, End]
type = destroyself
trigger1 = !animtime
;------------------------------------------------------------------------------
; Guard FX
[StateDef 8090]
type = S
physics = N
anim = 9999
velset = 0,0
ctrl = 0

[State 10026]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 10026, F]
type = PalFX
trigger1 = time = 0
time = 2
mul = 255,255,255
ignorehitpause = 1

[State 10026, F]
type = PalFX
trigger1 = time >= 3
time = 1
mul = 12,50,211
ignorehitpause = 1

[State 1251,0]
type = helper
trigger1 = time = 0
stateno=8091
pos = 0,ifelse(P2statetype = C, 50, 0);-180
scale = 1,1;0.363,0.363
postype = p1
ownpal = 0
supermovetime = 999
ownpal=1
pausemovetime=9999
supermovetime=9999

[State 1251,0]
type = helper
trigger1 = time = 0
stateno=8092
pos = 0,ifelse(P2statetype = C, 50, 0);-180
scale = 1,1; 0.165,0.165
postype = p1
ownpal = 0
supermovetime = 999
ownpal=1
pausemovetime=9999
supermovetime=9999

;[State 1251,0]
;type = helper
;trigger1 = !time
;stateno=8093
;pos = 0,0
;scale = 1,1; 0.693,0.33
;postype = p1
;ownpal = 0
;supermovetime = 999
;ownpal=1
;pausemovetime=9999
;supermovetime=9999

[State 1251,0]
type = helper
trigger1 = time = 3
stateno=8094
pos = 0,ifelse(P2statetype = C, 50, 0);-180
scale = 1,1; 0.693,0.33
postype = p1
ownpal = 0
supermovetime = 999
ownpal=1
pausemovetime=9999
supermovetime=9999

[State 10026, Á‹Ž]
type = DestroySelf
trigger1 = time = 14
;---------------------------------------------------------------------------------------------
;8090 - Guard FX prt1
[Statedef 8091]
type = A
physics = N
movetype = I
anim = 8196
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = -2,4.5
ignorehitpause = 0

[State 2044, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 2044, End]
type = destroyself
trigger1 = !animtime
;---------------------------------------------------------------------------------------------
;8090 - Guard FX prt2
[Statedef 8092]
type = A
physics = N
movetype = I
anim = 8196
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = -2,4.5
ignorehitpause = 0

[State 2044, End]
type = destroyself
trigger1 = !animtime
;---------------------------------------------------------------------------------------------
;8090 - Guard FX prt3
[Statedef 8093]
type = A
physics = N
movetype = I
anim = 8097
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 1-(time%3)
scale = 1,1.5
ignorehitpause = 0

[state 8093, Trans]
type = trans
trigger1 = 1
trans = Add
alpha = 256 - cond(time <= 1, 1, 2) * time, 256

[State 2044, End]
type = destroyself
trigger1 = time > 7
;---------------------------------------------------------------------------------------------
;8090 - Guard FX prt4
[Statedef 8094]
type = A
physics = N
movetype = I
anim = 8098
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = -1.4+(0.0435 * time),3.2+(0.0435 * time)
ignorehitpause = 0

[state 8093, Trans]
type = trans
trigger1 = 1
trans = Add
alpha = 256 - cond(time <= 1, 1, 2) * time, 256

[State 2044, End]
type = destroyself
trigger1 = time = 14
;---------------------------------------------------------------------------------------------
;8090 - Guard FX prt5
[Statedef 8095]
type = A
physics = N
movetype = I
anim = 8098
ctrl = 0
velset = 0, 0
sprpriority = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 1.5,3.2
ignorehitpause = 0

[state 8093, Trans]
type = trans
trigger1 = 1
trans = Add
alpha = 256 - cond(time <= 1, 1, 2) * time, 256

[State 2044, End]
type = destroyself
trigger1 = !animtime
;--------------------------------------------------------------------
;--------------------------
;missil(med)
;--------------------------
[Statedef 1250]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 1250
velset = 0,-12.5
sprpriority = 5

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 5
timegap = 2
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 50, 50, 50
paladd = 0,0,0
palmul = .90, .90, .90

[State 2000, trail]
type = explod
trigger1 = timemod = 5,0
anim = 7709
ID = 7709
pos = -50+time%8,-1-time%8
postype = p1
facing = 1
scale = 0.2,0.2
sprpriority = 12
ownpal = 1
supermovetime = 999
ignorehitpause = 1

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 8000, flash]
type = PalFX
trigger1 = gametime % 2 = 0 
add = 0,50,256
sinadd = 110,110,110,8
time = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 90
ignorehitpause = 0

[State 1061, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1061, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1061, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 21554
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State 281, HitDef]
type = HitDef
trigger1 = animelemtime(1) >= 0
attr = A,SP
animtype = Heavy                 
guardflag = MA                  
hitflag = MAFDE 
priority = 7, Hit   ;Hit,Miss,Dodge
damage = 40,8
pausetime = 0,30
hitsound   = s2,18
Guardsound   = s2,18
sparkno = -1                     ;Spark anim no (Def: set above)
guard.sparkno = -1
sparkxy = -65,-160; 0,0
ground.type = High
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -5,-5
air.velocity = -5,-5
guard.velocity = -10
yaccel           = 0.4
envshake.time = 7
fall = 1
fall.recover = 0
getpower = 30,5
givepower = 15,5
palfx.time = 60
palfx.color = 0
palfx.add = 40,-70,-200
palfx.mul = 256,256,256
palfx.sinadd = 40,30,0,10
palfx.invertall = 1

[State 1251, Flame Particles]
type = Helper
trigger1 = !NumHelper(8040)
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
trigger1 = var(40) := (Target, ID)
helperType = Normal
stateNo = 8040
ID = 8040
name = "Flame Particles"
posType = P2
ownPal = 1
ignoreHitPause = 1

[State 281,end]
type = changestate
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
value = 21554

[State 281,end]
type = Changestate
trigger1 = Pos Y < -630
value = 1251

[State 281,end]
type = Destroyself
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
;--------------------------
;Missle fall(med)
;--------------------------
[Statedef 1251]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 1250
velset = 6.7,-7.7
sprpriority = 5

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 5
timegap = 2
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 50, 50, 50
paladd = 0,0,0
palmul = .90, .90, .90

[State 2000, trail]
type = Helper
trigger1 = timemod = 5,0
stateno = 7709
ID = 7709
pos = -50+time%8,-1-time%8
postype = p1
facing = 1
scale = 0.2,0.2
sprpriority = 12
ownpal = 1
supermovetime = 999
ignorehitpause = 1

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 8000, flash]
type = PalFX
trigger1 = gametime % 2 = 0 
add = 0,50,256
sinadd = 110,110,110,8
time = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = ceil((atan(((vel x)+.00001)/((vel y)+.00001))*180)/pi)-(90*ifelse(vel y < 0, -1, 1))

[State 0,0]
type = VelAdd
trigger1 = 1
y = .65
;ignorehitpause = 0
;persistent = 1

;[State 0,0]
;type = VelAdd
;trigger1 = time > 18
;y = 0+time%2
;;ignorehitpause = 0
;;persistent = 1

[State 1061, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1061, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1061, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 21554
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State 281, HitDef]
type = HitDef
trigger1 = animelemtime(1) >= 0
attr = A,SP
animtype = Heavy                 
guardflag = MA                  
hitflag = MAFDE 
priority = 7, Hit   ;Hit,Miss,Dodge
damage = 160,12
pausetime = 0,25
hitsound   = s2,18
Guardsound   = s2,18
sparkno = -1                     ;Spark anim no (Def: set above)
guard.sparkno = -1
sparkxy = -65,-160; 0,0
ground.type = High
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -5,-5
air.velocity = -5,-5
guard.velocity = -10
envshake.time = 7
fall = 1
yaccel           = 0.4
fall.recover = 0
getpower = 30,5
givepower = 15,5
palfx.time = 60
palfx.color = 0
palfx.add = 40,-70,-200
palfx.mul = 256,256,256
palfx.sinadd = 40,30,0,10
palfx.invertall = 1

[State 1251, Flame Particles]
type = Helper
trigger1 = !NumHelper(8040)
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
trigger1 = var(40) := (Target, ID)
helperType = Normal
stateNo = 8040
ID = 8040
name = "Flame Particles"
posType = P2
ownPal = 1
ignoreHitPause = 1

[State 281,end]
type = changestate
trigger1 = time = 700
trigger2 = Pos Y >= 0
trigger3 = (HitCount = 1) && (MoveHit) || movecontact
value = 21554

;[State 281,end]
;type = Destroyself
;trigger1 = time = 700;error
;trigger2 = (HitCount = 1) && (MoveHit) || movecontact ;|| Pos Y >= 0

;--------------------------
;missil(EX)
;--------------------------
[Statedef 1260]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 1250
velset = 0,-12.5
sprpriority = 5

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 5
timegap = 2
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 50, 50, 50
paladd = 0,0,0
palmul = .90, .90, .90

[State 2000, trail]
type = explod
trigger1 = timemod = 5,0
anim = 7709
ID = 7709
pos = -50+time%8,-1-time%8
postype = p1
facing = 1
scale = 0.2,0.2
sprpriority = 12
ownpal = 1
supermovetime = 999
ignorehitpause = 1

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 8000, flash]
type = PalFX
trigger1 = gametime % 2 = 0 
add = 0,50,256
sinadd = 110,110,110,8
time = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 90
ignorehitpause = 0

[State 1061, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1061, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1061, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 21554
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State 281, HitDef]
type = HitDef
trigger1 = animelemtime(1) >= 0
attr = A,SP
animtype = Heavy                 
guardflag = MA                  
hitflag = MAFDE 
priority = 7, Hit   ;Hit,Miss,Dodge
damage = 80,8
pausetime = 0,30
hitsound   = s2,18
Guardsound   = s2,18
sparkno = -1                     ;Spark anim no (Def: set above)
guard.sparkno = -1
sparkxy = -65,-160; 0,0
ground.type = High
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -5,-5
air.velocity = -5,-5
guard.velocity = -10
yaccel           = 0.4
envshake.time = 7
fall = 1
fall.recover = 0
getpower = 30,5
givepower = 15,5
palfx.time = 60
palfx.color = 0
palfx.add = 40,-70,-200
palfx.mul = 256,256,256
palfx.sinadd = 40,30,0,10
palfx.invertall = 1

[State 1251, Flame Particles]
type = Helper
trigger1 = !NumHelper(8040)
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
trigger1 = var(40) := (Target, ID)
helperType = Normal
stateNo = 8040
ID = 8040
name = "Flame Particles"
posType = P2
ownPal = 1
ignoreHitPause = 1

[State 8090, G-FX]
type = Helper
trigger1 = moveguarded && numtarget
pos = 10,enemy,const(size.mid.pos.y)
postype = p2
stateno = 8090
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 281,end]
type = changestate
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
value = 21555

[State 281,end]
type = Changestate
trigger1 = Pos Y < -660
value = 1263

[State 281,end]
type = Destroyself
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
;--------------------------
;missil(EX)
;--------------------------
[Statedef 1261]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 1250
velset = 0,-12.5
sprpriority = 5

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 5
timegap = 2
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 50, 50, 50
paladd = 0,0,0
palmul = .90, .90, .90

[State 2000, trail]
type = explod
trigger1 = timemod = 5,0
anim = 7709
ID = 7709
pos = -50+time%8,-1-time%8
postype = p1
facing = 1
scale = 0.2,0.2
sprpriority = 12
ownpal = 1
supermovetime = 999
ignorehitpause = 1

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 8000, flash]
type = PalFX
trigger1 = gametime % 2 = 0 
add = 0,50,256
sinadd = 110,110,110,8
time = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 90
ignorehitpause = 0

[State 1061, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1061, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1061, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 21554
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State 281, HitDef]
type = HitDef
trigger1 = animelemtime(1) >= 0
attr = A,SP
animtype = Heavy                 
guardflag = MA                  
hitflag = MAFDE 
priority = 7, Hit   ;Hit,Miss,Dodge
damage = 80,8
pausetime = 0,30
hitsound   = s2,18
Guardsound   = s2,18
sparkno = -1                     ;Spark anim no (Def: set above)
guard.sparkno = -1
sparkxy = -65,-160; 0,0
ground.type = High
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -5,-5
air.velocity = -5,-5
guard.velocity = -10
yaccel           = 0.4
envshake.time = 7
fall = 1
fall.recover = 0
getpower = 30,5
givepower = 15,5
palfx.time = 60
palfx.color = 0
palfx.add = 40,-70,-200
palfx.mul = 256,256,256
palfx.sinadd = 40,30,0,10
palfx.invertall = 1

[State 1251, Flame Particles]
type = Helper
trigger1 = !NumHelper(8040)
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
trigger1 = var(40) := (Target, ID)
helperType = Normal
stateNo = 8040
ID = 8040
name = "Flame Particles"
posType = P2
ownPal = 1
ignoreHitPause = 1

[State 8090, G-FX]
type = Helper
trigger1 = moveguarded && numtarget
pos = 10,enemy,const(size.mid.pos.y)
postype = p2
stateno = 8090
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 281,end]
type = changestate
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
value = 21555

[State 281,end]
type = Changestate
trigger1 = Pos Y < -690
value = 1264

[State 281,end]
type = Destroyself
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
;--------------------------
;missil(EX)
;--------------------------
[Statedef 1262]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 1250
velset = 0,-12.5
sprpriority = 5

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 5
timegap = 2
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 50, 50, 50
paladd = 0,0,0
palmul = .90, .90, .90

[State 2000, trail]
type = explod
trigger1 = timemod = 5,0
anim = 7709
ID = 7709
pos = -50+time%8,-1-time%8
postype = p1
facing = 1
scale = 0.2,0.2
sprpriority = 12
ownpal = 1
supermovetime = 999
ignorehitpause = 1

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 8000, flash]
type = PalFX
trigger1 = gametime % 2 = 0 
add = 0,50,256
sinadd = 110,110,110,8
time = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 90
ignorehitpause = 0

[State 1061, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1061, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1061, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 21554
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State 281, HitDef]
type = HitDef
trigger1 = animelemtime(1) >= 0
attr = A,SP
animtype = Heavy                 
guardflag = MA                  
hitflag = MAFDE 
priority = 7, Hit   ;Hit,Miss,Dodge
damage = 80,8
pausetime = 0,30
hitsound   = s2,18
Guardsound   = s2,18
sparkno = -1                     ;Spark anim no (Def: set above)
guard.sparkno = -1
sparkxy = -65,-160; 0,0
ground.type = High
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -5,-5
air.velocity = -5,-5
guard.velocity = -10
yaccel           = 0.4
envshake.time = 7
fall = 1
fall.recover = 0
getpower = 30,5
givepower = 15,5
palfx.time = 60
palfx.color = 0
palfx.add = 40,-70,-200
palfx.mul = 256,256,256
palfx.sinadd = 40,30,0,10
palfx.invertall = 1

[State 1251, Flame Particles]
type = Helper
trigger1 = !NumHelper(8040)
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
trigger1 = var(40) := (Target, ID)
helperType = Normal
stateNo = 8040
ID = 8040
name = "Flame Particles"
posType = P2
ownPal = 1
ignoreHitPause = 1

[State 8090, G-FX]
type = Helper
trigger1 = moveguarded && numtarget
pos = 10,enemy,const(size.mid.pos.y)
postype = p2
stateno = 8090
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 281,end]
type = changestate
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
value = 21555

[State 281,end]
type = Changestate
trigger1 = Pos Y < -720
value = 1265

[State 281,end]
type = Destroyself
trigger1 = (HitCount = 1) && (MoveHit) || movecontact
;--------------------------
;Missle fall(EX)
;--------------------------
[Statedef 1263]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 1250
velset = 4.7,-5.7
sprpriority = 5

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 5
timegap = 2
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 50, 50, 50
paladd = 0,0,0
palmul = .90, .90, .90

[State 2000, trail]
type = Helper
trigger1 = timemod = 5,0
stateno = 7709
ID = 7709
pos = -50+time%8,-1-time%8
postype = p1
facing = 1
scale = 0.2,0.2
sprpriority = 12
ownpal = 1
supermovetime = 999
ignorehitpause = 1

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 8000, flash]
type = PalFX
trigger1 = gametime % 2 = 0 
add = 0,50,256
sinadd = 110,110,110,8
time = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = ceil((atan(((vel x)+.00001)/((vel y)+.00001))*180)/pi)-(90*ifelse(vel y < 0, -1, 1))

[State 0,0]
type = VelAdd
trigger1 = 1
y = .65
;ignorehitpause = 0
;persistent = 1

;[State 0,0]
;type = VelAdd
;trigger1 = time > 18
;y = 0+time%2
;;ignorehitpause = 0
;;persistent = 1

[State 1061, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1061, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1061, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 21554
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State 281, HitDef]
type = HitDef
trigger1 = animelemtime(1) >= 0
attr = A,SP
animtype = Heavy                 
guardflag = MA                  
hitflag = MAFDE 
priority = 7, Hit   ;Hit,Miss,Dodge
damage = 80,12
pausetime = 0,10
hitsound   = s2,18
Guardsound   = s2,18
sparkno = -1                     ;Spark anim no (Def: set above)
guard.sparkno = -1
sparkxy = -65,-160; 0,0
ground.type = High
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -8,-8
air.velocity = -8,-8
guard.velocity = -10
envshake.time = 7
fall = 1
yaccel           = 0.4
fall.recover = 0
getpower = 30,5
givepower = 15,5
palfx.time = 60
palfx.color = 0
palfx.add = 40,-70,-200
palfx.mul = 256,256,256
palfx.sinadd = 40,30,0,10
palfx.invertall = 1

[State 1251, Flame Particles]
type = Helper
trigger1 = !NumHelper(8040)
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
trigger1 = var(40) := (Target, ID)
helperType = Normal
stateNo = 8040
ID = 8040
name = "Flame Particles"
posType = P2
ownPal = 1
ignoreHitPause = 1

[State 8090, G-FX]
type = Helper
trigger1 = moveguarded && numtarget
pos = 10,enemy,const(size.mid.pos.y)
postype = p2
stateno = 8090
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 281,end]
type = changestate
trigger1 = time = 700
trigger2 = Pos Y >= 0
trigger3 = (HitCount = 1) && (MoveHit) || movecontact
value = 21555

;[State 281,end]
;type = Destroyself
;trigger1 = time = 700;error
;trigger2 = (HitCount = 1) && (MoveHit) || movecontact ;|| Pos Y >= 0

;--------------------------
;Missle fall(EX)
;--------------------------
[Statedef 1264]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 1250
velset = 6.7,-7.7
sprpriority = 5

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 5
timegap = 2
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 50, 50, 50
paladd = 0,0,0
palmul = .90, .90, .90

[State 2000, trail]
type = Helper
trigger1 = timemod = 5,0
stateno = 7709
ID = 7709
pos = -50+time%8,-1-time%8
postype = p1
facing = 1
scale = 0.2,0.2
sprpriority = 12
ownpal = 1
supermovetime = 999
ignorehitpause = 1

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 8000, flash]
type = PalFX
trigger1 = gametime % 2 = 0 
add = 0,50,256
sinadd = 110,110,110,8
time = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = ceil((atan(((vel x)+.00001)/((vel y)+.00001))*180)/pi)-(90*ifelse(vel y < 0, -1, 1))

[State 0,0]
type = VelAdd
trigger1 = 1
y = .65
;ignorehitpause = 0
;persistent = 1

;[State 0,0]
;type = VelAdd
;trigger1 = time > 18
;y = 0+time%2
;;ignorehitpause = 0
;;persistent = 1

[State 1061, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1061, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1061, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 21554
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State 281, HitDef]
type = HitDef
trigger1 = animelemtime(1) >= 0
attr = A,SP
animtype = Heavy                 
guardflag = MA                  
hitflag = MAFDE 
priority = 7, Hit   ;Hit,Miss,Dodge
damage = 80,12
pausetime = 0,10
hitsound   = s2,18
Guardsound   = s2,18
sparkno = -1                     ;Spark anim no (Def: set above)
guard.sparkno = -1
sparkxy = -65,-160; 0,0
ground.type = High
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -10,-10
air.velocity = -10,-10
guard.velocity = -10
envshake.time = 7
fall = 1
yaccel           = 0.4
fall.recover = 0
getpower = 30,5
givepower = 15,5
palfx.time = 60
palfx.color = 0
palfx.add = 40,-70,-200
palfx.mul = 256,256,256
palfx.sinadd = 40,30,0,10
palfx.invertall = 1

[State 1251, Flame Particles]
type = Helper
trigger1 = !NumHelper(8040)
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
trigger1 = var(40) := (Target, ID)
helperType = Normal
stateNo = 8040
ID = 8040
name = "Flame Particles"
posType = P2
ownPal = 1
ignoreHitPause = 1

[State 8090, G-FX]
type = Helper
trigger1 = moveguarded && numtarget
pos = 10,enemy,const(size.mid.pos.y)
postype = p2
stateno = 8090
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 281,end]
type = changestate
trigger1 = time = 700
trigger2 = Pos Y >= 0
trigger3 = (HitCount = 1) && (MoveHit) || movecontact
value = 21555

;[State 281,end]
;type = Destroyself
;trigger1 = time = 700;error
;trigger2 = (HitCount = 1) && (MoveHit) || movecontact ;|| Pos Y >= 0

;--------------------------
;Missle fall(EX)
;--------------------------
[Statedef 1265]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 1250
velset = 7.7,-9.7
sprpriority = 5

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 5
timegap = 2
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 50, 50, 50
paladd = 0,0,0
palmul = .90, .90, .90

[State 2000, trail]
type = Helper
trigger1 = timemod = 5,0
stateno = 7709
ID = 7709
pos = -50+time%8,-1-time%8
postype = p1
facing = 1
scale = 0.2,0.2
sprpriority = 12
ownpal = 1
supermovetime = 999
ignorehitpause = 1

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 8000, flash]
type = PalFX
trigger1 = gametime % 2 = 0 
add = 0,50,256
sinadd = 110,110,110,8
time = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = ceil((atan(((vel x)+.00001)/((vel y)+.00001))*180)/pi)-(90*ifelse(vel y < 0, -1, 1))

[State 0,0]
type = VelAdd
trigger1 = 1
y = .65
;ignorehitpause = 0
;persistent = 1

;[State 0,0]
;type = VelAdd
;trigger1 = time > 18
;y = 0+time%2
;;ignorehitpause = 0
;;persistent = 1

[State 1061, NotHitBy]
type = NotHitBy
trigger1 = Time >= 0
time = 1
value = SCA, NA, SA, HA, NT, ST, HT
ignorehitpause = 1

[State 1061, HitBy]
type = HitBy
trigger1 = Time >= 0
value = SCA, NP, SP, HP
time = 1
ignorehitpause = 1

[State 1061, HitOverride]
type = HitOverride
trigger1 = Time >= 0
slot = 1
time = 1
stateno = 21554
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State 281, HitDef]
type = HitDef
trigger1 = animelemtime(1) >= 0
attr = A,SP
animtype = Heavy                 
guardflag = MA                  
hitflag = MAFDE 
priority = 7, Hit   ;Hit,Miss,Dodge
damage = 80,12
pausetime = 0,25
hitsound   = s2,18
Guardsound   = s2,18
sparkno = -1                     ;Spark anim no (Def: set above)
guard.sparkno = -1
sparkxy = -65,-160; 0,0
ground.type = High
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -5,-5
air.velocity = -5,-5
guard.velocity = -10
envshake.time = 7
fall = 1
yaccel           = 0.4
fall.recover = 0
getpower = 30,5
givepower = 15,5
palfx.time = 60
palfx.color = 0
palfx.add = 40,-70,-200
palfx.mul = 256,256,256
palfx.sinadd = 40,30,0,10
palfx.invertall = 1

[State 1251, Flame Particles]
type = Helper
trigger1 = !NumHelper(8040)
trigger1 = MoveHit = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
trigger1 = var(40) := (Target, ID)
helperType = Normal
stateNo = 8040
ID = 8040
name = "Flame Particles"
posType = P2
ownPal = 1
ignoreHitPause = 1

[State 8090, G-FX]
type = Helper
trigger1 = moveguarded && numtarget
pos = 10,enemy,const(size.mid.pos.y)
postype = p2
stateno = 8090
helpertype = normal
sprpriority = 99
ownpal = 1
persistent = 0
ignorehitpause = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 281,end]
type = changestate
trigger1 = time = 700
trigger2 = Pos Y >= 0
trigger3 = (HitCount = 1) && (MoveHit) || movecontact
value = 21555

;[State 281,end]
;type = Destroyself
;trigger1 = time = 700;error
;trigger2 = (HitCount = 1) && (MoveHit) || movecontact ;|| Pos Y >= 0

;--------------------------
;king slash start
;--------------------------
[Statedef 1350]
type = A
physics = N
movetype = A
ctrl = 0
anim = 1350
sprpriority = 2

[State 1100,S-Port]
type = Explod
trigger1 = time = 0
anim = anim
ID = 1350
postype = p1
pos = 0,0
ownpal = 1
scale = .8,.8
bindtime = -1
sprpriority = 10
ontop = 0
removetime = 120
ignorehitpause = 1
persistent = 0
supermovetime = 9999
pausemovetime = 9999

[State var]
type = varset
trigger1 = time = 0
fvar(28) = .05

[State var]
type = varset
trigger1 = Time = 0
fvar(29) = 1.25
ignorehitpause = 1

[State var]
type = varadd
trigger1 = fvar(29) > .8
fvar(29) = -fvar(28)
ignorehitpause = 1

;[State var]
;type = varadd
;trigger1 = var(9) != 1
;fvar(8) = .25
;ignorehitpause = 1

[State explod]
type = ModifyExplod
trigger1 = 1
ID = 1350
scale = fvar(29),fvar(29)
ignorehitpause = 1
pausemovetime = 10000

[State 15210]
Type = VarAdd
Trigger1 = var(41) < 256
V = 41
Value = 16

[State 15210,Fade]
Type = ModifyExplod
Trigger1 = Time >= 0
ID = 1350
Trans = AddAlpha
Alpha = 256-Var(41),256

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 10
timegap = 2
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 50, 50, 50
paladd = 0,0,0
palmul = .90, .90, .90

;[State 0, Explod]
;type = Explod
;trigger1 = time%10
;anim = 6611;+random%2
;ID = 6610
;pos = 0,0
;postype = p1
;bindtime = 2
;random = 10,20
;scale = .5,.5
;sprpriority = 10
;ownpal = 1
;trans =add

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .8,.8

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
x = 15
;y = 1-random%-6

[State 600, 2]
type = HitDef
trigger1 = !movecontact
attr = A,SP
animtype = Heavy                 
guardflag = MA                  
hitflag = MAFDE 
priority = 7, Hit   ;Hit,Miss,Dodge
damage = 0,0
pausetime = 0,10
hitsound   = s1,20
Guardsound   = s1,20
sparkno = -1                     ;Spark anim no (Def: set above)
guard.sparkno = -1
sparkxy = -65,-160; 0,0
ground.type = High
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -1,-4
air.velocity = -1,-4
guard.velocity = -10
envshake.time = 7
numhits = 0
fall = 1
yaccel           = 0.2
fall.recover = 0
getpower = 30,5
givepower = 15,5

;[State 281, HitDef]
;type = Projectile
;trigger1 = (Time = 0)
;attr             = A, HP
;damage           = ceil(ifElse(fvar(11) * 20 < 25, 25, fvar(11) * 20)), 7
;guardflag         = MA
;hitflag           = MAFD
;animtype         = Heavy
;pausetime        = 0,10
;;-----------------------------------
;offset           = 0,0
;velocity         = 25,0
;accel            = 0,0
;projID           = (var(25))
;projanim         = 6650  ;透明の「攻撃判定専用アニメ」を設定してる
;projhitanim      = 9999
;projremanim      = 9999
;projscale        = 1,1
;projshadow       = 0,0,0
;projhits         = 1
;projmisstime     = 0
;projpriority     = 5
;projremovetime   = 100
;projsprpriority  = -1  
;;-----------------------------------
;priority         = 4
;sparkno          = 9999;s(Root,var(44))
;sparkxy          = ceil(ifelse((P2Dist X<0),30+Random/40,30-Random/40)),ceil(ifelse(Random<500,60+Random/70,60-Random/70))
;guard.sparkno    = 9999;s4216
;hitsound         = s1,21
;guardsound       = s0,30
;ground.type      = High
;ground.slidetime = 16
;ground.hittime   = 19
;ground.velocity  = ifelse((root,time>=50),-9,-4.5),ifelse((root,time>=50),-7,0)
;guard.velocity   = -3
;air.velocity     = -4.5,-5
;airguard.velocity= -3,-4
;yaccel           = 0.4
;fall             = ifelse((root,time>=50),1,0)
;air.fall         = 1
;fall.recover     = 0
;envshake.time    = 4
;envshake.ampl    = 6
;envshake.freq    = 45

[State 1315, effect]
type = helper
triggerAll = NumTarget;Enemy
trigger1 = (HitCount = 1) && (MoveHit)
name ="Spark FX"
ID =8810
stateno =8810
Postype = p2
pos=(target,const(size.ground.front)-75),-170
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 281,end]
type = changestate
trigger1 = movecontact
value = 1351
persistent = 0

[State 15210]
Type = VarAdd
Trigger1 = animelemtime(2) > 0
V = 13
Value = 12

[State 15210,Fade]
Type = trans
Trigger1 = animelemtime(2) > 0
Trans = AddAlpha
Alpha = 256-Var(13),0+var(13)
;scale = (0.02525 * Time), (0.02525 * Time)

[State 15210, end]
type = DestroySelf
Trigger1 = var(13) > 256;time = 60
;--------------------------
;king slash start
;--------------------------
[Statedef 1351]
type = A
physics = N
movetype = A
ctrl = 0
anim = 1351
sprpriority = 2
velset = 0,0

[State explod]
type = ModifyExplod
trigger1 = time < 10
anim = 1351
id = 1350

[State var]
type = varset
trigger1 = time = 0
fvar(28) = .05

[State var]
type = varset
trigger1 = Time = 0
fvar(29) = 1.25
ignorehitpause = 1

[State var]
type = varadd
trigger1 = fvar(29) > .8
fvar(29) = -fvar(28)
ignorehitpause = 1

;[State var]
;type = varadd
;trigger1 = var(9) != 1
;fvar(8) = .25
;ignorehitpause = 1

[State explod]
type = ModifyExplod
trigger1 = 1
ID = 1350
scale = fvar(29),fvar(29)
ignorehitpause = 1
pausemovetime = 10000

[State 15210]
Type = VarAdd
Trigger1 = var(41) < 256
V = 41
Value = 16

[State 15210,Fade]
Type = ModifyExplod
Trigger1 = Time >= 0
ID = 1350
Trans = AddAlpha
Alpha = 256-Var(41),256

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 5
timegap = 2
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 50, 50, 50
paladd = 0,0,0
palmul = .90, .90, .90

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .8,.8

[State 0, AngleDraw]
type = velset
trigger1 = animelemtime(4) = 0
x = 2
y = 1.11

[State var]
type = varset
trigger1 = time = 0
fvar(17) = 1
ignorehitpause = 1

[State var]
type = varset
trigger1 = Time = 0
fvar(18) = 0
ignorehitpause = 1

[State var]
type = varadd
triggerall = animelemtime(4) > 0
trigger1 = fvar(18) > -25
fvar(18) = -fvar(17);(time*2)
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = animelemtime(4) > 0
value = fvar(18)

[State 600, 2]
type = HitDef
trigger1 = !movecontact
attr = A,SP
animtype = Heavy                 
guardflag = MA                  
hitflag = MAFDE 
priority = 7, Hit   ;Hit,Miss,Dodge
damage = 20,12
pausetime = 0,10
hitsound   = s1,72
Guardsound   = s1,72
sparkno = -1                     ;Spark anim no (Def: set above)
guard.sparkno = -1
sparkxy = -65,-160; 0,0
ground.type = High
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -4,-10
air.velocity = -4,-10
guard.velocity = -10
envshake.time = 7
fall = 1
yaccel           = 0.4
fall.recover = 0
getpower = 30,5
givepower = 15,5
id = 1360

[State 0, Helper]
type = Helper
triggerall = animelemtime(4) > 15 && animelemtime(5) < 40
trigger1 = timemod = 15,0
stateno=1360
ID = 1360
pos = 0,0
postype = P1
ownpal = 1
ignorehitpause = 0
;persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1315, effect]
type = helper
triggerAll = NumTarget;Enemy
trigger1 = (HitCount = 1) && (MoveHit)
name ="Spark FX"
ID =8800
stateno =8800
Postype = p2
pos=(target,const(size.ground.front)-75),-170
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 15210]
Type = VarAdd
Trigger1 = animelemtime(4) > 10
V = 14
Value = 16

[State 15210,Fade]
Type = trans
Trigger1 = animelemtime(4) > 10
Trans = AddAlpha
Alpha = 256-Var(14),0+var(14)
;scale = (0.02525 * Time), (0.02525 * Time)

[State 15210, end]
type = DestroySelf
Trigger1 = time = 90
;--------------------------
;king slash start
;--------------------------
[Statedef 1352]
type = A
physics = N
movetype = A
ctrl = 0
anim = 1350
sprpriority = 2

[State 1100,S-Port]
type = Explod
trigger1 = time = 0
anim = anim
ID = 1350
postype = p1
pos = 0,0
ownpal = 1
scale = .8,.8
bindtime = -1
sprpriority = 10
ontop = 0
removetime = 120
ignorehitpause = 1
persistent = 0
supermovetime = 9999
pausemovetime = 9999

[State var]
type = varset
trigger1 = time = 0
fvar(28) = .05

[State var]
type = varset
trigger1 = Time = 0
fvar(29) = 1.25
ignorehitpause = 1

[State var]
type = varadd
trigger1 = fvar(29) > .8
fvar(29) = -fvar(28)
ignorehitpause = 1

;[State var]
;type = varadd
;trigger1 = var(9) != 1
;fvar(8) = .25
;ignorehitpause = 1

[State explod]
type = ModifyExplod
trigger1 = 1
ID = 1350
scale = fvar(29),fvar(29)
ignorehitpause = 1
pausemovetime = 10000

[State 15210]
Type = VarAdd
Trigger1 = var(41) < 256
V = 41
Value = 16

[State 15210,Fade]
Type = ModifyExplod
Trigger1 = Time >= 0
ID = 1350
Trans = AddAlpha
Alpha = 256-Var(41),256

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 10
timegap = 2
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 50, 50, 50
paladd = 0,0,0
palmul = .90, .90, .90

;[State 0, Explod]
;type = Explod
;trigger1 = time%10
;anim = 6611;+random%2
;ID = 6610
;pos = 0,0
;postype = p1
;bindtime = 2
;random = 10,20
;scale = .5,.5
;sprpriority = 10
;ownpal = 1
;trans =add

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -40
scale = .8,.8

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
x = 15
y = -8;y = 1-random%-6

[State 600, 2]
type = HitDef
trigger1 = !movecontact
attr = A,SP
animtype = Heavy                 
guardflag = MA                  
hitflag = MAFDE 
priority = 7, Hit   ;Hit,Miss,Dodge
damage = 0,0
pausetime = 0,10
hitsound   = s1,20
Guardsound   = s1,20
sparkno = -1                     ;Spark anim no (Def: set above)
guard.sparkno = -1
sparkxy = -65,-160; 0,0
ground.type = High
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -8,-8
air.velocity = -8,-8
guard.velocity = -10
envshake.time = 7
numhits = 0
fall = 1
yaccel           = 0.4
fall.recover = 0
getpower = 30,5
givepower = 15,5

;[State 281, HitDef]
;type = Projectile
;trigger1 = (Time = 0)
;attr             = A, HP
;damage           = ceil(ifElse(fvar(11) * 20 < 25, 25, fvar(11) * 20)), 7
;guardflag         = MA
;hitflag           = MAFD
;animtype         = Heavy
;pausetime        = 0,10
;;-----------------------------------
;offset           = 0,0
;velocity         = 25,0
;accel            = 0,0
;projID           = (var(25))
;projanim         = 6650  ;透明の「攻撃判定専用アニメ」を設定してる
;projhitanim      = 9999
;projremanim      = 9999
;projscale        = 1,1
;projshadow       = 0,0,0
;projhits         = 1
;projmisstime     = 0
;projpriority     = 5
;projremovetime   = 100
;projsprpriority  = -1  
;;-----------------------------------
;priority         = 4
;sparkno          = 9999;s(Root,var(44))
;sparkxy          = ceil(ifelse((P2Dist X<0),30+Random/40,30-Random/40)),ceil(ifelse(Random<500,60+Random/70,60-Random/70))
;guard.sparkno    = 9999;s4216
;hitsound         = s1,21
;guardsound       = s0,30
;ground.type      = High
;ground.slidetime = 16
;ground.hittime   = 19
;ground.velocity  = ifelse((root,time>=50),-9,-4.5),ifelse((root,time>=50),-7,0)
;guard.velocity   = -3
;air.velocity     = -4.5,-5
;airguard.velocity= -3,-4
;yaccel           = 0.4
;fall             = ifelse((root,time>=50),1,0)
;air.fall         = 1
;fall.recover     = 0
;envshake.time    = 4
;envshake.ampl    = 6
;envshake.freq    = 45

[State 1315, effect]
type = helper
triggerAll = NumTarget;Enemy
trigger1 = (HitCount = 1) && (MoveHit)
name ="Spark FX"
ID =8810
stateno =8810
Postype = p2
pos=(target,const(size.ground.front)-75),-170
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 281,end]
type = changestate
trigger1 = movecontact
value = 1353
persistent = 0

[State 15210]
Type = VarAdd
Trigger1 = animelemtime(2) > 0
V = 13
Value = 12

[State 15210,Fade]
Type = trans
Trigger1 = animelemtime(2) > 0
Trans = AddAlpha
Alpha = 256-Var(13),0+var(13)
;scale = (0.02525 * Time), (0.02525 * Time)

[State 15210, end]
type = DestroySelf
Trigger1 = var(13) > 256;time = 60
;--------------------------
;king slash start
;--------------------------
[Statedef 1353]
type = A
physics = N
movetype = A
ctrl = 0
anim = 1351
sprpriority = 2
velset = 0,0

[State explod]
type = ModifyExplod
trigger1 = time < 10
anim = 1351
id = 1350

[State var]
type = varset
trigger1 = time = 0
fvar(28) = .05

[State var]
type = varset
trigger1 = Time = 0
fvar(29) = 1.25
ignorehitpause = 1

[State var]
type = varadd
trigger1 = fvar(29) > .8
fvar(29) = -fvar(28)
ignorehitpause = 1

;[State var]
;type = varadd
;trigger1 = var(9) != 1
;fvar(8) = .25
;ignorehitpause = 1

[State explod]
type = ModifyExplod
trigger1 = 1
ID = 1350
scale = fvar(29),fvar(29)
ignorehitpause = 1
pausemovetime = 10000

[State 15210]
Type = VarAdd
Trigger1 = var(41) < 256
V = 41
Value = 16

[State 15210,Fade]
Type = ModifyExplod
Trigger1 = Time >= 0
ID = 1350
Trans = AddAlpha
Alpha = 256-Var(41),256

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 5
timegap = 2
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 50, 50, 50
paladd = 0,0,0
palmul = .90, .90, .90

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -40
scale = .8,.8

[State 0, AngleDraw]
type = velset
trigger1 = animelemtime(4) = 0
x = 2
y = 1.11

[State var]
type = varset
trigger1 = time = 0
fvar(17) = 1
ignorehitpause = 1

[State var]
type = varset
trigger1 = Time = 0
fvar(18) = 0
ignorehitpause = 1

[State var]
type = varadd
triggerall = animelemtime(4) > 0
trigger1 = fvar(18) > -25
fvar(18) = -fvar(17);(time*2)
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = animelemtime(4) > 0
value = fvar(18)

[State 600, 2]
type = HitDef
trigger1 = !movecontact
attr = A,SP
animtype = Heavy                 
guardflag = MA                  
hitflag = MAFDE 
priority = 7, Hit   ;Hit,Miss,Dodge
damage = 20,12
pausetime = 0,10
hitsound   = s1,72
Guardsound   = s1,72
sparkno = -1                     ;Spark anim no (Def: set above)
guard.sparkno = -1
sparkxy = -65,-160; 0,0
ground.type = High
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -4,-10
air.velocity = -4,-10
guard.velocity = -10
envshake.time = 7
fall = 1
yaccel           = 0.4
fall.recover = 0
getpower = 30,5
givepower = 15,5
id = 1360

[State 0, Helper]
type = Helper
triggerall = animelemtime(4) > 15 && animelemtime(5) < 40
trigger1 = timemod = 15,0
stateno=1360
ID = 1360
pos = 0,0
postype = P1
ownpal = 1
ignorehitpause = 0
;persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1315, effect]
type = helper
triggerAll = NumTarget;Enemy
trigger1 = (HitCount = 1) && (MoveHit)
name ="Spark FX"
ID =8800
stateno =8800
Postype = p2
pos=(target,const(size.ground.front)-75),-170
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 15210]
Type = VarAdd
Trigger1 = animelemtime(4) > 10
V = 14
Value = 16

[State 15210,Fade]
Type = trans
Trigger1 = animelemtime(4) > 10
Trans = AddAlpha
Alpha = 256-Var(14),0+var(14)
;scale = (0.02525 * Time), (0.02525 * Time)

[State 15210, end]
type = DestroySelf
Trigger1 = time = 90
;-------------------------------------------------------------------------
;Slash FX
;---------------------------------------------------------------------------
[StateDef 1360]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1355
sprpriority = 2

[State 0]
type = HitDef
trigger1 = !movehit
attr = A,SP
animtype = Heavy                 
hitflag = MAFDE 
priority = 7, Hit   ;Hit,Miss,Dodge
damage = 12,12
pausetime = 0,10
hitsound   = s1,71
Guardsound   = s1,71
sparkno = -1                     ;Spark anim no (Def: set above)
guard.sparkno = -1
sparkxy = -65,-160; 0,0
ground.type = High
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -8,-8
air.velocity = -8,-8
guard.velocity = -10
envshake.time = 7
fall = 1
yaccel           = 0.4
fall.recover = 0
getpower = 30,5
givepower = 5,10

[State 1315, effect]
type = helper
triggerAll = NumTarget;Enemy
trigger1 = (HitCount = 1) && (MoveHit)
name ="Spark FX"
ID =8800
stateno =8800
Postype = p2
pos=(target,const(size.ground.front)-75),-170
scale = 1.8,1.8
Ownpal = 1
SprPriority = 4
persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 =1
x = p2bodydist x - 0
y = p2bodydist y - 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------------------------
;3040 - Slap FX prt
[Statedef 3040]
type = A
physics = N
movetype = I
anim = 3040
ctrl = 0
velset = 0, 0
sprpriority = 99

[State 811, VarAdd]
type = VarAdd
trigger1 = Time = [12,18]
fvar(3) = 0.08

[State 811, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 811, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+FVar(3),1.5+FVar(3)

[state 8093, Trans]
type = trans
trigger1 = animelemtime(3) > 0
trans = Add
alpha = 256 - cond(time <= 1, 1, 2) * time, 256

[State 2044, End]
type = destroyself
trigger1 = time = 30
;---------------------------------------------------------------------------
;Starburst Stream - Final Slash 2
[Statedef 3371]
physics  = N
anim = 3371
ctrl = 0
velset=0,0
sprpriority=10

[State 3370, ChangeAnim]
type = ChangeAnim
trigger1 = root,animelemtime(5)=1
value = 3381
persistent=0

[State 3370, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 3370, Scale]
type = AngleDraw
trigger1 = 1
scale =1,2
[State 3370, Rotate]
type = AngleSet
trigger1 = !Time
value = -99

[State 3370, BindToRoot]
type = BindToRoot
trigger1 =!time
pos = 225,-105
ignorehitpause =1
[State 3370, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 3330, Destroyself]
type = destroyself
trigger1 =root,stateno!=3310
trigger2 =root,Movetype=H
trigger3 =anim=3381&&!animtime
;---------------------------------------------------------------------------
;Absolute Starlight Image fade
[Statedef 3110]
physics  = N
ctrl = 0
velset=0,0
sprpriority=2

[State 3110, Anim]
type=changeanim
trigger1 = !time&&ishelper(3110)
value=3111
ignorehitpause=1

[State 3110, Anim]
type=changeanim
trigger1 = !time&&ishelper(3111)
value=3102
elem = 12
ignorehitpause=1

[State 3110, Trans]
type = Trans
trigger1 =1
trans = AddAlpha
alpha = 256-(36*time),0+(36*time)
ignorehitpause =1

[State 3110, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1

[State 3110, Destroyself]
type = destroyself
trigger1 =time>=8
;---------------------------------------------------------------------------
;Absolute Starlight Shooting Image fade
[Statedef 3120]
physics  = N
ctrl = 0
velset=0,0
sprpriority=2

[State 3110, Anim]
type=changeanim
trigger1 = !time&&ishelper(3120)
value=3112
ignorehitpause=1

[State 3110, Anim]
type=changeanim
trigger1 = !time&&ishelper(3121)
value=3113
ignorehitpause=1

[State 4100, Helper]
type = Helper
trigger1= !time
helpertype = normal ;player
name ="DashFX"
ID =3995
stateno =3995
pos = -80,-50
postype = p1
ownpal = 1
pausemovetime = 255
supermovetime = 255
size.xscale=const(size.xscale) * 1
size.yscale=const(size.yscale) * 1
persistent=0

[State 280, Projectile]
type = Helper
trigger1 = Animelemtime(2) = 0
helpertype = normal
name = "effect"
ID = 2044
stateno = 2044
pos = 0,-210
postype = p1
facing = ifelse(anim = 3112, -1, 1)
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 280, Projectile]
type = Helper
trigger1 = Animelemtime(2) = 0
helpertype = normal
name = "Projectile"
ID = 3650
stateno = 3650
pos = 180,-182
postype = p1
facing = ifelse(anim = 3112, -1, 1)
keyctrl = 0
ownpal = 1
size.xscale = 1.7
size.yscale = 1.7

[State 660, Velset]
type = Velset
trigger1 = anim = 3112
x = -8

[State 660, Velset]
type = Velset
trigger1 = anim = 3113
x = 8

[State 3120, VelMul]
type = VelMul
trigger1 = time > 2
x = .8

[State freeze, 2]
type = changeanim
trigger1 = time >= 45
value = (anim)
elem = 1

[State 3110, Trans]
type = Trans
trigger1 = time >= 45
trans = AddAlpha
alpha = 256-(36*time),0+(36*time)
ignorehitpause =1

[State 3110, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1

[State 3110, Destroyself]
type = destroyself
trigger1 =time>=75
;---------------------------------------------------------------------------
;Dash Effect
[Statedef 3995]
physics  = N
anim = 3995
ctrl = 0
velset=0,0
sprpriority=99

[State 100, 1]
type = playsnd
trigger1 = !time
value = 100,9;7905,4

[State 3995, Trans]
type = Trans
trigger1 =1
trans = AddAlpha
alpha = 256-(26*(time)),256
ignorehitpause =1

[State 3995, Angle]
type = AngleDraw
trigger1 = 1
value = -90
ignorehitpause =1

[State 4105, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 4105, Destroyself]
type = destroyself
trigger1 =time>=10
;--------------------------
;fire(Specialy for super)
;--------------------------
[Statedef 3550]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 6500
sprpriority = 2

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.5,0.5
ignorehitpause = 0

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
x = 60
[State 2008, ヒット判定用]
type = VarSet
trigger1 = !Time
v = 25
value = random

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.5,0.5
ignorehitpause = 0

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
x = 60

;[State 281, HitDef]
;type = Projectile
;trigger1 = (Time = 0)
;attr             = A, HP
;damage           = ceil(ifElse(fvar(11) * 20 < 18, 18, fvar(11) * 20)), 7
;guardflag         = MA
;hitflag           = MAFD
;animtype         = Heavy
;pausetime        = 0,10
;;-----------------------------------
;offset           = 0,0
;velocity         = 60,0
;accel            = 0,0
;projID           = (var(25))
;projanim         = 6650  ;透明の「攻撃判定専用アニメ」を設定してる
;projhitanim      = 9999
;projremanim      = 9999
;projscale        = 1,1
;projshadow       = 0,0,0
;projhits         = 1
;projmisstime     = 0
;projpriority     = 5
;projremovetime   = 100
;projsprpriority  = -1  
;;-----------------------------------
;priority         = 4
;sparkno          = 9999;s(Root,var(44))
;sparkxy          = ceil(ifelse((P2Dist X<0),30+Random/40,30-Random/40)),ceil(ifelse(Random<500,60+Random/70,60-Random/70))
;guard.sparkno    = 9999;s4216
;hitsound         = s1,21
;guardsound       = s0,30
;ground.type      = High
;ground.slidetime = 12
;ground.hittime   = 19
;ground.velocity  = 0,0;ifelse((root,time>=50),-9,-4.5),ifelse((root,time>=50),-7,0)
;guard.velocity   = -3
;air.velocity     = -4.5,-5
;airguard.velocity= -3,-4
;yaccel           = 0.4
;forcestand = 1
;kill = 0
;air.fall         = 1
;fall.recover     = 0
;envshake.time    = 4
;envshake.ampl    = 6
;envshake.freq    = 45
;p2stateno = ifelse((root,time>=81),3055,3053)
;id = 3550

;[State 0, TargetState]  
;type = TargetState
;triggerall = root,time>=285
;trigger1 = Numtarget(3550)
;trigger1 = (Root,ProjhitTime(var(25)) = 1)
;value = 3055
;ID = 3053
;ignorehitpause = 1
;persistent = 0
;
;[State 0, TargetState]  
;type = TargetState
;trigger1 = Numtarget(3550)
;trigger1 = (Root,ProjhitTime(var(25)) = 1)
;value = 3053
;ID = 3053
;ignorehitpause = 1
;persistent = 0

;[State 1315, effect]
;type = helper
;triggerAll = NumEnemy
;trigger1 = (Root,ProjhitTime(var(25)) = 1)
;name ="Spark FX"
;ID =8820
;stateno =8820
;Postype = p2
;pos=(target,const(size.ground.front)),-180
;scale = 1.8,1.8
;Ownpal = 1
;SprPriority = 4
;persistent = 0
;SuperMoveTime = 9999
;PauseMoveTime = 9999
;ignorehitpause = 1
;
;[State 8090, G-FX]
;type = Helper
;triggerAll = NumEnemy
;trigger1 = (Root,ProjguardedTime(var(25)) = 1)
;pos = 10,enemy,const(size.mid.pos.y)
;postype = p2
;stateno = 8090
;helpertype = normal
;sprpriority = 99
;ownpal = 1
;persistent = 0
;ignorehitpause = 1
;supermovetime = 9999999
;pausemovetime = 9999999

[State 281,end]
type = changestate ;Destroyself
trigger1 = enemy,stateno = 3053 && time = 1 || enemy,stateno = 3152 && time = 1
;trigger1 = (HitCount = 1) && (MoveHit) || movecontact
;trigger2 = (Root,ProjContactTime(var(25)) = 1)
value = 6360
;--------------------------
;missil(Specialy for super)
;--------------------------
[Statedef 3551]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 21501
sprpriority = 2

[State 2150, EX]
type = PalFX
trigger1 = gametime % 2 = 0 
time = 1
add = 240,50,20
mul = 300,224,100
sinadd = 110,55,85,5
invertall = 0
color = 256

[State 2,0]
Type = NotHitBy
trigger1 = 1
value = SCA

;[State 0, VelAdd]
;type = VelAdd
;trigger1 = 1
;y = ifelse(p2statetype = A,-.5,0)

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
x = 25

[State 2000, trail]
type = Helper
trigger1 = timemod = 5,0
stateno = 7710
ID = 7710
pos = -50+time%8,0
postype = p1
facing = 1
scale = 0.2,0.2
sprpriority = 4
ownpal = 1
supermovetime = 999
ignorehitpause = 1

;[State 281, HitDef]
;type = HitDef
;trigger1 = animelemtime(1) >= 0
;attr = A,SP
;animtype = Heavy                 
;guardflag = MA                  
;hitflag = MAFDE 
;priority = 7, Hit   ;Hit,Miss,Dodge
;damage = 100,12
;pausetime = 0,25
;hitsound   = s2,18
;Guardsound   = s2,18
;sparkno = -1                     ;Spark anim no (Def: set above)
;guard.sparkno = -1
;sparkxy = -65,-160; 0,0
;ground.type = High
;ground.slidetime = 14
;ground.hittime = 14
;ground.velocity = -15,-6
;air.velocity = -15,-6
;guard.velocity = -10
;envshake.time = 7
;fall = 1
;yaccel           = 0.4
;fall.recover = 0
;getpower = 30,5
;givepower = 15,5
;palfx.time = 60
;palfx.color = 0
;palfx.add = 40,-70,-200
;palfx.mul = 256,256,256
;palfx.sinadd = 40,30,0,10
;palfx.invertall = 1
;p2stateno = 3054
;id = 3551

;[State 0, TargetState]  
;type = TargetState
;trigger1 = Numtarget(3551)
;trigger1 = movehit = 1
;value = 3054
;ID = 3054
;ignorehitpause = 1
;persistent = 0

[State 281,end]
type = changestate
trigger1 = time = 15
;trigger1 = (HitCount = 1) && (MoveHit) || movecontact
value = 21555
;--------------------------
;fire diag up(Specialy for super)
;--------------------------
[Statedef 3650]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 6500
sprpriority = 2

[State 2,0]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 2008, ヒット判定用]
type = VarSet
trigger1 = !Time
v = 25
value = random

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 35
scale = 0.5,0.5
ignorehitpause = 0

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
y = -23
x = 30.5

;[State 281, HitDef]
;type = Projectile
;trigger1 = (Time = 0)
;attr             = A, HP
;damage           = ceil(ifElse(fvar(11) * 20 < 18, 18, fvar(11) * 20)), 7
;guardflag         = MA
;hitflag           = MAFD
;animtype         = Heavy
;pausetime        = 0,10
;;-----------------------------------
;offset           = 0,0
;velocity         = 60,0
;accel            = 0,0
;projID           = (var(25))
;projanim         = 6650  ;透明の「攻撃判定専用アニメ」を設定してる
;projhitanim      = 9999
;projremanim      = 9999
;projscale        = 1,1
;projshadow       = 0,0,0
;projhits         = 1
;projmisstime     = 0
;projpriority     = 5
;projremovetime   = 100
;projsprpriority  = -1  
;;-----------------------------------
;priority         = 4
;sparkno          = 9999;s(Root,var(44))
;sparkxy          = ceil(ifelse((P2Dist X<0),30+Random/40,30-Random/40)),ceil(ifelse(Random<500,60+Random/70,60-Random/70))
;guard.sparkno    = 9999;s4216
;hitsound         = s1,21
;guardsound       = s0,30
;ground.type      = High
;ground.slidetime = 12
;ground.hittime   = 19
;ground.velocity  = 0,0;ifelse((root,time>=50),-9,-4.5),ifelse((root,time>=50),-7,0)
;guard.velocity   = -3
;air.velocity     = -4.5,-5
;airguard.velocity= -3,-4
;yaccel           = 0.4
;forcestand = 1
;kill = 0
;air.fall         = 1
;fall.recover     = 0
;envshake.time    = 4
;envshake.ampl    = 6
;envshake.freq    = 45
;p2stateno = ifelse((root,time>=81),3055,3053)
;id = 3550

;[State 0, TargetState]  
;type = TargetState
;triggerall = root,time>=285
;trigger1 = Numtarget(3550)
;trigger1 = (Root,ProjhitTime(var(25)) = 1)
;value = 3055
;ID = 3053
;ignorehitpause = 1
;persistent = 0
;
;[State 0, TargetState]  
;type = TargetState
;trigger1 = Numtarget(3550)
;trigger1 = (Root,ProjhitTime(var(25)) = 1)
;value = 3053
;ID = 3053
;ignorehitpause = 1
;persistent = 0

;[State 1315, effect]
;type = helper
;triggerAll = NumEnemy
;trigger1 = (Root,ProjhitTime(var(25)) = 1)
;name ="Spark FX"
;ID =8820
;stateno =8820
;Postype = p2
;pos=(target,const(size.ground.front)),-180
;scale = 1.8,1.8
;Ownpal = 1
;SprPriority = 4
;persistent = 0
;SuperMoveTime = 9999
;PauseMoveTime = 9999
;ignorehitpause = 1
;
;[State 8090, G-FX]
;type = Helper
;triggerAll = NumEnemy
;trigger1 = (Root,ProjguardedTime(var(25)) = 1)
;pos = 10,enemy,const(size.mid.pos.y)
;postype = p2
;stateno = 8090
;helpertype = normal
;sprpriority = 99
;ownpal = 1
;persistent = 0
;ignorehitpause = 1
;supermovetime = 9999999
;pausemovetime = 9999999

[State 281,end]
type = changestate ;Destroyself
trigger1 = enemy,stateno = 3053 && time = 1
;trigger1 = (HitCount = 1) && (MoveHit) || movecontact
;trigger2 = (Root,ProjContactTime(var(25)) = 1)
value = 6360
;--------------------------
;missil(Specialy for super)
;--------------------------
[Statedef 3651]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 21502
sprpriority = 2

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 5
timegap = 2
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 50, 50, 50
paladd = 0,0,0
palmul = .90, .90, .90

[State 2000, trail]
type = explod
trigger1 = timemod = 5,0
anim = 7709
ID = 7709
pos = -50+time%8,-1-time%8
postype = p1
facing = 1
scale = 0.2,0.2
sprpriority = 12
ownpal = 1
supermovetime = 999
ignorehitpause = 1

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 8000, flash]
type = PalFX
trigger1 = gametime % 2 = 0 
add = 0,50,256
sinadd = 110,110,110,8
time = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 90
ignorehitpause = 0

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
y = -20

;[State 281, HitDef]
;type = HitDef
;trigger1 = animelemtime(1) >= 0
;attr = A,SP
;animtype = Heavy                 
;guardflag = MA                  
;hitflag = MAFDE 
;priority = 7, Hit   ;Hit,Miss,Dodge
;damage = 100,12
;pausetime = 0,25
;hitsound   = s2,18
;Guardsound   = s2,18
;sparkno = -1                     ;Spark anim no (Def: set above)
;guard.sparkno = -1
;sparkxy = -65,-160; 0,0
;ground.type = High
;ground.slidetime = 14
;ground.hittime = 14
;ground.velocity = -15,-6
;air.velocity = -15,-6
;guard.velocity = -10
;envshake.time = 7
;fall = 1
;yaccel           = 0.4
;fall.recover = 0
;getpower = 30,5
;givepower = 15,5
;palfx.time = 60
;palfx.color = 0
;palfx.add = 40,-70,-200
;palfx.mul = 256,256,256
;palfx.sinadd = 40,30,0,10
;palfx.invertall = 1
;p2stateno = 3054
;id = 3551

;[State 0, TargetState]  
;type = TargetState
;trigger1 = Numtarget(3551)
;trigger1 = movehit = 1
;value = 3054
;ID = 3054
;ignorehitpause = 1
;persistent = 0

[State 281,end]
type = changestate
trigger1 = time = 15
;trigger1 = (HitCount = 1) && (MoveHit) || movecontact
value = 21557
;--------------------------
;missil(Specialy for super)
;--------------------------
[Statedef 3655]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 21502
sprpriority = 2

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 5
timegap = 2
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 50, 50, 50
paladd = 0,0,0
palmul = .90, .90, .90

[State 2000, trail]
type = explod
trigger1 = timemod = 5,0
anim = 7714
ID = 7709
pos = -50+time%8,-1-time%8
postype = p1
facing = 1
scale = 0.2,0.2
sprpriority = 12
ownpal = 1
supermovetime = 999
ignorehitpause = 1

[State 281, –³“G]
Type = NotHitBy
trigger1 = 1
value = SCA

[State 8000, flash]
type = PalFX
trigger1 = gametime % 2 = 0 
add = 0,50,256
sinadd = 110,110,110,8
time = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 40
ignorehitpause = 0

[State 281, Veladd]
type = Veladd
trigger1 = AnimElem >= 1
y = -15
x = 15

;[State 281, HitDef]
;type = HitDef
;trigger1 = animelemtime(1) >= 0
;attr = A,SP
;animtype = Heavy                 
;guardflag = MA                  
;hitflag = MAFDE 
;priority = 7, Hit   ;Hit,Miss,Dodge
;damage = 100,12
;pausetime = 0,25
;hitsound   = s2,18
;Guardsound   = s2,18
;sparkno = -1                     ;Spark anim no (Def: set above)
;guard.sparkno = -1
;sparkxy = -65,-160; 0,0
;ground.type = High
;ground.slidetime = 14
;ground.hittime = 14
;ground.velocity = -15,-6
;air.velocity = -15,-6
;guard.velocity = -10
;envshake.time = 7
;fall = 1
;yaccel           = 0.4
;fall.recover = 0
;getpower = 30,5
;givepower = 15,5
;palfx.time = 60
;palfx.color = 0
;palfx.add = 40,-70,-200
;palfx.mul = 256,256,256
;palfx.sinadd = 40,30,0,10
;palfx.invertall = 1
;p2stateno = 3054
;id = 3551

;[State 0, TargetState]  
;type = TargetState
;trigger1 = Numtarget(3551)
;trigger1 = movehit = 1
;value = 3054
;ID = 3054
;ignorehitpause = 1
;persistent = 0

[State 281,end]
type = changestate
trigger1 = time = 15
;trigger1 = (HitCount = 1) && (MoveHit) || movecontact
value = 21555
;-------------------------------------------------------------------------------
; king(Specialy for super)
[Statedef 3652]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,-22
ctrl = 0
anim = 1350
sprpriority = 11

[State 15210,Fade]
Type = trans
Trigger1 = 1
Trans = Add

[State 0, AssertSpecial]
type = hitadd
trigger1 = time = 10
value = 1

[State 0, AssertSpecial]
type = PlaySnd
trigger1 = !time
value = s7905,4

[State 0, AssertSpecial]
type = PlaySnd
trigger1 = time = 10
value = s1,72

[State 0, AssertSpecial]
type = PlaySnd
trigger1 = var(13) = 128
value = s7905,0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 90
scale = .8,.8
ignorehitpause = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 15210]
Type = VarAdd
Trigger1 = 1
V = 13
Value = 12

[State 15210,Fade]
Type = trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 256-Var(13),0+var(13)
;scale = (0.02525 * Time), (0.02525 * Time)

[State 15210, end]
type = DestroySelf
Trigger1 = var(13) > 256
;---------------------------------------------------------------------------------------------
;EX move FX
[StateDef 7900]
type = A
movetype= I
physics = N
poweradd= 0
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = 4

[State 7900, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 7900, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = Root,Anim
elem = Root,AnimElemNo(0)

[state 7900, Trans]
type = trans
trigger1 = 1||(fvar(0):=sin(time*pi/120))+(fvar(1):=sin(time*pi/60))
trans = AddAlpha
alpha = floor(256*(1-fvar(0))+.5),floor(256*fvar(0)+.5)

[State 7900, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+.25*fvar(1),1+.25*fvar(1)

[State 7900, PosSet]
type = Posset
trigger1 = 1
x = Root,Pos x
y = Root,Pos y+16*fvar(1)

[State 7900, PalFX]
type = PalFX
trigger1 = !time
time = -1
mul = 0,128,256
trigger1 = !time

[State 7900, Explod]
type = Explod
trigger1 = time = 0
Anim = 6026
ID = 6026
sprpriority = -20
postype = p1
pos = -10,0
bindtime = 1
ignorehitpause = 1
persistent = 0
under = 0
ownpal = 1
scale = 1.5,1.5
pausemovetime=-2**31-1
supermovetime=-2**31-1

[State 7900, Explod]
type = Explod
trigger1 = time = 0
anim = 6027
ID = 6027
sprpriority = 20
postype = p1
pos = -10,0
bindtime = 1
ignorehitpause = 1
persistent = 0
under = 0
ownpal = 1
scale = 1.5,1.5
pausemovetime=-2**31-1
supermovetime=-2**31-1

[State 7900, DestroySelf]
type = DestroySelf
trigger1 = Time >= 60
trigger2 = Root,MoveType = H
;---------------------------------------------------------------------------------------------
;EX move FX(Alt)
[StateDef 7901]
type = A
movetype= I
physics = N
poweradd= 0
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = 4

[State 7900, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 7900, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = Root,Anim
elem = Root,AnimElemNo(0)

[state 7900, Trans]
type = trans
trigger1 = 1||(fvar(0):=sin(time*pi/120))+(fvar(1):=sin(time*pi/60))
trans = AddAlpha
alpha = floor(256*(1-fvar(0))+.5),floor(256*fvar(0)+.5)

[State 7900, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+.25*fvar(1),1+.25*fvar(1)

[State 7900, PosSet]
type = Posset
trigger1 = 1
x = Root,Pos x
y = Root,Pos y+16*fvar(1)

[State 7900, PalFX]
type = PalFX
trigger1 = !time
time = -1
mul = 250,200,120
trigger1 = !time

[State 7900, Explod]
type = Explod
trigger1 = time = 0
Anim = 6025
ID = 6025
sprpriority = -20
postype = p1
pos = -10,0
bindtime = 1
ignorehitpause = 1
persistent = 0
under = 0
ownpal = 1
scale = 1.6,1.6
pausemovetime=-2**31-1
supermovetime=-2**31-1

[State 7900, Explod]
type = Explod
trigger1 = time = 0
anim = 6024
ID = 6024
sprpriority = 20
postype = p1
pos = -10,0
bindtime = 1
ignorehitpause = 1
persistent = 0
under = 0
ownpal = 1
scale = 1.5,1.6
pausemovetime=-2**31-1
supermovetime=-2**31-1

[State 7900, DestroySelf]
type = DestroySelf
trigger1 = Time >= 60
trigger2 = Root,MoveType = H
;---------------------------------------------------------------------------------------------
;super move FX R(Alt)
[StateDef 7902]
type = A
movetype= I
physics = N
poweradd= 0
velset = 1,0
anim = 9999
ctrl = 0
sprpriority = 4

[State 1251,0]
type = helper
trigger1 = !time
stateno=7903
ownpal=1
pausemovetime=9999
supermovetime=9999

[State 7900, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 7900, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = Root,Anim
elem = Root,AnimElemNo(0)

[state 7900, Trans]
type = trans
trigger1 = 1||(fvar(0):=sin(time*pi/120))+(fvar(1):=sin(time*pi/60))
trans = AddAlpha
alpha = floor(256*(1-fvar(0))+.5),floor(256*fvar(0)+.5)

[State 7900, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1,1;+.25*fvar(1),1+.25*fvar(1)

[State 7900, PosSet]
type = Posset
trigger1 = !time
x = Root,Pos x
y = Root,Pos y+16*fvar(1)

[State 7900, DestroySelf]
type = DestroySelf
trigger1 = Time >= 60
trigger2 = Root,MoveType = H
;---------------------------------------------------------------------------------------------
;super move FX L(Alt)
[StateDef 7903]
type = A
movetype= I
physics = N
poweradd= 0
velset = -1,0
anim = 9999
ctrl = 0
sprpriority = 4

[State 7900, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 7900, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = Root,Anim
elem = Root,AnimElemNo(0)

[state 7900, Trans]
type = trans
trigger1 = 1||(fvar(0):=sin(time*pi/120))+(fvar(1):=sin(time*pi/60))
trans = AddAlpha
alpha = floor(256*(1-fvar(0))+.5),floor(256*fvar(0)+.5)

[State 7900, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1,1;1+.25*fvar(1),1+.25*fvar(1)

[State 7900, PosSet]
type = Posset
trigger1 = !time
x = Root,Pos x
y = Root,Pos y+16*fvar(1)

[State 7900, DestroySelf]
type = DestroySelf
trigger1 = Time >= 60
trigger2 = Root,MoveType = H
;---------------------------------------------------------------------------------------------
;Drive off FX
[StateDef 7904]
type = A
movetype= I
physics = N
poweradd= 0
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = 4

[State 100, 1]
type = playsnd
trigger1 = !time
value = 7905,3

[State 100, 1]
type = playsnd
trigger1 = !time
value = 7904,0+random%4

[State 7900, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 9160, BG]
type = Explod
triggerall = root,anim = 0 || root,anim = 11 || root,anim = 3103
trigger1 = time = 0
anim = root,anim
id = 7903
pos = 0,0
vel = 2,0
postype = p1
sprpriority = -4
;bindtime = -1
ownpal = 1
ignorehitpause = 1
removeongethit = 1
Persistent = 0
scale = 1,1
RemoveTime = 56
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 9160, BG]
type = Explod
triggerall = root,anim = 0 || root,anim = 11 || root,anim = 3103
trigger1 = time = 0
anim = root,anim
id = 7903
pos = 0,0
vel = -2,0
postype = p1
sprpriority = -4
;bindtime = -1
ownpal = 1
ignorehitpause = 1
removeongethit = 1
Persistent = 0
scale = 1,1
RemoveTime = 56
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 7900, ChangeAnim]
type = ChangeAnim
triggerall = NumExplod(7903) = 0
Triggerall = anim = 9999
trigger1 = !time
value = (root,anim)
elem = root,animelemno(0)

[State 7900, ChangeAnim]
type = ChangeAnim
Triggerall = anim != 9999
trigger1 = 1
value = (anim)
elem = animelemno(0)

[state 7900, Trans]
type = modifyexplod
trigger1 = 1||(fvar(0):=sin(time*pi/120))+(fvar(1):=sin(time*pi/60))
id = 7903
trans = AddAlpha
alpha = floor(256*(1-fvar(0))+.5),floor(256*fvar(0)+.5)

[state 7900, Trans]
type = trans
trigger1 = 1||(fvar(0):=sin(time*pi/120))+(fvar(1):=sin(time*pi/60))
trans = AddAlpha
alpha = floor(256*(1-fvar(0))+.5),floor(256*fvar(0)+.5)

[State 7900, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+.25*fvar(1),1+.25*fvar(1)

[State 7900, PosSet]
type = Posset
trigger1 = 1
x = Root,Pos x
y = Root,Pos y+16*fvar(1)

[State 7900, PalFX]
type = PalFX
trigger1 = !time
time = -1
add = 0,0,0
invertall = 0
color = 256

[State 7900, DestroySelf]
type = DestroySelf
trigger1 = Time >= 60
trigger2 = Root,MoveType = H
;-------------------------------------------------------------------------------
; smoke n°0 - Helper FX
[Statedef 6350]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7704
sprpriority = 3

[State 0, AssertSpecial]
type = PlaySnd
trigger1 = !time
value = s1,31

[State 0, AssertSpecial]
type = EnvShake
trigger1 = !time
time    = 8
ampl    = -4
freq    = 60
phase = 90

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = .5,.5;.2,.2;
ignorehitpause = 0

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
; smoke n°1 - Helper FX
[Statedef 6351]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6351
sprpriority = 3

[State 0, AssertSpecial]
type = PlaySnd
trigger1 = !time
value = s1,31

[State 0, AssertSpecial]
type = EnvShake
trigger1 = !time
time    = 8
ampl    = -4
freq    = 60
phase = 90

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = .7,.7;.2,.2;
ignorehitpause = 0

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; smoke n°2 - Helper FX
[Statedef 6352]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6352
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .5,.5;.2,.2;
ignorehitpause = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; smoke n°3 - Helper FX
[Statedef 6353]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7705
sprpriority = 3

[State 0, AssertSpecial]
type = PlaySnd
trigger1 = !time
value = s1,31

[State 0, AssertSpecial]
type = EnvShake
trigger1 = !time
time    = 8
ampl    = -4
freq    = 60
phase = 90

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 1.5,1.5;.2,.2;
ignorehitpause = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; fire hit n°1 - Helper FX
[Statedef 6360]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7501
sprpriority = 3

[State 0, AssertSpecial]
type = PlaySnd
trigger1 = !time
value = s1,31

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
;value = 0
scale = .40,.40;.2,.2;
ignorehitpause = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; fire hit n°2 - Helper FX
[Statedef 6361]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6410
sprpriority = 3

[State 0, AssertSpecial]
type = PlaySnd
trigger1 = !time
value = s1,31

;[State 1025,Anim]
;type = ChangeAnim
;trigger1 = root,Time = 50
;value = 7550

[State 0, AngleDraw]
type = AngleDraw
triggerall = anim = 6410
trigger1 = 1
;value = 0
scale = 1,1;.2,.2;
ignorehitpause = 0

[State 0, AngleDraw]
type = AngleDraw
triggerall = anim = 7550
trigger1 = 1
;value = 0
scale = .7,.7;.2,.2;
ignorehitpause = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; fire hit n°1 - Helper FX
[Statedef 6362]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7501
sprpriority = 3

[State 0, AssertSpecial]
type = hitadd
trigger1 = !time
value = 1

[State 0, AssertSpecial]
type = PlaySnd
trigger1 = !time
value = s1,21

[State 0, AssertSpecial]
type = PlaySnd
trigger1 = !time
value = s1,31

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
;value = 0
scale = .40,.40;.2,.2;
ignorehitpause = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; fire hit n°3 - Helper FX
[Statedef 6363]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6610
sprpriority = 3

[State 0, AssertSpecial]
type = PlaySnd
trigger1 = !time
value = s1,31

;[State 1025,Anim]
;type = ChangeAnim
;trigger1 = root,Time = 50
;value = 7550

[State 0, AngleDraw]
type = AngleDraw
triggerall = anim = 6610
trigger1 = 1
;value = 0
scale = 1,1;.2,.2;
ignorehitpause = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; explosion n°0 - Helper FX
[Statedef 21554]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2154
sprpriority = 3

[State 1291, 1]
type = Explod
trigger1 = !Time
anim = 21554
id = 21554
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1 
scale = 0.8,0.8
removeongethit = 1
ignorehitpause = 0

[State 0, AssertSpecial]
type = PlaySnd
trigger1 = !time
value = s1,31

[State 0, AssertSpecial]
type = EnvShake
trigger1 = !time
time    = 8
ampl    = -4
freq    = 60
phase = 90

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = .8,.8;.2,.2;
ignorehitpause = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; explosion n°1 - Helper FX
[Statedef 21555]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2154
sprpriority = 3

[State 1291, 1]
type = Explod
trigger1 = !Time
anim = 21554
id = 21554
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1 
scale = 0.9,0.9
removeongethit = 1
ignorehitpause = 0

[State 0, AssertSpecial]
type = PlaySnd
trigger1 = !time
value = s1,58

[State 0, AssertSpecial]
type = EnvShake
trigger1 = !time
time    = 8
ampl    = -4
freq    = 60
phase = 90

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = .9,.9;.2,.2;
ignorehitpause = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; explosion n°1 - Helper FX
[Statedef 21556]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2154
sprpriority = 3

[State 0, AssertSpecial]
type = hitadd
trigger1 = !time
value = 1

[State 1291, 1]
type = Explod
trigger1 = !Time
anim = 21554
id = 21554
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1 
scale = 0.9,0.9
removeongethit = 1
ignorehitpause = 0

[State 0, AssertSpecial]
type = PlaySnd
trigger1 = !time
value = s2,18

[State 0, AssertSpecial]
type = PlaySnd
trigger1 = !time
value = s1,58

[State 0, AssertSpecial]
type = EnvShake
trigger1 = !time
time    = 8
ampl    = -4
freq    = 60
phase = 90

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = .9,.9;.2,.2;
ignorehitpause = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; explosion n°1 - Helper FX
[Statedef 21557]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2154
sprpriority = 3

[State 1291, 1]
type = Explod
trigger1 = !Time
anim = 21554
id = 21554
postype = P1
pos = 0,0
ownpal = 1
sprpriority = 3
bindtime = -1 
scale = 0.9,0.9
removeongethit = 1
ignorehitpause = 0

[State 0, AssertSpecial]
type = PlaySnd
trigger1 = !time
value = s1,59

[State 0, AssertSpecial]
type = PlaySnd
trigger1 = !time ;= 3
value = s1,32

[State 0, AssertSpecial]
type = EnvShake
trigger1 = !time
time    = 8
ampl    = -4
freq    = 60
phase = 90

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = .9,.9;.2,.2;
ignorehitpause = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; grab - Helper FX
[Statedef 21890]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 890
sprpriority = 99

[State 1166, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1,1

[State 0, PosAdd]
type = Posset
trigger1 =1
trigger1 = Enemy,StateType != L
x = enemynear,pos x
y = enemynear,pos y -180

[State 0, PosAdd]
type = Posset
trigger1 =1
trigger1 = Enemy,StateType = L
x = enemynear,pos x
y = enemynear,pos y - 50

[State 0, AssertSpecial]
type = PlaySnd
trigger1 = !time
value = s890,0

[State 281,end]
type = changestate
trigger1 = time = 23
value = 21895
;-------------------------------------------------------------------------------
; grab - Helper FX
[Statedef 21891]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 890
sprpriority = 99

[State 1166, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1,1

[State 0, PosAdd]
type = Posset
trigger1 =1
trigger1 = Enemy,StateType != L
x = enemynear,pos x
y = enemynear,pos y -180

[State 0, PosAdd]
type = Posset
trigger1 =1
trigger1 = Enemy,StateType = L
x = enemynear,pos x
y = enemynear,pos y - 50

[State 0, AssertSpecial]
type = PlaySnd
trigger1 = !time
value = s890,0

[State 281,end]
type = changestate
trigger1 = time = 12
value = 21895
;-------------------------------------------------------------------------------
; grab - Helper FX
[Statedef 21895]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 891
sprpriority = 99

[State 0, PosAdd]
type = Posset
trigger1 =1
x = enemynear,pos x
y = enemynear,pos y -180

[State 0, AssertSpecial]
type = PlaySnd
trigger1 = !time
value = s890,0

[state 6901, Trans]
type = trans
trigger1 = 1
trans = Add
alpha = 256 - cond(time <= 6, 6, 8) * time, 256

[state 6901, Angle]
type = angledraw
trigger1 = 1
scale = 0.9 +(0.0425 * time), 0.9 +(0.0425 * time)

[State 15210, end]
type = DestroySelf
Trigger1 = time = 60
;---------------------------------------------------------------------------------------------
;Roman Cancel FX
[StateDef 7905]
type = A
movetype= I
physics = N
poweradd= 0
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = 4

[State 7905, Explod]
type = Explod
trigger1 = time = 0
Anim = 6022
ID = 6022
sprpriority = -20
postype = p1
pos = -10,0
bindtime = 1
ignorehitpause = 1
persistent = 0
under = 0
ownpal = 1
scale = 1.5,1.5
pausemovetime=-2**31-1
supermovetime=-2**31-1

[State 7905, Explod]
type = Explod
trigger1 = time = 0
anim = 6023
ID = 6023
sprpriority = 20
postype = p1
pos = -10,0
bindtime = 1
ignorehitpause = 1
persistent = 0
under = 0
ownpal = 1
scale = 1.5,1.5
pausemovetime=-2**31-1
supermovetime=-2**31-1

[State 7900, ChangeAnim]
type = ChangeAnim
Triggerall = anim = 9999
trigger1 = !time
value = (root,anim)
elem = root,animelemno(0)

[State 7900, ChangeAnim]
type = ChangeAnim
Triggerall = anim != 9999
trigger1 = 1
value = (anim)
elem = animelemno(0)

[State 7900, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[state 7900, Trans]
type = trans
trigger1 = 1||(fvar(0):=sin(time*pi/120))+(fvar(1):=sin(time*pi/60))
trans = AddAlpha
alpha = floor(256*(1-fvar(0))+.5),floor(256*fvar(0)+.5)

;[State 7900, AngleDraw]
;type = AngleDraw
;trigger1 = 1
;scale = 1+.25*fvar(1),1+.25*fvar(1)

;[State 7900, PosSet]
;type = Posset
;trigger1 = 1
;x = Root,Pos x
;y = Root,Pos y+16*fvar(1)

[State 7900, DestroySelf]
type = DestroySelf
trigger1 = Time >= 60
trigger2 = Root,MoveType = H
;---------------------------------------------------------------------------
;Slash Spark
[StateDef 8800]
physics  = N
anim = 8800
ctrl = 0
velset=0,0
sprpriority=50

[State 3470, Trans]
type = Trans
trigger1 =1
trans = add
ignorehitpause =1

[State 8800, 0]
type = varset
trigger1 = !time
var(6) = random%2

[State 8801, Helper]
type = Helper
trigger1 =!time 
helpertype = normal
name ="PSS" 
ID =8804
stateno =8804
persistent=0
size.xscale =6
size.yscale =6 
ownpal=0
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 8801, Helper]
type = Helper
trigger1 =!time 
helpertype = normal
name ="CSS" 
ID =8803 
stateno =8803
persistent=0
size.xscale = 1.5
size.yscale = 1.5
ownpal=0
pauseMoveTime = 99999
superMoveTime = 99999
ignoreHitPause = 1

[State 8801, Helper]
type = Helper
trigger1 =!time 
helpertype = normal
name ="CSS2" 
ID =8823 
stateno =8823
persistent=0
size.xscale = 1.5
size.yscale = 1.5
ownpal=0
pauseMoveTime = 99999
superMoveTime = 99999
ignoreHitPause = 1

[State 8801, Helper]
type = Helper
trigger1 =!time 
helpertype = normal
name ="CSSalt" 
ID =8824 
stateno =8824
persistent=0
size.xscale =1.375 
size.yscale =1.375 
ownpal=1
facing = ifelse(var(6)=1,-1,1)
pauseMoveTime = 99999
superMoveTime = 99999
ignoreHitPause = 1

[state 6100, Impact]
type = helper
trigger1 = !time
helpertype = normal
name = "base"
ID =8815
stateno =8815
persistent=0
size.xscale =0.8
size.yscale =0.8 
ownpal=0
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[state 6100, Impact]
type = helper
trigger1 = !time
helpertype = normal
name = "Impact"
ID =8809 
stateno =8809
persistent=0
size.xscale =0.4 
size.yscale =1 
ownpal=0
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 3470, Scale]
type = AngleDraw
trigger1 = ishelper(8800)
scale = 1.0*(1.6+(time*0.385)),1.0*(1.8-(time*0.15))

[State 3470, Scale]
type = AngleDraw
trigger1 = ishelper(8800)
scale = 1.0*(1.6+(time*0.385)),1.0*(1.8-(time*0.075))

[State 3470, Rotate]
type = AngleSet
trigger1 = !Time
value = random%360

;[State 3470, BindToRoot]
;type = BindToRoot
;trigger1 =!time
;pos = ceil(150 * root,const(size.xScale)), ceil(-153 * root,const(size.yScale))
;ignorehitpause =1


[State 3470, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1

[State 3470, Destroyself]
type = destroyself
;trigger1 =root,stateno!=3201
trigger1 =root,Movetype=H
trigger2 =time>=16;&&(ishelper(3850)|ishelper(3851))
;trigger4 =time>=22&&(ishelper(3852)|ishelper(3853))

;---------------------------------------------------------------------------
;Spark
[StateDef 8810]
physics  = N
anim = 9999
ctrl = 0
velset=0,0
sprpriority=50

[State 3470, Trans]
type = Trans
trigger1 =1
trans = add
ignorehitpause =1

[State 8801, Helper]
type = Helper
trigger1 =!time 
helpertype = normal
name ="CSS" 
ID =8805 
stateno =8805
persistent=0
size.xscale =4 
size.yscale =4 
ownpal=0
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 8801, Helper]
type = Helper
trigger1 =!time 
helpertype = normal
name ="PSS" 
ID =8804
stateno =8804
persistent=0
size.xscale =6
size.yscale =6 
ownpal=0
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 8801, Helper]
type = Helper
trigger1 =!time 
helpertype = normal
name ="CSS" 
ID =8803 
stateno =8803
persistent=0
size.xscale = 1.3
size.yscale = 1.3
ownpal=0
pauseMoveTime = 99999
superMoveTime = 99999
ignoreHitPause = 1

[State 3470, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1

[State 3470, Scale]
type = AngleDraw
trigger1 = ishelper(8800)
scale = 1.0*(1.6+(time*0.385)),1.0*(1.6+(time*0.385))

[State 3470, Destroyself]
type = destroyself
;trigger1 =root,stateno!=3201
trigger1 =root,Movetype=H
trigger2 =animtime = 0 ;&&(ishelper(3850)|ishelper(3851))
;trigger4 =time>=22&&(ishelper(3852)|ishelper(3853))

;---------------------------------------------------------------------------
;Slash Spark (Med)
[StateDef 8820]
physics  = N
anim = 8800
ctrl = 0
velset=0,0
sprpriority=50

[State 3470, Trans]
type = Trans
trigger1 =1
trans = add
ignorehitpause =1

[State 8801, Helper]
type = Helper
trigger1 =!time 
helpertype = normal
name ="CSS" 
ID =8824 
stateno =8824
persistent=0
size.xscale =1.5 
size.yscale =1.5 
ownpal=0
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 8801, Helper]
type = Helper
trigger1 =!time 
helpertype = normal
name ="CSS" 
ID =8825 
stateno =8825
persistent=0
size.xscale =1.5
size.yscale =1.5 
ownpal=0
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 8801, Helper]
type = Helper
trigger1 =!time 
helpertype = normal
name ="PSS" 
ID =8804
stateno =8804
persistent=0
size.xscale =6
size.yscale =6 
ownpal=0
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 8801, Helper]
type = Helper
trigger1 =!time 
helpertype = normal
name ="CSS" 
ID =8805 
stateno =8805
persistent=0
size.xscale =4.5 
size.yscale =4.5 
ownpal=0
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 3470, Scale]
type = AngleDraw
trigger1 = ishelper(8800)
scale = 1.0*(1.6+(time*0.385)),1.0*(1.8-(time*0.15))

[State 3470, Scale]
type = AngleDraw
trigger1 = ishelper(8800)
scale = 1.0*(1.6+(time*0.385)),1.0*(1.8-(time*0.075))

[State 3470, Rotate]
type = AngleSet
trigger1 = !Time
value = random%360

;[State 3470, BindToRoot]
;type = BindToRoot
;trigger1 =!time
;pos = ceil(150 * root,const(size.xScale)), ceil(-153 * root,const(size.yScale))
;ignorehitpause =1


[State 3470, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1

[State 3470, Destroyself]
type = destroyself
;trigger1 =root,stateno!=3201
trigger1 =root,Movetype=H
trigger2 =time>=16;&&(ishelper(3850)|ishelper(3851))
;trigger4 =time>=22&&(ishelper(3852)|ishelper(3853))

;---------------------------------------------------------------------------
;Hyper spark
[Statedef 8801]
physics  = N
anim = 6091
ctrl = 0
velset=0,0
sprpriority=60

[State 3470, Trans]
type = Trans
trigger1 =1
trans = add
ignorehitpause =1

[State 8800, 0]
type = varset
trigger1 = !time
var(6) = random%2

[State 8801, Helper]
type = Helper
trigger1 =!time 
helpertype = normal
name ="PSS" 
ID =8804
stateno =8804
persistent=0
size.xscale =5
size.yscale =5 
ownpal=0
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 8801, Helper]
type = Helper
trigger1 =!time 
helpertype = normal
name ="CSS" 
ID =8803 
stateno =8803
persistent=0
size.xscale = 1.3
size.yscale = 1.3
ownpal=0
pauseMoveTime = 99999
superMoveTime = 99999
ignoreHitPause = 1

[State 8801, Helper]
type = Helper
trigger1 =!time 
helpertype = normal
name ="CSS2" 
ID =8823 
stateno =8823
persistent=0
size.xscale = 1.3
size.yscale = 1.3
ownpal=0
pauseMoveTime = 99999
superMoveTime = 99999
ignoreHitPause = 1

[State 8801, Helper]
type = Helper
trigger1 =!time 
helpertype = normal
name ="CSSalt" 
ID =8825
stateno =8825
persistent=0
size.xscale =1.750 
size.yscale =1.750 
ownpal=1
facing = ifelse(var(6)=1,-1,1)
pauseMoveTime = 99999
superMoveTime = 99999
ignoreHitPause = 1

[state 6100, Impact]
type = helper
trigger1 = !time
helpertype = normal
name = "base"
ID =8815
stateno =8815
persistent=0
size.xscale =.8
size.yscale =.8 
ownpal=0
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[state 6100, Impact]
type = helper
trigger1 = !time
helpertype = normal
name = "Impact"
ID =8809 
stateno =8809
persistent=0
size.xscale =0.6 
size.yscale =1.3 
ownpal=0
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1


[State 3470, Scale]
type = AngleDraw
trigger1 = ishelper(8801)
scale = 1.0*(1.6+(time*0.085)),1.0*(1.6-(time*0.15))

[State 3470, Scale]
type = AngleDraw
trigger1 = ishelper(8801)
scale = 1.0*(1.6+(time*0.085)),1.0*(1.6-(time*0.075))

[State 3470, Rotate]
type = AngleSet
trigger1 = !Time
value = random%360

;[State 3470, BindToRoot]
;type = BindToRoot
;trigger1 =!time
;pos = ceil(150 * root,const(size.xScale)), ceil(-153 * root,const(size.yScale))
;ignorehitpause =1


[State 3470, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1

[State 3470, Destroyself]
type = destroyself
;trigger1 =root,stateno!=3201
trigger1 =root,Movetype=H
trigger2 =time>=15;&&(ishelper(3850)|ishelper(3851))
;trigger4 =time>=22&&(ishelper(3852)|ishelper(3853))

;---------------------------------------------------------------------------
;Hyper spark
[Statedef 8802]
physics  = N
anim = 6093
ctrl = 0
velset=0,0
sprpriority=60

[State 3470, Trans]
type = Trans
trigger1 =1
trans = add
ignorehitpause =1

[State 3470, BindToRoot]
type = BindToRoot
trigger1 =!time
pos = ceil(150 * root,const(size.xScale)), ceil(-153 * root,const(size.yScale))
ignorehitpause =1


[State 3470, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1

[State 3470, Destroyself]
type = destroyself
trigger1 =root,stateno!=3201
trigger2 =root,Movetype=H
trigger3 =time>=12;&&(ishelper(3850)|ishelper(3851))
;trigger4 =time>=22&&(ishelper(3852)|ishelper(3853))

;-------------------------------------------------------------------------
;Center Slash Spark
[StateDef 8803]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0, 0
anim = 8820+random%4
sprPriority = 90

[State 8803, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

;[State 7900, ChangeAnim]
;type = ChangeAnim
;trigger1 = !time
;value = 8820+random%4

[State 0]
type = varset
trigger1 = !time
var(5) = random

[State 8803, AngleSet]
type = AngleDraw
trigger1 = !time
value = var(5)+90;random+90

[State 8803, Scale]
type = AngleDraw
trigger1 =1
scale = 1 + (0.1000 * time),1 + (0.1000 * time) ;(fvar(17) - 0.05) + (0.025 * time), (fvar(17) - 0.05) + (0.025 * time)

[State 8803, Transparency]
type = Trans
trigger1 =time > 6 ;1
trans = AddAlpha
alpha = 256 - (42 * Time),256

[State 8803, End]
type = DestroySelf
trigger1 = Time >= 20

;-------------------------------------------------------------------------
;Center Slash Spark
[StateDef 8823]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0, 0
anim = 8820+random%4
sprPriority = 90

[State 8803, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 0]
type = varset
trigger1 = !time
var(5) = random

[State 8803, AngleSet]
type = AngleDraw
trigger1 = !time
value = var(5)-90;random-90

[State 8803, Scale]
type = AngleDraw
trigger1 =1
scale = 1 + (0.1000 * time),1 + (0.1000 * time) ;(fvar(17) - 0.05) + (0.025 * time), (fvar(17) - 0.05) + (0.025 * time)

[State 8803, Transparency]
type = Trans
trigger1 =time > 6 ;1
trans = AddAlpha
alpha = 256 - (42 * Time),256

[State 8803, End]
type = DestroySelf
trigger1 = Time >= 20
;-------------------------------------------------------------------------
;Center Slash Spark(Alt)
[StateDef 8824]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0, 0
anim = 8840+random%3
sprPriority = 91

[State 8803, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

;[State 7900, ChangeAnim]
;type = ChangeAnim
;trigger1 = !time
;value = 8820+random%4

[State 0]
type = varset
trigger1 = !time
var(5) = random

[State 8803, AngleSet]
type = AngleDraw
trigger1 = !time
value = var(5)+90;random+90

[State 8803, Scale]
type = AngleDraw
trigger1 =1
scale = 1 + (0.1000 * time),1 + (0.1000 * time) ;(fvar(17) - 0.05) + (0.025 * time), (fvar(17) - 0.05) + (0.025 * time)

[State 8803, Transparency]
type = Trans
trigger1 =time > 6 ;1
trans = AddAlpha
alpha = 256 - (42 * Time),256

[State 8803, End]
type = DestroySelf
trigger1 = Time >= 20
;-------------------------------------------------------------------------
;Center Slash Spark(Alt2)
[StateDef 8825]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0, 0
anim = 8844+random%3
sprPriority = 91

[State 8803, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

;[State 7900, ChangeAnim]
;type = ChangeAnim
;trigger1 = !time
;value = 8820+random%4

[State 0]
type = varset
trigger1 = !time
var(5) = random

[State 8803, AngleSet]
type = AngleDraw
trigger1 = !time
value = var(5)-90;random+90

[State 8803, Scale]
type = AngleDraw
trigger1 =1
scale = 1 + (0.1500 * time),1 + (0.1500 * time) ;(fvar(17) - 0.05) + (0.025 * time), (fvar(17) - 0.05) + (0.025 * time)

[State 8803, Transparency]
type = Trans
trigger1 =time > 6 ;1
trans = AddAlpha
alpha = 256 - (42 * Time),256

[State 8803, End]
type = DestroySelf
trigger1 = Time >= 20
;-------------------------------------------------------------------------
;particles Slash Spark
[StateDef 8804]
physics = N
anim = 9999
velSet = 0,0
sprPriority = 40

[State 8804,0 ]
Type=VarSet
Trigger1=1
var(8)=Random%360

[State 8804,0 ]
Type=VarSet
Trigger1=1
var(9)=IfElse(var(1)=3,200+Random%400,200+Random%600)

[State ]
Type=VarSet
Trigger1=1
fvar(1)=1.375

[state 6100, Particles]
type = explod
trigger1 = (Time=[0,5])
anim = 6192
postype = p1
pos = 0,0 ;var(1) := cond(random < 496, 4 + random % 12, -4 - random % 12), var(2) := cond(random < 496, 4 + random % 12, -4 - random % 12)
facing = cond(random < 496, 1, -1)
vfacing = cond(random < 496, 1, -1)
Velocity=fvar(1)*(var(9)/100.00)*Sin((var(8))*Pi/180),fvar(1)*(var(9)/100.00)*Cos((var(8))*Pi/180)
Accel=fvar(1)*(var(9)/100.00)*Sin((var(8))*Pi/180)/IfElse(var(1)=2,-32.0,-24.0),fvar(1)*(var(9)/100.00)*Cos((var(8))*Pi/180)/IfElse(var(1)=2,-32.0,-24.0)
Scale=fvar(1)*IfElse(GameTime%3=0,0.375,0.25)*IfElse(var(1)=2,0.25,1.00),fvar(1)*IfElse(GameTime%3=0,0.375,0.25)*IfElse(var(1)=2,3.00,1.00)
SprPriority=70
OwnPal=1
Trans=Add

[State 8803, End]
type = DestroySelf
trigger1 = Time >= 36
;=========================================================================
; Hitspark - Base
;=========================================================================
[Statedef 8805]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0, 0
anim = 8805
sprpriority = 40

[state 6100, Special Effect]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 8010, Angle]
type = angleset
trigger1 = !time
value = 30 * (random % 12)

[State 8010, Angle]
type = angleadd
trigger1 = 1
value = 30

[State 8010, Scale]
type = angledraw
trigger1 = time < 10
scale = 0.3 -(time * 0.03), 0.3 -(time * 0.03)

[State 8010, Scale]
type = angledraw
trigger1 = time >= 10
scale = 0, 0

[state 6101, Transparency]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256 - cond(time <= 8, 8, 16) * time, 256

[state 6100, Center]
type = helper
trigger1 = !time
helpertype = normal
name = "center"
stateno = 8806
ID = 8806
postype = p1
ownpal = 0
keyctrl = 0
pausemovetime = 99999
supermovetime = 99999


[state 6100, Streaks]
type = helper
trigger1 = !time
helpertype = normal
name = "Streaks"
stateno = 8807
ID = 8807
postype = p1
ownpal = 0
keyctrl = 0
pausemovetime = 99999
supermovetime = 99999

[state 6100, Impact]
type = helper
trigger1 = !time
helpertype = normal
name = "Impact"
stateno = 8808
ID = 8808
postype = p1
ownpal = 0
keyctrl = 0
pausemovetime = 99999
supermovetime = 99999

[state 6100, Destroy Helper]
type = destroyself
trigger1 = time > 20

;=========================================================================
; Slash spark - Base
;=========================================================================
[Statedef 8815]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0, 0
anim = 8805
sprpriority = 90

[state 6100, Special Effect]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 8010, Angle]
type = angleset
trigger1 = !time
value = random

;[State 8010, Scale]
;type = angledraw
;trigger1 = time < 10
;scale = 0.3 -(time * 0.03), 0.3 -(time * 0.03)

[state 6101, Transparency]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256 - cond(time <= 8, 8, 16) * time, 256

[state 6100, Destroy Helper]
type = destroyself
trigger1 = time > 20

;=========================================================================
; Hitspark - Center
;=========================================================================
[Statedef 8806]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0, 0
anim = 8806
sprpriority = 40

[state 6101, Special Effect]
type = assertspecial
trigger1 = 1
flag = noshadow

[state 6101, Turn]
type = turn
trigger1 = !time && random < 496

[state 6101, Scale]
type = varset
trigger1 = !time
fvar(0) = (0.125 + 0.025 * var(5)) / 16.0

[state 6101, Angle]
type = angledraw
trigger1 = 1
value = 30 * var(0)
scale = (0.125 + 0.025 * var(5)) + fvar(0) * time, (0.125 + 0.025 * var(5)) + fvar(0) * time

[state 6101, Transparency]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256 - cond(time <= 8, 8, 16) * time, 256

[state 6101, Destroy Helper]
type = destroyself
trigger1 = time > 20
;=========================================================================
; Hitspark - Streaks
;=========================================================================
[Statedef 8807]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0, 0
anim = ifElse(Random < 500, 8817, 8818)
sprpriority = 40

[state 6101, Special Effect]
type = assertspecial
trigger1 = 1
flag = noshadow

[state 6101, Turn]
type = turn
trigger1 = !time && random < 496

[state 6101, Scale]
type = varset
trigger1 = !time
fvar(0) = (0.125 + 0.025 * var(5)) / 16.0

[state 6101, Angle]
type = angledraw
trigger1 = !time
value = random

[state 6101, Angle]
type = angledraw
trigger1 = 1
;value = 30 * var(0)
scale = 0.55 + (0.011375 * time), 0.55 + (0.011375 * time)

[state 6101, Transparency]
type = trans
trigger1 = time > 6;1
trans = addalpha
alpha = 256 - cond(time <= 8, 8, 16) * time, 256

[state 6101, Destroy Helper]
type = destroyself
trigger1 = time > 20

;=========================================================================
; Hitspark - Impact
;=========================================================================
[Statedef 8808]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0, 0
anim = 8808
sprpriority = 40

[state 6101, Special Effect]
type = assertspecial
trigger1 = 1
flag = noshadow

[state 6101, Turn]
type = turn
trigger1 = !time && random < 496

[state 6101, Scale]
type = varset
trigger1 = !time
fvar(0) = (0.125 + 0.025 * var(5)) / 16.0

[state 6101, Angle]
type = angledraw
trigger1 = 1
value = 30 +(0.0375 * time)
scale = 0.015 +(0.0125 * time), 0.015 +(0.0125 * time)

;[state 6101, Angle]
;type = angledraw
;trigger1 = 1
;value = 30 +(0.0375 * time)
;scale = 0.015 +(0.0145 * time), 0.015 +(0.0145 * time)
;
;[state 6101, Angle]
;type = angledraw
;trigger1 = 1
;value = 30 +(0.0375 * time)
;scale = 0.015 +(0.0175 * time), 0.015 +(0.0175 * time)
;
;[state 6101, Angle]
;type = angledraw
;trigger1 = 1
;value = 30 +(0.0375 * time)
;scale = 0.3 +(0.0375 * time), 0.3 +(0.0375 * time)

[state 6101, Transparency]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256 - cond(time <= 8, 8, 16) * time, 256

[state 6101, Destroy Helper]
type = destroyself
trigger1 = time > 20

;=========================================================================
; Slash Spark - Impact
;=========================================================================
[Statedef 8809]
type = A
movetype = I
physics = N
ctrl = 0
velset = 0, 0
anim = 8830
sprpriority = 40

[state 6101, Special Effect]
type = assertspecial
trigger1 = 1
flag = noshadow

[state 6101, Turn]
type = turn
trigger1 = !time && random < 496

[state 6101, Scale]
type = varset
trigger1 = !time
fvar(0) = (0.125 + 0.025 * var(5)) / 16.0

[state 6101, Angle]
type = angledraw
trigger1 = !time
value = random;30 +(0.0375 * time)

[state 6101, Angle]
type = angledraw
trigger1 = time = [0,4]
scale = 1 +(0.5000 * time), 1 +(0.5000 * time)

[state 6101, Angle]
type = angledraw
trigger1 = time > 5
scale = 2.5 +(0.0500 * time), 2.5 +(0.0500 * time)

;[state 6101, Angle]
;type = angledraw
;trigger1 = 1
;value = 30 +(0.0375 * time)
;scale = 0.015 +(0.0145 * time), 0.015 +(0.0145 * time)
;
;[state 6101, Angle]
;type = angledraw
;trigger1 = 1
;value = 30 +(0.0375 * time)
;scale = 0.015 +(0.0175 * time), 0.015 +(0.0175 * time)
;
;[state 6101, Angle]
;type = angledraw
;trigger1 = 1
;value = 30 +(0.0375 * time)
;scale = 0.3 +(0.0375 * time), 0.3 +(0.0375 * time)

[state 6101, Transparency]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256 - cond(time <= 8, 8, 16) * time, 256

[state 6101, Destroy Helper]
type = destroyself
trigger1 = time > 20
;---------------------------------------------------------------------------
; Super Port2
[Statedef 9011] 
type  = A
movetype = I
physics  = N
ctrl  = 0
anim  = 9999
SprPriority = -1

[State var]
type = varset
trigger1 = time = 0
fvar(91) = 0

[State 1100,S-Port]
type = Explod
trigger1 = time = 0
anim = 9011
ID = 9011
postype = Back
pos = 0,0
ownpal = 0
scale = 1,1
sprpriority = -50
ontop = 0
removetime = 50
ignorehitpause = 1
persistent = 0
supermovetime = 9999
pausemovetime = 9999

[State 9011, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignoreHitPause = 1

[State 9011, Assert: NoBarDisplay, NoBG, NoFG]
type = AssertSpecial
trigger1 = Time < 40
flag = NoBarDisplay
flag2 = NoBG
flag3 = NoFG

[State 9011, Scale]
type = AngleDraw
trigger1 = Time >= 16
scale = 1, 1
ignoreHitPause = 1


[State 9011, Scale Portrait]
type = ModifyExplod
trigger1 = NumExplod(9011) && Time < 16
ID = 9011
posType = Back
pos = 160, floor((1.3333333 * GameHeight / GameWidth) * 120)
scale = 1.3 - (0.03125 * Time), 1.3 - (0.03125 * Time)

[State 9011, Scale Portrait(end)]
type = ModifyExplod
trigger1 = NumExplod(9011) && Time > 30
ID = 9011
posType = Back
pos = 180, floor((1.3333333 * GameHeight / GameWidth) * 120)
scale = 1.3 + (0.03125 * Time), 1.3 + (0.03125 * Time)
trans = AddAlpha
alpha = (8 * Time), 256

[State end]
type = DestroySelf
trigger1 = time = 130

;---------------------------------------------------------------------------
; Super Port3
[Statedef 9012] 
type  = A
movetype = I
physics  = N
ctrl  = 0
anim  = 9999
SprPriority = -1

[State 8701,Explod]
type = Explod
trigger1 = time = 0
anim = 9012
id = 9012
postype = left
Scale = .75,.75
pos = 180,168
bindtime = -1
sprpriority = -2
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 8701,Explod]
type = Explod
trigger1 = time = 0
anim = 9150
id = 9150
postype = left
Scale = 2.9,1.9
pos = 0,280
bindtime = -1
sprpriority = -2
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 8701,EnvColor]
type = EnvColor
trigger1 = 1
value = 0,0,0
under = 1
time = 2

[State 9011, Assert: NoBarDisplay, NoBG, NoFG]
type = AssertSpecial
trigger1 = Time < 40
flag = NoBarDisplay
flag2 = NoBG
flag3 = NoFG

[State end]
type = DestroySelf
trigger1 = time = 50
;---------------------------------------------------------------------------
; Super Port
[Statedef 9150]
type = A
physics = N
velset = 0,0
sprpriority = 5
anim = 9999

[State 15210, 1]
Type = NotHitBy
Trigger1 = 1
Value = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP

[state 15210,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1100,S-Port]
type = Explod
trigger1 = time = 0
anim = 9151
ID = 9150
postype = back
pos = 0,-60
ownpal = 1
scale = .98,.98
sprpriority = -2
ontop = 0
removetime = 9999
ignorehitpause = 1
persistent = 0
supermovetime = 9999
pausemovetime = 9999

[State 1100,S-Port]
type = Explod
trigger1 = time = 0
anim = 9150
ID = 9150
postype = back
pos = 0,-60
ownpal = 1
scale = .98,.98
sprpriority = -3
ontop = 0
removetime = 9999
ignorehitpause = 1
persistent = 0
supermovetime = 9999
pausemovetime = 9999

[State 15210]
Type = VarAdd
Trigger1 = Time = [45,60]
V = 10
Value = 16

[State 15210,Fade]
Type = ModifyExplod
Trigger1 = Time >= 45
ID = 9150
Trans = AddAlpha
Alpha = 256-Var(10),0+Var(10)
;scale = (0.02525 * Time), (0.02525 * Time)

[State 15210,Removeexplod]
Type = RemoveExplod
Trigger1 = Var(10) = 256
ID = 9150

[State 15210, end]
type = DestroySelf
Trigger1 = time = 60
;---------------------------------------------------------------------------
; Super Port(P5)
[Statedef 9160]
type = A
physics = N
velset = 0,0
sprpriority = 5
anim = 9999

[State 15210, 1]
Type = NotHitBy
Trigger1 = 1
Value = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP

[state 15210,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state ]
type=explod
Trigger1 = time = 13
anim = ifelse(random < 500,9165,9175)
id=9165
scale=1,1
pausemovetime=9999
supermovetime=9999
postype=left
sprpriority = -2

[state ]
type=explod
triggerall = root,facing = 1 && teamside = 2
Trigger1 = time = 13
anim=9163
id=9163
facing=root,facing
scale=1,1
pausemovetime=9999
supermovetime=9999
postype=left
sprpriority = -3

[state ]
type=explod
triggerall = root,facing = 1 && teamside = 2
trigger1 = !time
anim=9160
id=9160
facing=root,facing
scale=1,1
pausemovetime=9999
supermovetime=9999
postype=left
sprpriority = -4

[state ]
type=explod
triggerall = root,facing = -1 && teamside = 2
Trigger1 = time = 13
anim=9163
id=9163
facing=root,facing
scale=1,1
pausemovetime=9999
supermovetime=9999
postype=right
sprpriority = -3

[state ]
type=explod
triggerall = root,facing = -1 && teamside = 2
trigger1 = !time
anim=9160
id=9160
facing=root,facing
scale=1,1
pausemovetime=9999
supermovetime=9999
postype=right
sprpriority = -4

[state ]
type=explod
triggerall = root,facing = -1 && teamside = 1
Trigger1 = time = 13
anim=9163
id=9163
facing=root,facing
scale=1,1
pausemovetime=9999
supermovetime=9999
postype=right
sprpriority = -3

[state ]
type=explod
triggerall = root,facing = -1 && teamside = 1
trigger1 = !time
anim=9160
id=9160
facing=root,facing
scale=1,1
pausemovetime=9999
supermovetime=9999
postype=right
sprpriority = -4

[state ]
type=explod
triggerall = root,facing = 1 && teamside = 1
Trigger1 = time = 13
anim=9163
id=9163
facing=root,facing
scale=1,1
pausemovetime=9999
supermovetime=9999
postype=left
sprpriority = -3

[state ]
type=explod
triggerall = root,facing = 1 && teamside = 1
trigger1 = !time
anim=9160
id=9160
facing=root,facing
scale=1,1
pausemovetime=9999
supermovetime=9999
postype=left
sprpriority = -4

[state ]
type=playsnd
trigger1 = !time
value=s20200,random%4
volumescale=140
abspan=0

[State 9160, DestroySelf]
type = DestroySelf
trigger1 = time = 52
;---------------------------------------------------------------------------
; White BG fade
[Statedef 15208]
type = A
physics = N
velset = 0,0
sprpriority = 99999
anim = 9999

[State 15210, 1]
Type = NotHitBy
Trigger1 = 1
Value = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP

[state 15210,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 15210, BG]
type = Explod
trigger1 = time = 0
anim = 15300
id = 15300
pos = 0,0
postype = left
sprpriority = 99999999
bindtime = -1
ownpal = 1
ignorehitpause = 1
removeongethit = 1
Persistent = 0
scale = 1.4,1.4
RemoveTime = 9999;45;38
SuperMoveTime = 9999
PauseMoveTime = 9999

;FOR 1.1 ONLY
;[State 0]
;type = Zoom
;trigger1 = (Time=[0,4])
;pos = root,pos x,0
;scale = 1.0+((250/5000.000)*time)
;ignorehitpause = 1
;
;[State 0]
;type = Zoom
;trigger1 = (Time=[5,39])
;pos = root,pos x,0
;scale = 1.000+(250/1000.000)
;ignorehitpause = 1
;
;[State 0]
;type = Zoom
;trigger1 = (Time=[39,48])
;Pos=root,pos x,0
;Scale=(1.000+(250/1000.000))-((250/100000.500)*(Time-10))
;ignorehitpause = 1

[State 15210]
Type = VarAdd
Trigger1 = Time = [45,60]
V = 10
Value = 16

[State 15210,Fade]
Type = ModifyExplod
Trigger1 = Time >= 45
ID = 15300
Trans = AddAlpha
Alpha = 256-Var(10),0+Var(10)

[State 15210,Removeexplod]
Type = RemoveExplod
Trigger1 = Var(10) = 256
ID = 15300

[State 15210, end]
type = DestroySelf
Trigger1 = time = 60
;---------------------------------------------------------------------------
; Super BG
[Statedef 15209]
type = A
physics = N
velset = 0,0
sprpriority = 5
anim = 9999

[State 15210, 1]
Type = NotHitBy
Trigger1 = 1
Value = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP

[state 15210,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 15210, BG]
type = Explod
trigger1 = time = 0
anim = 15210
id = 15210
pos = 0,0
postype = back
sprpriority = -4
bindtime = -1
ownpal = 1
ignorehitpause = 1
removeongethit = 1
Persistent = 0
scale = 1.4,1.4
RemoveTime = 9999;45;38
SuperMoveTime = 9999
PauseMoveTime = 9999

;FOR 1.1 ONLY
;[State 0]
;type = Zoom
;trigger1 = (Time=[0,4])
;pos = root,pos x,0
;scale = 1.0+((250/5000.000)*time)
;ignorehitpause = 1
;
;[State 0]
;type = Zoom
;trigger1 = (Time=[5,39])
;pos = root,pos x,0
;scale = 1.000+(250/1000.000)
;ignorehitpause = 1
;
;[State 0]
;type = Zoom
;trigger1 = (Time=[39,48])
;Pos=root,pos x,0
;Scale=(1.000+(250/1000.000))-((250/100000.500)*(Time-10))
;ignorehitpause = 1

[State 15210]
Type = VarAdd
Trigger1 = Time = [45,60]
V = 10
Value = 16

[State 15210,Fade]
Type = ModifyExplod
Trigger1 = Time >= 45
ID = 15210
Trans = AddAlpha
Alpha = 256-Var(10),0+Var(10)

[State 15210,Removeexplod]
Type = RemoveExplod
Trigger1 = Var(10) = 256
ID = 15210


[State 15210, end]
type = DestroySelf
Trigger1 = time = 60
;---------------------------------------------------------------------------
; Super BG
[Statedef 15210]
type = A
physics = N
velset = 0,0
sprpriority = 5
anim = 9999

[State 15210, 1]
Type = NotHitBy
Trigger1 = 1
Value = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP

[state 15210,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1251,0]
type = helper
trigger1 = !time
stateno=15215
ownpal=1
pausemovetime=9999
supermovetime=9999

[State 1100,S-Port]
type = Explod
trigger1 = time = 0
anim = 9170
ID = 9170
postype = back
pos = 77,377
ownpal = 1
scale = .8,.8
velocity = 4.71,0
sprpriority = 9
ontop = 0
removetime = 120
ignorehitpause = 1
persistent = 0
supermovetime = 9999
pausemovetime = 9999

;[State 1100,S-Port]
;type = Explod
;trigger1 = time = 0
;anim = 9171
;ID = 9171
;postype = back
;pos = -70,100
;ownpal = 1
;scale = 1.25,1.25
;velocity = 0.70,0
;sprpriority = 9
;ontop = 0
;removetime = 55
;ignorehitpause = 1
;persistent = 0
;supermovetime = 9999
;pausemovetime = 9999

;[State 1100,S-Port]
;type = Explod
;trigger1 = time = 0
;anim = 9150
;ID = 9150
;postype = back
;pos = 20,-70
;ownpal = 1
;scale = 1,1
;sprpriority = 9
;ontop = 0
;removetime = 55
;ignorehitpause = 1
;persistent = 0
;supermovetime = 9999
;pausemovetime = 9999

[State 15210, BG]
type = Explod
trigger1 = time = 0
anim = 15210
id = 15210
pos = 0,0
postype = back
sprpriority = -4
bindtime = -1
ownpal = 1
ignorehitpause = 1
removeongethit = 1
Persistent = 0
scale = 1.4,1.4
RemoveTime = 9999;45;38
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 15210, Removeexplod]
type = null;RemoveExplod
trigger1 = time = 45;38
ID = 15210

[State 15210, ”wŒi‚ÌFade]
type = null;Explod
triggerall = !NumExplod(15211)
trigger1 = time = 45;38
anim = 15211
id = 15211
pos = 0,-20
postype = back
sprpriority = -9
bindtime = -1
ownpal = 1
ignorehitpause = 1
removeongethit = 1
Persistent = 0
scale = 0.6,0.6
SuperMoveTime = 9999
PauseMoveTime = 9999

;FOR 1.1 ONLY
;[State 0]
;type = Zoom
;trigger1 = (Time=[0,4])
;pos = root,pos x,0
;scale = 1.0+((250/5000.000)*time)
;ignorehitpause = 1
;
;[State 0]
;type = Zoom
;trigger1 = (Time=[5,39])
;pos = root,pos x,0
;scale = 1.000+(250/1000.000)
;ignorehitpause = 1
;
;[State 0]
;type = Zoom
;trigger1 = (Time=[39,48])
;Pos=root,pos x,0
;Scale=(1.000+(250/1000.000))-((250/100000.500)*(Time-10))
;ignorehitpause = 1

[State 15210, end]
type = null;DestroySelf
trigger1 = Time = 60

[State var]
type = varset
trigger1 = time = 0
fvar(2) = 0

[State var]
type = varadd
trigger1 = Time > 45
fvar(2) = .25
ignorehitpause = 1

[State explod]
type = ModifyExplod
trigger1 = 1
ID = 9170
scale = .8+fvar(2)/8,.8+fvar(2)/8
ignorehitpause = 1
pausemovetime = 10000

[State 15210]
Type = VarAdd
Trigger1 = Time = [45,60]
V = 10
Value = 16

[State 15210,Fade]
Type = ModifyExplod
Trigger1 = Time >= 45
ID = 9150
Trans = AddAlpha
Alpha = 256-Var(10),0+Var(10)

[State 15210,Fade]
Type = ModifyExplod
Trigger1 = Time >= 45
ID = 9170
Trans = AddAlpha
Alpha = 256-Var(10),0+Var(10)
;scale = (0.02525 * Time), (0.02525 * Time)

[State 15210,Fade]
Type = ModifyExplod
Trigger1 = Time >= 45
ID = 9171
Trans = AddAlpha
Alpha = 1,180+Var(10)

[State 15210,Fade]
Type = ModifyExplod
Trigger1 = Time >= 45
ID = 15210
Trans = AddAlpha
Alpha = 256-Var(10),0+Var(10)

[State 15210,Removeexplod]
Type = RemoveExplod
Trigger1 = Var(10) = 256
ID = 15210


[State 15210, end]
type = DestroySelf
Trigger1 = time = 60
;---------------------------------------------------------------------------
; Super BG
[Statedef 15211]
type = A
physics = N
velset = 0,0
sprpriority = 5
anim = 9999

[State 15210, 1]
Type = NotHitBy
Trigger1 = 1
Value = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP

[state 15210,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 15210,ƒJƒbƒgƒCƒ“]
type = Explod
trigger1 = time = 0
anim = 9010
ID = 9010
postype = Back
pos = -70,-20
scale = 0.5,0.5
sprpriority = -1
bindtime = -1
ownpal = 1
ignorehitpause = 1
removeongethit = 1
Persistent = 0
removetime = 41
supermovetime = 9999
pausemovetime = 9999

[State 15210, BG]
type = Explod
trigger1 = time = 0
anim = 15210
id = 15210
pos = 0,-20
postype = back
sprpriority = -4
bindtime = -1
ownpal = 1
ignorehitpause = 1
removeongethit = 1
Persistent = 0
scale = 0.6,0.6
RemoveTime = 9999;45;38
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 15210, Removeexplod]
type = null;RemoveExplod
trigger1 = time = 45;38
ID = 15210

[State 15210, ”wŒi‚ÌFade]
type = null;Explod
triggerall = !NumExplod(15211)
trigger1 = time = 45;38
anim = 15211
id = 15211
pos = 0,-20
postype = back
sprpriority = -9
bindtime = -1
ownpal = 1
ignorehitpause = 1
removeongethit = 1
Persistent = 0
scale = 0.6,0.6
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 15210, end]
type = null;DestroySelf
trigger1 = Time = 60

[State 15210]
Type = VarAdd
Trigger1 = Time = [45,60]
V = 10
Value = 16

[State 15210,Fade]
Type = ModifyExplod
Trigger1 = Time >= 45
ID = 15210
Trans = AddAlpha
Alpha = 256-Var(10),0+Var(10)

[State 15210,Removeexplod]
Type = RemoveExplod
Trigger1 = Var(10) = 256
ID = 15210

[State 15210, end]
type = DestroySelf
Trigger1 = time = 60
;---------------------------------------------------------------------------
;CUT IN FX2
[Statedef 15215]
type = A
physics = N
velset = 0,0
sprpriority = 5
anim = 9999

[State 4000, Pause]
type = Pause
trigger1 = Time = 0
time = 50
movetime = 50

[State 15210, 1]
Type = NotHitBy
Trigger1 = 1
Value = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP

[state 15210,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
;add = floor(Random/3), floor(Random/3), floor(Random/3)
mul = floor(Random/3), floor(Random/3), floor(Random/3)
ignorehitpause = 1
time = 1

[State 1100,S-Port]
type = Explod
trigger1 = time = 0
anim = 9171
ID = 9171
postype = back
pos = 80,380
ownpal = 1
scale = 1.12,1.12
velocity = 4.71,0
sprpriority = 10
ontop = 0
removetime = 120
ignorehitpause = 1
persistent = 0
supermovetime = 9999
pausemovetime = 9999

[State var]
type = varset
trigger1 = time = 0
fvar(8) = .15

[State var]
type = varset
trigger1 = Time = 0
fvar(9) = 4.115
ignorehitpause = 1

[State var]
type = varadd
trigger1 = fvar(9) > 1.115
fvar(9) = -fvar(8)
ignorehitpause = 1

;[State var]
;type = varadd
;trigger1 = var(9) != 1
;fvar(8) = .25
;ignorehitpause = 1

[State explod]
type = ModifyExplod
trigger1 = 1
ID = 9171
scale = fvar(9),fvar(9)
ignorehitpause = 1
pausemovetime = 10000

[State 15210]
Type = VarAdd
Trigger1 = Time = [20,60]
V = 10
Value = 16

[State 15210,Fade]
Type = ModifyExplod
Trigger1 = Time >= 20
ID = 9171
Trans = AddAlpha
Alpha = 256-Var(10),256
;scale = (0.02525 * Time), (0.02525 * Time)

[State 15210, end]
type = DestroySelf
Trigger1 = var(10) > 256;time = 60
;---------------------------------------------------------------------------
; Super BG
[Statedef 15220]
type = A
physics = N
velset = 0,0
sprpriority = 5
anim = 9999

[State 15220, 1]
Type = NotHitBy
Trigger1 = 1
Value = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP

[state 15220,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 15220,ƒJƒbƒgƒCƒ“]
type = Explod
trigger1 = time = 0
anim = 9001
ID = 9001
postype = Back
pos = -70,-20
scale = 0.5,0.5
sprpriority = -1
bindtime = -1
ownpal = 1
ignorehitpause = 1
removeongethit = 1
Persistent = 0
removetime = 41
supermovetime = 9999
pausemovetime = 9999

[State 15220, BG]
type = Explod
trigger1 = time = 0
anim = 15220
id = 15220
pos = 0,-20
postype = back
sprpriority = -4
bindtime = -1
ownpal = 1
ignorehitpause = 1
removeongethit = 1
Persistent = 0
scale = 1.7,1.7
RemoveTime = 9999;45;38
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 15220, Removeexplod]
type = null;RemoveExplod
trigger1 = time = 45;38
ID = 15220

[State 15220, ”wŒi‚ÌFade]
type = null;Explod
triggerall = !NumExplod(15221)
trigger1 = time = 45;38
anim = 15221
id = 15221
pos = 0,-20
postype = back
sprpriority = -9
bindtime = -1
ownpal = 1
ignorehitpause = 1
removeongethit = 1
Persistent = 0
scale = 0.6,0.6
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 15220, end]
type = null;DestroySelf
trigger1 = Time = 60

[State 15220]
Type = VarAdd
Trigger1 = Time = [45,60]
V = 10
Value = 16

[State 15220,Fade]
Type = ModifyExplod
Trigger1 = Time >= 45
ID = 15220
Trans = AddAlpha
Alpha = 256-Var(10),0+Var(10)

[State 15220,Removeexplod]
Type = RemoveExplod
Trigger1 = Var(10) = 256
ID = 15220

[State 15220, end]
type = DestroySelf
Trigger1 = time = 60
;---------------------------------------------------------------------------
; Super BG
[Statedef 15221]
type = A
physics = N
velset = 0,0
sprpriority = 5
anim = 9999

[State 15210, 1]
Type = NotHitBy
Trigger1 = 1
Value = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP

[state 15210,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 15210,ƒJƒbƒgƒCƒ“]
type = Explod
trigger1 = time = 0
anim = 9001
ID = 9001
postype = Back
pos = -70,-20
scale = 0.5,0.5
sprpriority = -1
bindtime = -1
ownpal = 1
ignorehitpause = 1
removeongethit = 1
Persistent = 0
removetime = 41
supermovetime = 9999
pausemovetime = 9999

[State 15210, BG]
type = Explod
trigger1 = time = 0
anim = 15210
id = 15210
pos = 0,-20
postype = back
sprpriority = -4
bindtime = -1
ownpal = 1
ignorehitpause = 1
removeongethit = 1
Persistent = 0
scale = 1.7,1.7
RemoveTime = 9999;45;38
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 15210, Removeexplod]
type = null;RemoveExplod
trigger1 = time = 45;38
ID = 15210

[State 15210, ”wŒi‚ÌFade]
type = null;Explod
triggerall = !NumExplod(15211)
trigger1 = time = 45;38
anim = 15211
id = 15211
pos = 0,-20
postype = back
sprpriority = -9
bindtime = -1
ownpal = 1
ignorehitpause = 1
removeongethit = 1
Persistent = 0
scale = 0.6,0.6
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 15210, end]
type = null;DestroySelf
trigger1 = Time = 60

[State 15210]
Type = VarAdd
Trigger1 = Time = [45,60]
V = 10
Value = 16

[State 15210,Fade]
Type = ModifyExplod
Trigger1 = Time >= 45
ID = 15210
Trans = AddAlpha
Alpha = 256-Var(10),0+Var(10)

[State 15210,Removeexplod]
Type = RemoveExplod
Trigger1 = Var(10) = 256
ID = 15210

[State 15210, end]
type = DestroySelf
Trigger1 = time = 60
;---------------------------------------------------------------------------
; Speed line BG
[Statedef 15240]
type = A
physics = N
velset = 0,0
sprpriority = 5
anim = 9999

[State 15210, 1]
Type = NotHitBy
Trigger1 = 1
Value = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP

[state 15210,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 15210, BG]
type = Explod
trigger1 = time = 0
anim = 9153
id = 9153
pos = 0,0
postype = back
sprpriority = -4
bindtime = -1
ownpal = 1
ignorehitpause = 1
removeongethit = 1
Persistent = 0
scale = 1.5,1.5
RemoveTime = 9999;45;38
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 15210, BG]
type = Explod
trigger1 = time = 0
anim = 15230
id = 9154
pos = 0,0
postype = back
sprpriority = -4
bindtime = -1
ownpal = 1
ignorehitpause = 1
removeongethit = 1
Persistent = 0
scale = 1.5,1.5
RemoveTime = 9999;45;38
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 15210]
type = varset
trigger1 = !time
var(11) = 0

[State 15210]
Type = VarAdd
triggerall = parent,stateno != 3001
Trigger1 = Time > 0
V = 11
Value = 16

[State 15210,Fade]
Type = ModifyExplod
triggerall = parent,stateno != 3001
Trigger1 = Time >= 0
ID = 9153
Trans = AddAlpha
Alpha = 256-Var(11),256

[State 15210,Fade]
Type = ModifyExplod
triggerall = parent,stateno != 3001
Trigger1 = Time >= 0
ID = 9154
Trans = AddAlpha
Alpha = 256-Var(11),0+Var(11)

[State 15210, end]
type = DestroySelf
Trigger1 = var(11) > 256;time = 60
;---------------------------------------------------------------------------
; Vertical line BG
[Statedef 15241]
type = A
physics = N
velset = 0,0
sprpriority = 5
anim = 9999

[State 15241, 1]
Type = NotHitBy
Trigger1 = 1
Value = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP

[state 15241,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 15241, BG]
type = Explod
trigger1 = time = 0
anim = 15241
id = 15241
pos = 0,-20
postype = back
sprpriority = -4
bindtime = -1
ownpal = 1
ignorehitpause = 1
removeongethit = 1
Persistent = 0
scale = 3.7,3.7
RemoveTime = 9999;45;38
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 200, End]
type = Removeexplod
trigger1 = time = 430

[State 200, End]
type = Destroyself
trigger1 = time = 430
;---------------------------------------------------------------------------
; Speed line BG
[Statedef 15242]
type = A
physics = N
velset = 0,0
sprpriority = 5
anim = 9999

[State 15210, 1]
Type = NotHitBy
Trigger1 = 1
Value = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP

[state 15210,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 15210, BG]
type = Explod
trigger1 = time = 0
anim = 9153
id = 9153
pos = 0,0
postype = back
sprpriority = -4
bindtime = -1
ownpal = 1
ignorehitpause = 1
removeongethit = 1
Persistent = 0
scale = 1.5,1.5
RemoveTime = 9999;45;38
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 15210]
type = varset
trigger1 = !time
var(11) = 0

[State 15210]
Type = VarAdd
triggerall = parent,stateno != 3101
Trigger1 = Time > 0
V = 11
Value = 16

[State 15210,Fade]
Type = ModifyExplod
triggerall = parent,stateno != 3101
Trigger1 = Time >= 0
ID = 9153
Trans = AddAlpha
Alpha = 256-Var(11),256

[State 15210,Fade]
Type = ModifyExplod
triggerall = parent,stateno != 3101
Trigger1 = Time >= 0
ID = 9154
Trans = AddAlpha
Alpha = 256-Var(11),0+Var(11)

[State 15210, end]
type = DestroySelf
Trigger1 = var(11) > 256;time = 60
;---------------------------------------------------------------------------
; Speed line BG
[Statedef 15243]
type = A
physics = N
velset = 0,0
sprpriority = 5
anim = 9999

[State 15210, 1]
Type = NotHitBy
Trigger1 = 1
Value = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP

[state 15210,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 15210, BG]
type = Explod
trigger1 = time = 0
anim = 15240
id = 15240
pos = -100,0
postype = back
sprpriority = -4
bindtime = -1
ownpal = 1
ignorehitpause = 1
removeongethit = 1
Persistent = 0
scale = 1.8,1.8
RemoveTime = 9999;45;38
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 200, End]
type = Removeexplod
trigger1 = time = 100
id = 15240

[State 15210, end]
type = DestroySelf
Trigger1 = time = 100
;---------------------------------------------------------------------------
; White BG
[Statedef 15300]
type = A
physics = N
velset = 0,0
sprpriority = 5
anim = 9999

[State 15210, 1]
Type = NotHitBy
Trigger1 = 1
Value = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP

[state 15210,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 15210, 0]
type = Explod
trigger1 = time = 0
anim = 15300
id = 15300
pos = 0,-20
postype = back
sprpriority = 999999
bindtime = -1
ownpal = 1
ignorehitpause = 1
removeongethit = 1
Persistent = 0
scale = 1.7,1.7
RemoveTime = 9999;45;38
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 15210]
Type = VarAdd
Trigger1 = Time = [180,195]
V = 10
Value = 16

[State 15210,Fade]
Type = ModifyExplod
Trigger1 = Time >= 180
ID = 15300
Trans = AddAlpha
Alpha = 256-Var(10),0+Var(10)

[State 15210,Removeexplod]
Type = RemoveExplod
Trigger1 = Var(10) = 256
ID = 15300

[State 15210, end]
type = DestroySelf
Trigger1 = time = 195
;---------------------------------------------------------------------------
; Charge effect 1
[Statedef 32503]
type = A
physics = N
velset = 0,0
sprpriority = 5
anim = 32503

[State 15210, 1]
Type = NotHitBy
Trigger1 = 1
Value = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP

[State 3151, AngleDraw]
type = AngleDraw
trigger1 = anim = 32503
value = -90
ignorehitpause=1

[state 15210,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 15210, end]
type = DestroySelf
Trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Charge effect 2
[Statedef 32504]
type = A
physics = N
velset = 0,0
sprpriority = 5
anim = 32504

[State 15210, 1]
Type = NotHitBy
Trigger1 = 1
Value = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP

[state 15210,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3151, AngleDraw]
type = AngleDraw
trigger1 = anim = 32504
value = -90
ignorehitpause=1

[State 15210, end]
type = DestroySelf
Trigger1 = animtime = 0
;---------------------------------------------------------------------------
; Shot Effect
[Statedef 7801]
type = A
physics = N
velset = 0,0
sprpriority = 5
anim = 7803

[State 15210, 1]
Type = NotHitBy
Trigger1 = 1
Value = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP

[State 1061, Bind]
type = bindtoroot
trigger1 = 1
pos = 50, -210
ignorehitpause = 1

[State 3151, AngleDraw]
type = AngleDraw
trigger1 = anim = 7803
scale = 1.7,1.7
ignorehitpause=1

[state 15210,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1061, End]
type = destroyself
trigger1 = parent,stateno != 3101
;---------------------------------------------------------------------------
; S-Shot Effect (vertical)
[Statedef 7802]
type = A
physics = N
velset = 0,0
sprpriority = 5
anim = 7802

[State 15210, 1]
Type = NotHitBy
Trigger1 = 1
Value = SCA, NT, ST, HT ,NA, SA, HA ,NP, SP, HP

[State 3151, AngleDraw]
type = AngleDraw
trigger1 = anim = 7802
value = -90
scale = 2.5,2.5
ignorehitpause=1

[state 15210,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1061, End]
type = destroyself
trigger1 = parent,stateno != 3222
;----------------------------------------------------------------------
;FLAMES Particles
[StateDef 8040]
type = A
velSet = 0,0
anim = 2153
Sprpriority = 5

[State 8040, Player]
type = VarSet
trigger1 = !Time
var(0) = Parent, var(40)

[State 8040, PosSet]
type = PosSet
trigger1 = PlayerIDexist(var(0))|| NumTarget(2050) || NumTarget(2150)
x = ceil(PlayerID(var(0)), pos x)
y = ceil(PlayerID(var(0)), pos y) + (PlayerID(var(0)), const(size.mid.pos.y))

[State 8040, PosSet (Laying Down)]
type = PosSet
trigger1 = PlayerIDexist(var(0))|| NumTarget(2050) || NumTarget(2150)
trigger1 = PlayerID(var(0)), StateType = L
x = ceil(PlayerID(var(0)), pos x)
y = ceil(PlayerID(var(0)), pos y) - 20

[State 8040, Facing]
type = Turn
trigger1 = PlayerIDexist(var(0))|| NumTarget(2050) || NumTarget(2150)
trigger1 = Facing != (PlayerID(var(0)), Facing)

[State 8040, Flame Explod 1]
type = Explod
trigger1 = 1
anim = 8041
sprPriority = 3
posType = P1
;pos = 30+random%30,-20+random%50
random = ifelse(playerID(var(0)),statetype!=L, playerID(var(0)),const(size.ground.front), playerID(var(0)),const(size.height)) , (playerID(var(0)),const(size.height)/2)*(playerID(var(0)),statetype!=L)
vel = (Random / 2000.0), -3 - (Random / 2000.0)
facing = ifElse(Random < 500, -1, 1)
vfacing = ifElse(Random < 500, -1, 1)
scale = 1,1
ownpal = 1

[State 8040, Flames Explod 2]
type = Explod
trigger1 = PlayerIDexist(var(0)) && gametime%3=0
anim = 8041
sprPriority = 3
posType = P1
random = ifelse(playerID(var(0)),statetype!=L, playerID(var(0)),const(size.ground.front), playerID(var(0)),const(size.height)) , (playerID(var(0)),const(size.height)/2)*(playerID(var(0)),statetype!=L)
vel = (Random / 2000.0), -3 - (Random / 2000.0)
facing = ifElse(Random < 500, -1, 1)
vfacing = ifElse(Random < 500, -1, 1)
scale = 1,1
ownpal = 1

[State End]
type = destroyself
triggerall = numenemy
trigger1 = enemynear, ctrl
trigger2 = enemynear, movetype != H || enemynear, stateno = 5300 && time >= 70
trigger3 = enemynear, statetype = L && (enemynear, stateno != [5080, 5081]) && time >= 70

[State End]
type = destroyself
trigger1 = !numenemy || time >= 140
;--------------------------------------------------------------------------------------------------------------------------------------------------
; Drive gauge logo
;--------------------------------------------------------------------------------------------------------------------------------------------------
[Statedef 15002]
anim = 9999

[State 15010, PalFX]
type = PalFX
triggerall = root,var(50) = [0,999]
trigger1 = !time
trigger2 = (gametime%90)=0
time = 120
sinadd = abs(128),abs(128),abs(128),180
invertall = 0
color = 256
persistent = 1
ignorehitpause = 1
pausemovetime = 9999999
supermovetime = 9999999

[State 15010, PalFX]
type = PalFX
triggerall = root,var(50) = [2000,2999]
trigger1 = !time
trigger2 = (gametime%90)=0
time = 120
add = 0,128,128
mul = 0,128,128
sinadd = abs(128),abs(128),abs(128),60
invertall = 0
color = 256
persistent = 1
ignorehitpause = 1
pausemovetime = 9999999
supermovetime = 9999999

[State 15010, PalFX]
type = PalFX
triggerall = root,var(50) = [1000,1999]
trigger1 = !time
trigger2 = (gametime%90)=0
time = 120
add = 200,0,0
mul = 128,0,0
sinadd = abs(128),abs(0),abs(0),20
invertall = 0
color = 256
persistent = 1
ignorehitpause = 1
pausemovetime = 9999999
supermovetime = 9999999

[State 15010, PalFX]
type = PalFX
triggerall = root,var(50) > 2999
trigger1 = !time
trigger2 = (gametime%90)=0
time = 120
add = 128,128,0
mul = 128,128,0
sinadd = abs(128),abs(128),abs(128),6
invertall = 0
color = 256
persistent = 1
ignorehitpause = 1
pausemovetime = 9999999
supermovetime = 9999999


[State 15002];DG-back
type = Explod
trigger1 = numexplod(15005) = 0
anim = 15005
ID = 15005
pos = Ifelse(Teamside = 1,46,873),ifelse(1.0*gamewidth/gameheight<1.34,640,580)-(20*(var(0)))
postype = left
facing=1-(teamside=2)*2
bindtime = -1
removetime = -1
scale = .8,.8
ontop = 1
sprpriority = 97

;--------------------------------------------------------------------------------------------------------------------------------------------------
; Drive gauge
;--------------------------------------------------------------------------------------------------------------------------------------------------
[Statedef 15001]
anim = 9999

[State 15002]
type = Helper
trigger1 = time = 1
trigger1 = Numhelper(15002) = 0
stateno = 15002
ID = 15002
name = "Drive Gauge logo"
pos = 0,0
postype = left
helpertype = normal
keyctrl = 0
ownpal = 1

[State 15000]
type = Explod
trigger1 = numexplod(15000) = 0
anim = 15000
ID = 15000
pos = Ifelse(Teamside = 1,46,873),ifelse(1.0*gamewidth/gameheight<1.34,635,575)-(20*(var(0)))
postype = left
facing=1-(teamside=2)*2
bindtime = -1
removetime = -1
scale = 1,1
ontop = 1
sprpriority = 99

[State 15000]
type = Explod
trigger1 = numexplod(15003) = 0
anim = 15003
ID = 15003
pos = Ifelse(Teamside = 1,46,873),ifelse(1.0*gamewidth/gameheight<1.34,635,575)-(20*(var(0)))
postype = left
facing=1-(teamside=2)*2
bindtime = -1
removetime = -1
scale = .5,.5
ontop = 1
sprpriority = 99

[State 15000]
type = Explod
trigger1 = numexplod(15004) = 0
anim = 15004
ID = 15004
pos = Ifelse(Teamside = 1,46,873),ifelse(1.0*gamewidth/gameheight<1.34,635,575)-(20*(var(0)))
postype = left
facing=1-(teamside=2)*2
bindtime = -1
removetime = -1
scale = .5,.5
ontop = 1
sprpriority = 99

;--------------------------------------------------------------------------------------------------------------------------------------------------
; Drive gauge bar
;--------------------------------------------------------------------------------------------------------------------------------------------------
[Statedef 15000]
anim = 9999

[State 6000, PlaySnd]
type = Playsnd
trigger1 = !time
value = 15000,0
persistent = 0

[State 15001]
type = Helper
trigger1 = time = 1
trigger1 = Numhelper(15001) = 0
stateno = 15001
ID = 15001
name = "Drive Gauge bar"
pos = 0,0
postype = left
helpertype = normal
keyctrl = 0
ownpal = 1

[State 15010, PalFX]
type = PalFX
triggerall = root,var(50) = [1000,2999]
trigger1 = (gametime%90)=0
time = 200
sinadd = abs(69),abs(69),abs(69),90
invertall = 0
color = 256
persistent = 1
ignorehitpause = 1
pausemovetime = 9999999
supermovetime = 9999999

[State 15010, PalFX]
type = PalFX
triggerall = root,var(50) = 3000
trigger1 = (gametime%90)=0
time = 120
sinadd = abs(128),abs(128),abs(128),180
invertall = 0
color = 256
persistent = 1
ignorehitpause = 1
pausemovetime = 9999999
supermovetime = 9999999

[State 15002];DG-back
type = Explod
trigger1 = numexplod(15002) = 0
anim = 15002
ID = 15002
pos = Ifelse(Teamside = 1,46,873),ifelse(1.0*gamewidth/gameheight<1.34,635,575)-(20*(var(0)))
postype = left
facing=1-(teamside=2)*2
bindtime = -1
removetime = -1
scale = 1,1
ontop = 1
sprpriority = 95

[State 15001]
type = Explod
trigger1 = numexplod(15999) = 0
anim = 15999
ID = 15999
pos = Ifelse(Teamside = 1,46,873),ifelse(1.0*gamewidth/gameheight<1.34,635,575)-(20*(var(0)))
postype = left
facing=1-(teamside=2)*2
bindtime = -1
removetime = -1
scale = 1,1
ontop = 1
sprpriority = 96

[State 15001]
type = Explod
trigger1 = numexplod(15010) = 0
anim = 15010
ID = 15010
pos = Ifelse(Teamside = 1,46,873),ifelse(1.0*gamewidth/gameheight<1.34,635,575)-(20*(var(0)))
postype = left
facing=1-(teamside=2)*2
bindtime = -1
removetime = -1
scale = 1,1
ontop = 1
sprpriority = 96

[State 15001]
type = Explod
trigger1 = numexplod(15011) = 0
anim = 15011
ID = 15011
pos = Ifelse(Teamside = 1,46,873),ifelse(1.0*gamewidth/gameheight<1.34,635,575)-(20*(var(0)))
postype = left
facing=1-(teamside=2)*2
bindtime = -1
removetime = -1
scale = 1,1
ontop = 1
sprpriority = 97

[State 15001]
type = Explod
trigger1 = numexplod(15012) = 0
anim = 15012
ID = 15012
pos = Ifelse(Teamside = 1,46,873),ifelse(1.0*gamewidth/gameheight<1.34,635,575)-(20*(var(0)))
postype = left
facing=1-(teamside=2)*2
bindtime = -1
removetime = -1
scale = 1,1
ontop = 1
sprpriority = 98

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(15010)
trigger1 = root,var(49) > 1000
Id = 15999
scale = 1,1

[State 15001, DG-overlay]
type = ModifyExplod
triggerall = root,var(49) = [0,999]
trigger1 = numexplod(15999) = 1
scale = root,var(49)/1000.0,1
ID = 15999

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(15999)
trigger1 = root,var(49) < 0
Id = 15999
scale = 0,1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(15999)
trigger1 = root,var(49) > 1000
Id = 15999
scale = 0,0

[State 15001, DG-overlay]
type = ModifyExplod
triggerall = root,var(50) = [0,999]
trigger1 = numexplod(15010) = 1
scale = root,var(50)/1000.0,1
ID = 15010

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(15010)
trigger1 = root,var(50) < 0
Id = 15010
scale = 0,1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(15011)
trigger1 = root,var(50) > 2000
Id = 15011
scale = 1,1

[State 15001, DG-overlay]
type = ModifyExplod
triggerall = root,var(50) = [1000,1999]
trigger1 = numexplod(15011) = 1
scale = ((root,var(50)-1000)/1000.0),1
ID = 15011

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = root,var(50) < 1000
trigger1 = NumExplod(15011)
Id = 15011
scale = 0,1

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = NumExplod(15012)
trigger1 = root,var(50) > 3000
Id = 15012
scale = 1,1

[State 15001, DG-overlay]
type = ModifyExplod
triggerall = root,var(50) = [2000,2999]
trigger1 = numexplod(15012) = 1
scale = ((root,var(50)-2000)/1000.0),1
ID = 15012

[State 6100, ModifyExplod]
type = ModifyExplod
triggerall = root,var(50) < 2000
trigger1 = NumExplod(15012)
Id = 15012
scale = 0,1


;[State 15001]
;type = Explod
;trigger1 = numexplod(15010) = 0
;anim = 15010
;ID = 15010
;pos = Ifelse(Teamside = 1,46,873),ifelse(1.0*gamewidth/gameheight<1.34,635,575)-(20*(var(0)))
;postype = left
;bindtime = -1
;facing=1-(teamside=2)*2
;removetime = -1
;scale = 1,1
;ontop = 1

;---------------------------------------------------------------------------
;Drive mode aura
[Statedef 15040]
anim = 9999

[State 0]
type = assertspecial
trigger1 = 1
flag = noshadow
pausemovetime = 999999
supermovetime = 999999

[State 0]
type = bindtoroot
trigger1 = 1
pos = 0,0

[State 5210]
type = PalFX
trigger1 = root,var(50) = [0,999]
time = 1
mul = 255,-220,-220
invertall = 0
color = 256

[State 15041, PalFx LV2]
type = PalFX
trigger1 = root,var(50) = [1000,1999]
time = 1
mul = 0,100,255

[State 15041, PalFx LV3]
type = PalFX
trigger1 = root,var(50) = [2000,3999]
time = 1
mul = 128,128,0
invertall = 0
color = 256

[State 0, Explod]
type = Explod
triggerall = root,stateno != 3002 || root,stateno != 3103
triggerall = root,stateno = 100
trigger1 = time = 5;(gametime%25)=0
anim = 15040+random%4
id = 15041
postype = p1
pos = 0,-100
scale = 0.5,0.5
bindtime = -1
sprpriority = -1
removetime = 60
ownpal = 0
facing = ifelse(random <=499,-1,1)
random = 70,ifelse(root,statetype=C,170,50)

[State 0, Explod]
type = Explod
triggerall = root,stateno != 3002 || root,stateno != 3103
triggerall = root,stateno = 100
trigger1 = !time;(gametime%25)=0
anim = 15040+random%4
id = 15040
postype = p1
pos = 0,-100
scale = 0.5,0.5
bindtime = -1
sprpriority = -1
removetime = 60
ownpal = 0
facing = ifelse(random <=499,-1,1)
random = 70,ifelse(root,statetype=C,170,50)

[State 0, Explod]
type = Explod
triggerall = root,stateno != 3002 || root,stateno != 3103
triggerall = root,stateno != 100
trigger1 = time = 5;(gametime%25)=0
anim = 15040+random%4
id = 15041
postype = p1
pos = 0,ifelse(root,statetype=C,-85,-150)
scale = 0.5,0.5
bindtime = -1
sprpriority = -1
removetime = 60
ownpal = 0
facing = ifelse(random <=499,-1,1)
random = 70,ifelse(root,statetype=C,170,50)

[State 0, Explod]
type = Explod
triggerall = root,stateno != 3002 || root,stateno != 3103
triggerall = root,stateno != 100
trigger1 = !time;(gametime%25)=0
anim = 15040+random%4
id = 15040
postype = p1
pos = 0,ifelse(root,statetype=C,-85,-150)
scale = 0.5,0.5
bindtime = -1
sprpriority = -1
removetime = 60
ownpal = 0
facing = ifelse(random <=499,-1,1)
random = 70,ifelse(root,statetype=C,170,50)

[State 15210]
Type = VarAdd
Trigger1 = Time = [0,60]
V = 12
Value = 6

[State 15210,invisible]
Type = ModifyExplod
Trigger1 = root,stateno = 3002 || root,stateno = 3103
ID = 15040
Trans = AddAlpha
Alpha = 0,256
scale =0,0

[State 15210,Fade]
Type = ModifyExplod
Trigger1 = Time >= 0
ID = 15040
Trans = AddAlpha
Alpha = 256-Var(12),256
scale = 0.5+(0.01525 * Time), 0.5+(0.01525 * Time)
bindtime = -1

[State 15210]
Type = VarAdd
Trigger1 = Time = [5,60]
V = 13
Value = 6

[State 15210,invisible]
Type = ModifyExplod
Trigger1 = root,stateno = 3002 || root,stateno = 3103
ID = 15041
Trans = AddAlpha
Alpha = 0,256
scale =0,0

[State 15210,Fade]
Type = ModifyExplod
Trigger1 = Time >= 5
ID = 15041
Trans = AddAlpha
Alpha = 256-Var(12),256
scale = 0.5+(0.01525 * Time), 0.5+(0.01525 * Time)
bindtime = -1

[State 15210, end]
type = DestroySelf
Trigger1 = time = 60;var(13) > 256

;---------------------------------------------------------------------------
;Drive mode aura glow
[StateDef 15041]
anim = 9999
ctrl = 0
sprpriority = -2

[State 15041, Bindtoroot]
type = BindToRoot
trigger1 = 1

[State 15041, Turn]
type = turn
trigger1 = facing != Root,facing

[State 15041, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 15041, VarSet]
type = VarSet
trigger1 = Root, HitPauseTime = 0
var(0) = Root, AnimElemNo(0)

[State 15041, Anim]
type = ChangeAnim
triggerall = SelfAnimExist(Root, Anim)
triggerall = AnimExist(Root, Anim)
trigger1 = Root, Anim < 6003
value = Root, Anim
elem = Var(0)

[State 15041, Anim]
type = ChangeAnim
triggerall = SelfAnimExist(Root,Anim)
triggerall = AnimExist(Root,Anim)
triggerall = Root,HitPauseTime > 0
trigger1 = Root,AnimElemNo(0) > AnimElemNo(0)
value = Root,Anim
elem = Root,AnimElemNo(0)

[State 15041, AssertSpecial]
type = AssertSpecial
trigger1 = Time <= 0
trigger2 = !SelfAnimExist(Root,Anim)
trigger3 = !AnimExist(Root,Anim)
trigger4 = Root,StateNo = 3002 || Root,StateNo >= 3103
flag = Invisible

[State 15041, AngleDraw]
type = angledraw
trigger1 = 1
scale = 1+var(1)*.002,1+var(1)*.0015

[State 15041, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256

[State 15041, PalFx LV1]
type = palfx
trigger1 = root,var(50) = [0,999]
time = 1
add = 255,-220,-220
invertall = 0
color = 256

[State 15041, PalFx LV2]
type = PalFX
trigger1 = root,var(50) = [1000,1999]
time = 1
add = 0,100,255
mul = 0,100,255
invertall = 0
color = 256

[State 15041, PalFx LV3]
type = PalFX
trigger1 = root,var(50) = [2000,3999]
time = 1
add = 128,128,0
invertall = 0
color = 256

[State 15041, VarAdd]
type = varadd
trigger1 = 1
var(2) = 1

[State 15041, VarAdd]
type = varadd
trigger1 = var(2) <= 30
var(1) = 1

[State 15041, VarAdd]
type = varadd
trigger1 = var(2) > 30
var(1) = -1

[State 15041, VarAdd]
type = varset
trigger1 = var(2) >= 60
var(2) = 0

[State 15041, DestroySelf]
type = DestroySelf
trigger1 = Root,Var(51) = 0
;---------------------------------------------------------------------------
;Drive mode offline aura glow
[StateDef 15042]
anim = 9999
ctrl = 0
sprpriority = -2

[State 15041, Bindtoroot]
type = BindToRoot
trigger1 = 1

[State 15041, Turn]
type = turn
trigger1 = facing != Root,facing

[State 15041, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 15041, VarSet]
type = VarSet
trigger1 = Root, HitPauseTime = 0
var(0) = Root, AnimElemNo(0)

[State 15041, Anim]
type = ChangeAnim
triggerall = SelfAnimExist(Root, Anim)
triggerall = AnimExist(Root, Anim)
trigger1 = Root, Anim < 6003
value = Root, Anim
elem = Var(0)

[State 15041, Anim]
type = ChangeAnim
triggerall = SelfAnimExist(Root,Anim)
triggerall = AnimExist(Root,Anim)
triggerall = Root,HitPauseTime > 0
trigger1 = Root,AnimElemNo(0) > AnimElemNo(0)
value = Root,Anim
elem = Root,AnimElemNo(0)

[State 15041, AssertSpecial]
type = AssertSpecial
trigger1 = Time <= 0
trigger2 = !SelfAnimExist(Root,Anim)
trigger3 = !AnimExist(Root,Anim)
trigger4 = Root,StateNo >= 3002
flag = Invisible

[State 15041, AngleDraw]
type = angledraw
trigger1 = 1
scale = 1+var(1)*.002,1+var(1)*.0015

[State 15041, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 128, 256

[State 15041, PalFx LV0]
type = palfx
trigger1 = 1
time = 1
add = 0,0,0
invertall = 0
color = 256

[State 15041, VarAdd]
type = varadd
trigger1 = 1
var(2) = 1

[State 15041, VarAdd]
type = varadd
trigger1 = var(2) <= 30
var(1) = 1

[State 15041, VarAdd]
type = varadd
trigger1 = var(2) > 30
var(1) = -1

[State 15041, VarAdd]
type = varset
trigger1 = var(2) >= 60
var(2) = 0

[State 15041, DestroySelf]
type = DestroySelf
trigger1 = Root,Var(49) >= 1000
;---------------------------------------------------------------------------
; Instant Comment
[Statedef 28500] 
type  = A
movetype = I
physics  = N
ctrl  = 0
anim  = 9999
SprPriority = -1

[State 8701,Explod]
type = Explod
Triggerall = Numexplod(28503) = 0
Triggerall = Root,StateNo = 1050 || Root,StateNo = 1051 || Root,StateNo = 1052 || Root,StateNo = 1053
trigger1 = time = 20
anim = 28503
id = 28500
postype = left
Scale = .6,.6
vel = 1.5-(root,facing = -1)*3,0
;vel = 1-(teamside=2)*2,0
pos = Ifelse(root,facing = 1,170,740),220
;pos = Ifelse(Teamside = 1,150,780),220
bindtime = -1
sprpriority = 99
removetime = -1
;facing=1-(root,facing = -1)*2
;facing=1-(teamside=2)*2
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 8701,Explod]
type = Explod
Triggerall = Numexplod(28503) = 0
Triggerall = Root,StateNo = 810
trigger1 = time = 20
anim = 28504
id = 28500
postype = left
Scale = .6,.6
vel = 1.5-(root,facing = -1)*3,0
;vel = 1-(teamside=2)*2,0
pos = Ifelse(root,facing = 1,170,740),220
;pos = Ifelse(Teamside = 1,150,780),220
bindtime = -1
sprpriority = 99
removetime = -1
;facing=1-(root,facing = -1)*2
;facing=1-(teamside=2)*2
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 8701,Explod]
type = Explod
Triggerall = Numexplod(28503) = 0
Triggerall = Root,StateNo = 1201
trigger1 = time = 20
anim = 28505
id = 28503
postype = left
Scale = .6,.6
vel = 1.5-(root,facing = -1)*3,0
;vel = 1-(teamside=2)*2,0
pos = Ifelse(root,facing = 1,170,740),220
;pos = Ifelse(Teamside = 1,150,780),220
bindtime = -1
sprpriority = 99
removetime = -1
;facing=1-(root,facing = -1)*2
;facing=1-(teamside=2)*2
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 8701,Explod]
type = Explod
Triggerall = Numexplod(28503) = 0
Triggerall = Root,StateNo = 700 || Root,StateNo = 845 || Root,prevStateNo = 845
trigger1 = time = 19
anim = ifelse(random < 500,28506,28507)
id = 28503
postype = left
Scale = .6,.6
vel = 1.5-(root,facing = -1)*3,0
;vel = 1-(teamside=2)*2,0
pos = Ifelse(root,facing = 1,170,740),220
;pos = Ifelse(Teamside = 1,150,780),220
bindtime = -1
sprpriority = 99
removetime = -1
;facing=1-(root,facing = -1)*2
;facing=1-(teamside=2)*2
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 8701,Explod]
type = Explod
Triggerall = Numexplod(28503) = 0
Triggerall = Root,StateNo = 5150
trigger1 = time = 20
anim = 28508
id = 28503
postype = left
Scale = .6,.6
vel = 1.5-(root,facing = -1)*3,0
;vel = 1-(teamside=2)*2,0
pos = Ifelse(root,facing = 1,170,740),220
;pos = Ifelse(Teamside = 1,150,780),220
bindtime = -1
sprpriority = 99
removetime = -1
;facing=1-(root,facing = -1)*2
;facing=1-(teamside=2)*2
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 8701,Explod]
type = Explod
Triggerall = Numexplod(28503) = 0
Triggerall = Root,StateNo = 3102
trigger1 = time = 20
anim = 28509
id = 28503
postype = left
Scale = .6,.6
vel = 1.5-(root,facing = -1)*3,0
;vel = 1-(teamside=2)*2,0
pos = Ifelse(root,facing = 1,170,740),220
;pos = Ifelse(Teamside = 1,150,780),220
bindtime = -1
sprpriority = 99
removetime = -1
;facing=1-(root,facing = -1)*2
;facing=1-(teamside=2)*2
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 8701,Explod]
type = Explod
Triggerall = Numexplod(28503) = 0
Triggerall = Root,StateNo = 3101
trigger1 = time = 20
anim = 28571
id = 28503
postype = left
Scale = .6,.6
vel = 1.5-(root,facing = -1)*3,0
;vel = 1-(teamside=2)*2,0
pos = Ifelse(root,facing = 1,170,740),220
;pos = Ifelse(Teamside = 1,150,780),220
bindtime = -1
sprpriority = 99
removetime = -1
;facing=1-(root,facing = -1)*2
;facing=1-(teamside=2)*2
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 8701,Explod]
type = Explod
trigger1 = time = 0
anim = 28510
id = 28500
postype = left
Scale = .6,.6
vel = 1.5-(root,facing = -1)*3,0
;vel = 1-(teamside=2)*2,0
pos = Ifelse(root,facing = 1,150,760),220
;pos = Ifelse(Teamside = 1,150,780),220
bindtime = -1
sprpriority = 98
removetime = -1
facing=1-(root,facing = -1)*2
;facing=1-(teamside=2)*2
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 8701,Explod]
type = Explod
trigger1 = time = 0
anim = 28521
id = 28501
postype = left
Scale = .6,.6
vel = 1.5-(root,facing = -1)*3,0
;vel = 1-(teamside=2)*2,0
pos = Ifelse(root,facing = 1,-170,1086),180
;pos = Ifelse(Teamside = 1,-190,1106),180
bindtime = -1
sprpriority = 97
removetime = -1
facing=1-(root,facing = -1)*2
;facing=1-(teamside=2)*2
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 8701,Explod]
type = Explod
trigger1 = time = 0
anim = 28500
id = 28590
postype = left
Scale = .6,.6
vel = 1.5-(root,facing = -1)*3,0
;vel = 1-(teamside=2)*2,0
pos = Ifelse(root,facing = 1,-170,1086),180
;pos = Ifelse(Teamside = 1,-190,1106),180
facing=1-(root,facing = -1)*2
;facing=1-(teamside=2)*2
bindtime = -1
sprpriority = 96
removetime = -1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 8701,Explod]
type = Explod
trigger1 = time = 0
anim = 28590
id = 28590
postype = left
facing=1-(teamside=2)*2
Scale = .6,.6
vel = 1.5-(root,facing = -1)*3,0
;vel = 1-(teamside=2)*2,0
pos = Ifelse(root,facing = 1,-170,1086),180
;pos = Ifelse(Teamside = 1,-190,1106),180
facing=1-(root,facing = -1)*2
;facing=1-(teamside=2)*2
bindtime = -1
sprpriority = 96
removetime = -1
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State var]
type = varset
trigger1 = time = 0
fvar(8) = .15
ignorehitpause = 1

[State var]
type = varset
trigger1 = Time = 0
fvar(9) = 4.2
ignorehitpause = 1

[State var]
type = varadd
trigger1 = fvar(9) > 0.6
fvar(9) = -fvar(8)
ignorehitpause = 1

;[State var]
;type = varadd
;trigger1 = var(9) != 1
;fvar(8) = .25
;ignorehitpause = 1

[State explod]
type = ModifyExplod
trigger1 = 1
ID = 28503
scale = fvar(9),fvar(9)
ignorehitpause = 1
pausemovetime = 10000
supermovetime = 9999

[State explod]
type = ModifyExplod
trigger1 = 1
ID = 28500
scale = fvar(9),fvar(9)
ignorehitpause = 1
pausemovetime = 10000
supermovetime = 9999

[State explod]
type = ModifyExplod
trigger1 = 1
ID = 28590
scale = fvar(9),fvar(9)
ignorehitpause = 1
pausemovetime = 10000
supermovetime = 9999

[State 15210]
Type = VarAdd
Trigger1 = Time = [0,80]
V = 10
Value = 16
ignorehitpause = 1

[State 15210]
Type = Varset
Trigger1 = Time = 80
V = 10
Value = 0
ignorehitpause = 1

[State 15210]
Type = VarAdd
Trigger1 = Time = [80,160]
V = 10
Value = 16
ignorehitpause = 1

[State 15210,Fade]
Type = ModifyExplod
Trigger1 = Time < 80
ID = 28500
Trans = AddAlpha
Alpha = 0+Var(10),256-Var(10)
;scale = (0.02525 * Time), (0.02525 * Time)
pausemovetime = 10000
supermovetime = 9999

[State 15210,Fade]
Type = ModifyExplod
Trigger1 = Time >= 80
ID = 28500
Trans = AddAlpha
Alpha = 256-Var(10),0+Var(10)
;scale = (0.02525 * Time), (0.02525 * Time)
pausemovetime = 10000
supermovetime = 9999

[State 15210,Fade]
Type = ModifyExplod
Trigger1 = Time < 80
ID = 28501
Trans = AddAlpha
Alpha = 0+Var(10),256-Var(10)
;scale = (0.02525 * Time), (0.02525 * Time)
pausemovetime = 10000
supermovetime = 9999

[State 15210,Fade]
Type = ModifyExplod
Trigger1 = Time >= 80
ID = 28501
Trans = AddAlpha
Alpha = 256-Var(10),0+Var(10)
pausemovetime = 10000
supermovetime = 9999

[State 15210,Fade]
Type = ModifyExplod
Trigger1 = Time < 80
ID = 28503
Trans = AddAlpha
Alpha = 0+Var(10),256-Var(10)
;scale = (0.02525 * Time), (0.02525 * Time)
pausemovetime = 10000
supermovetime = 9999

[State 15210,Fade]
Type = ModifyExplod
Trigger1 = Time >= 80
ID = 28503
Trans = AddAlpha
Alpha = 256-Var(10),0+Var(10)
;scale = (0.02525 * Time), (0.02525 * Time)
pausemovetime = 10000
supermovetime = 9999

[State 15210,Fade]
Type = ModifyExplod
Trigger1 = Time >= 80
ID = 28590
Trans = AddAlpha
Alpha = 256-Var(10),0+Var(10)
vel = 3,0
;scale = (0.02525 * Time), (0.02525 * Time)
pausemovetime = 10000
supermovetime = 9999

[State 15210,Removeexplod]
Type = RemoveExplod
Trigger1 = time > 160
ID = 28500
ignorehitpause = 1

[State 15210,Removeexplod]
Type = RemoveExplod
Trigger1 = time > 160
ID = 28590
ignorehitpause = 1

[State 15210,Removeexplod]
Type = RemoveExplod
Trigger1 = time > 160
ID = 28501
ignorehitpause = 1

[State end]
type = DestroySelf
trigger1 = time > 160
ignorehitpause = 1