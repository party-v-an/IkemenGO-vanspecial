; Spin To's constants and state file.

;Spin to's 11p is T-Spin. Raise garbage tetris blocks on the enemy from the ground, with constantly active hitboxes.

[Data]
;Amount of life to start with
life = 1001
;attack power (more is stronger)
attack = 100
;defensive power (more is stronger)
defence = 100
;Percentage to increase defense everytime player is knocked down
fall.defence_up = 55
;Meter for super moves
power = 3000
;Time which player lies down for, before getting up
liedown.time = 60
;Number of points for juggling
airjuggle = 9001
;Default hit spark number for HitDefs
sparkno = S7002
;Default guard spark number
guard.sparkno = 40
;1 to enable echo on KO
KO.echo = 0
;Volume offset (negative for softer) 
volume = -25 ;Spin To is pretty loud anyway.

;Variables with this index and above will not have their values
;reset to 0 between rounds or matches. There are 60 int variables,
;indexed from 0 to 59, and 40 float variables, indexed from 0 to 39.
;If omitted, then it defaults to 60 and 40 for integer and float
;variables repectively, meaning that none are persistent, i.e. all
;are reset. If you want your variables to persist between matches,
;you need to override state 5900 from common1.cns.
IntPersistIndex = 60
FloatPersistIndex = 18

[Size]
xscale = 1           ;Horizontal scaling factor.
yscale = 1           ;Vertical scaling factor.
ground.back = 20     ;Player width (back, ground)
ground.front = 20    ;Player width (front, ground)
air.back = 12        ;Player width (back, air)
air.front = 12       ;Player width (front, air)
height = 60          ;Height of player (for opponent to jump over)
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too
head.pos = -5, -90   ;Approximate position of head
mid.pos = -5, -60    ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y). Recommended 0,0

[Velocity]
walk.fwd  = 3.4      ;Walk forward
walk.back = -2.2     ;Walk backward
run.fwd  = 7, 0    ;Gotta go fast (x, y)
run.back = -4.5,-7.8 ;Hop backward (x, y)
jump.neu = 0,-11.4    ;Neutral jumping velocity (x, y)
jump.back = -2.55    ;Jump back Speed (x, y)
jump.fwd = 5.5       ;Jump forward Speed (x, y)
runjump.back = -2.55,-13.1 ;Running jump speeds (opt)
runjump.fwd = 2.5,-14.1      ;.
airjump.neu = 0,-18.1      ;.
airjump.back = -2.55      ;Air jump speeds (opt)
airjump.fwd = 2.5         ;.
air.gethit.groundrecover = -.15,-3.5  ;Velocity for ground recovery state (x, y) **MUGEN 1.0**
air.gethit.airrecover.mul = .5,.2     ;Multiplier for air recovery velocity (x, y) **MUGEN 1.0**
air.gethit.airrecover.add = 0,-4.5    ;Velocity offset for air recovery (x, y) **MUGEN 1.0**
air.gethit.airrecover.back = -1       ;Extra x-velocity for holding back during air recovery **MUGEN 1.0**
air.gethit.airrecover.fwd = 0         ;Extra x-velocity for holding forward during air recovery **MUGEN 1.0**
air.gethit.airrecover.up = -2         ;Extra y-velocity for holding up during air recovery **MUGEN 1.0**
air.gethit.airrecover.down = 1.5      ;Extra y-velocity for holding down during air recovery **MUGEN 1.0**

[Movement]
airjump.num = 1       ;Number of air jumps allowed (opt)
airjump.height = 35   ;Minimum distance from ground before you can air jump (opt)
yaccel = .44          ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching
stand.friction.threshold = 2          ;If player's speed drops below this threshold while standing, stop his movement **MUGEN 1.0**
crouch.friction.threshold = .05       ;If player's speed drops below this threshold while crouching, stop his movement **MUGEN 1.0**
air.gethit.groundlevel = 25           ;Y-position at which a falling player is considered to hit the ground **MUGEN 1.0**
air.gethit.groundrecover.ground.threshold = -20 ;Y-position below which falling player can use the recovery command **MUGEN 1.0**
air.gethit.groundrecover.groundlevel = 10   ;Y-position at which player in the ground recovery state touches the ground **MUGEN 1.0**
air.gethit.airrecover.threshold = -1  ;Y-velocity above which player may use the air recovery command **MUGEN 1.0**
air.gethit.airrecover.yaccel = .35    ;Vertical acceleration for player in the air recovery state **MUGEN 1.0**
air.gethit.trip.groundlevel = 15      ;Y-position at which player in the tripped state touches the ground **MUGEN 1.0**
down.bounce.offset = 0, 20            ;Offset for player bouncing off the ground (x, y) **MUGEN 1.0**
down.bounce.yaccel = .4               ;Vertical acceleration for player bouncing off the ground **MUGEN 1.0**
down.bounce.groundlevel = 12          ;Y-position at which player bouncing off the ground touches the ground again **MUGEN 1.0**
down.friction.threshold = .05         ;If the player's speed drops below this threshold while lying down, stop his movement **MUGEN 1.0**

;Default language victory quotes (optional).  **MUGEN 1.0**
;If this section is included, the default language victory quotes must be in English.
[Quotes]
; Up to 100 victory quotes can be specified per language (victory0 - victory99)
victory1 = "My Spin To Technique is totally original! Please donut steal!"
victory2 = "The world of MUGEN is a scary place, kiddo. Look for a fair fight someplace else!"
victory3 = "I will not falter!"
victory4 = "I spin. The Earth spins. That must mean I weild the power of the Earth itself!"
victory5 = "Shut the fuck up, you meme loving fuck."
victory6 = "TheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheTheThe might of Demacia will never fail!"
victory7 = "Oi! Where you off to?"
victory8 = "I have no comment."
victory9 = "Oh baby, a triple!"
victory10 = "What? I bugged out? Of course not. It's a feature!"
victory11 = "You're already spinning."
victory12 = "That was almost too easy!"
victory13 = "I have 2404 triggers."
victory14 = "Looks like I was the badder dude."
victory15 = "Let's go for a burger.... Ha! Ha! Ha! Ha!"
victory16 = "I am cheeseburger"
victory17 = "Give me liberty or give me an internet connection!"
victory18 = "Cheer up! At least you didn't step on a Lego block."
victory19 = "The secret is in the icing, but I'll never tell!"

;---------------------------------------------------------------------------
; Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0

[State 0, ChangeState]
type = ChangeState
triggerall = Ishelper
trigger1 = palno = 11
trigger2 = palno = 12
value = 2
ctrl = 0


[State 0, ChangeState]
type = ChangeState
triggerall = roundstate <= 2
trigger1 = palno = 11
trigger2 = palno = 12
value = 1
ctrl = 0

[State 250, 1]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
trigger5 = animelem = 10
value = 0, 6

[State 0, 2]
type = ChangeAnim
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 0

[State 0, 3]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 4] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < Const(movement.stand.friction.threshold)
trigger2 = Time = 4
x = 0

[State 0, 5] ;Are you okay? Buster Wolf!
type = ChangeState
trigger1 = !alive
value = 5050
ctrl = 0

[State 0, 6]
type = Offset
trigger1 = 1
x = 0
y = -45

[State 0, 7]
type = VarSet
trigger1 = 1
fv = 5
value = time*45

[State 0, 8]
type = AngleDraw
trigger1 = 1
value = fvar(5)

[State 0, 9] ;Wait, am I actually on the ground?
type = ChangeState
trigger1 = Pos y < 0
value = 50
ctrl = 1

[State 0, 10] ;Why am I underground, get out of there.
type = PosSet
trigger1 = Pos y > 0
y = 0

;---------------------------------------------------------------------------
; Idle (T-Spin)
[Statedef 1]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 1
sprpriority = -3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 2

;[State 0, HitOverride]
;type = HitOverride
;trigger1 = 1
;attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;stateno = 1
;time = 2

[State 0, ChangeState]
type = ChangeState
trigger1 = Ishelper
value = 2
ctrl = 0

[State 250, 1]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
value = 0, 6


[State 0, LifeAdd]
type = LifeAdd
trigger1 = (helper(2), time >= 3000)
value = -1
kill = 1
absolute = 1

[State 0, Helper]
type = Helper
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
trigger4 = command = "x"
trigger5 = command = "y"
trigger6 = command = "z"
trigger7 = command = "start"
trigger8 = time >= 600
trigger8 = random <= 500
trigger8 = var(59) > 0
helpertype = normal ;player
name = "Puyo Trash"
ID = 3
stateno = 3
pos = -200+random%401, -300
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0


[State 0, PosAdd]
type = PosAdd
trigger1 = command = "holdfwd"
trigger2 = random <= 200
trigger2 = var(59) > 0
x = 1.8

[State 0, PosAdd]
type = PosAdd
trigger1 = command = "holdback"
trigger2 = random <= 300
trigger2 = var(59) > 0
x = -1.8

[State 0, PosAdd]
type = PosAdd
trigger1 = command = "holdup"
trigger2 = random <= 200
trigger2 = var(59) > 0
y = -1.8

[State 0, PosAdd]
type = PosAdd
triggerall = pos y <= -10
trigger1 = command = "holddown"
trigger2 = random <= 100
trigger2 = var(59) > 0
y = 1.8

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x <= -30

[State 0, ChangeState]
type = ChangeState
trigger1 = roundstate > 2
value = 111
ctrl = 0


;---------------------------------------------------------------------------
; Garbage Blocks (pal 11)
; CNS difficulty: easy
[Statedef 2]
type    = S                      
movetype= A                      
physics = S                                          
velset = 0,0                     
ctrl = 0                         
anim = 2                      
poweradd = 10                    
sprpriority = -999999999   

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, 1]
type = HitDef
trigger1 = random <= 150
attr = S, NA                     
damage = 8, 2                  
animtype = Light                 
guardflag = MA                   
hitflag = MAFD                  
priority = 7, Hit                
pausetime = 0, 6                 
sparkno = S7000                      
sparkxy = -10, -76               
hitsound = S8, 4                
guardsound = S8, 3                
ground.type = High               
ground.slidetime = 5             
ground.hittime  = 11             
ground.velocity = 0             
airguard.velocity = 0,0  
air.type = High                  
air.velocity = 0,0          
air.hittime = 15  
sprpriority = -999999999   

[State 1832, PosSet]
type = PosSet
trigger1 = 1
x = 0

;---------------------------------------------------------------------------
; Puyo Trash (pal 11)
; CNS difficulty: easy
[Statedef 3]
type    = A                     
movetype= A                      
physics = N                                         
velset = 0,10                    
ctrl = 0                         
anim = 3                     
poweradd = 10                    
sprpriority = 999999999   

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA                     
damage = 88, 31                  
animtype = Light                 
guardflag = MA                   
hitflag = MAFD                  
priority = 7, Hit                
pausetime = 0, 0                 
sparkno = S7000                      
sparkxy = -10, -76               
hitsound = S8, 9              
guardsound = S8, 3                
ground.type = High               
ground.slidetime = 5             
ground.hittime  = 11             
ground.velocity = 0             
airguard.velocity = 0,0  
air.type = High                  
air.velocity = 0,12          
air.hittime = 15  
fall = 1
fall.recover = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 200 

;---------------------------------------------------------------------------
; Back to our regularly scheduled Spin To
[Statedef 111]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 111
sprpriority = 0
velset = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = time = 2
y = 8

[State 0, VelAdd]
type = VelAdd
trigger1 = time >= 2
y = 0.2

[State 0, ChangeState]
type = ChangeState
trigger1 = vel y >= 0 && pos y >= -10
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Crouching
[Statedef 11]
type    = C
physics = C
anim = 11
sprpriority = 0

[State 11, Dance With Me]
type = PowerAdd
trigger1 = numhelper(1915) = 1
value = 1

[State 11, 1] ;Change from turning animation
type = ChangeAnim
trigger1 = Anim = 6 && AnimTime = 0
value = 11

[State 11, 2] ;Stop moving if low velocity
type = VelSet
trigger1 = abs(vel x) < Const(movement.crouch.friction.threshold)
x = 0

[State 11, VelSet]
type = VelSet
triggerall = Vel X != 1.5
triggerall = Pos Y >= 0
trigger1 = command = "holdfwd"
x = 0.5

[State 11, VelSet]
type = VelSet
triggerall = Vel X != -1.5 
triggerall = Pos Y >= 0
trigger1 = command = "holdback"
x = -0.25
;---------------------------------------------------------------------------
; Jump Start
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1
facep2 = 1

[State 40, AI] ; For AI
type = PlaySnd
Triggerall = var(59) > 0
trigger1 = prevstateno = 430
trigger1 = animelem = 1
value = 5, 16

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; AirJump Start
[Statedef 45]
type    = A
physics = N
ctrl = 0
velset = 0,0

[State 45, PlaySnd]
type = PlaySnd
trigger1 = stateno = 45 && time = 1
trigger1 = var(8) = 0
value = S45,0

[State 45, 1]
type = ChangeAnim
trigger1 = stateno = 45 && time = 1
value = 48

[State 45, 3]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 45, 4]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 45, 5]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 45, 6]
type = VelSet
trigger1 = Time = 2
x = ifelse(sysvar(1)=0, const(velocity.airjump.neu.x), ifelse(sysvar(1)=1, const(velocity.airjump.fwd.x), const(velocity.airjump.back.x)))
y = const(velocity.airjump.y)

[State 45, 7]
type = ChangeState
trigger1 = Time = 2
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Jump Up
[Statedef 50]
type    = A
physics = A

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, Airjump]
type = ChangeAnim
trigger1 = prevstateno = 45 && time = 0
value = 48

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = prevstateno !=45
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > Const720p(-8)
trigger1 = SelfAnimExist(anim + 3)
trigger1 = anim >= 41 && anim <= 43
persistent = 0
value = Anim + 3

[State 50, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = -(time*65)

[State 50, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)

;---------------------------------------------------------------------------
; Run forward
[Statedef 100]
type    = S
physics = S
anim = 100
sprpriority = 1
movetype = A

[State 100, Hitdef]
type = HitDef
trigger1 = animelem = 2
attr = S, SA
animtype  = Hard
hitflag = MAFD
damage    = 30, 10
priority  = 4
guardflag = MA
pausetime = 0,0
sparkno = S7002
sparkxy = 0,-65
hitsound   = s200,1
guardsound = s8,3
ground.type = Low
ground.slidetime = 12
ground.hittime  = 17
ground.velocity = 9, -6
guard.velocity = -6
air.velocity = -9, -6
airguard.velocity = -3.5,-9.5
air.fall = 1
ignorehitpause = 1

[State 100, Width]
type = Width
trigger1 = stateno = 100
value = 20,0

[State 100, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S200,0
loop = 1
channel = 2
ignorehitpause = 1
persistent = 0

[State 100, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = ChangeState
Triggerall = var(59) = 0
trigger1 = command != "holdfwd"
value = 0
ctrl = 1

[State 100, For AI]
type = ChangeState
Triggerall = var(59) > 0
trigger1 = movehit
trigger2 = time > 62
value = 0
ctrl = 1

[State 100, Offset]
type = Offset
trigger1 = 1
x = 0
y = -45


[State 100, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = -(time*9)

 
[State 100, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)

;---------------------------------------------------------------------------
; Hop backwards
[Statedef 105]
type    = A
physics = A
ctrl = 0
anim = 105
sprpriority = 1

[State 105, 1]
type = VelSet
trigger1 = Time = 0
x = const(velocity.run.back.x)
y = const(velocity.run.back.y)

[State 105, 2]
type = VelSet
trigger1 = time = 12
x = const(velocity.run.back.x)
y = -const(velocity.run.back.y)

[State 105, 1]
type = VelSet
trigger1 = Time = 20
x = const(velocity.run.back.x)
y = const(velocity.run.back.y)

[State 105, 2]
type = VelSet
trigger1 = time = 28
x = const(velocity.run.back.x)
y = -const(velocity.run.back.y)

[State 105, 2]
type = VelSet
trigger1 = time = 32
x = const(velocity.run.back.x)
y = const(velocity.run.back.y)

[State 105, 2]
type = VelSet
trigger1 = time = 47
x = const(velocity.run.back.x)
y = -const(velocity.run.back.y)


[State 105, 2]
type = CtrlSet
trigger1 = Time = 2
value = 1

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106

;---------------------------------------------------------------------------
; Crouch guard (guarding)
[Statedef 131]
type    = C
movetype= A
physics = C

[State 131, Keep Spinning] ; Continues the Guarding animtion when holding back while the move connects.
type = ChangeState
trigger1 = command = "holdback"
trigger1 = movehit
value = 131

[State 131, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 8

[State 131, 1]
type = ChangeAnim
trigger1 = Anim != 131
value = 131

[State 131, Lo to Hi]
type = ChangeState
trigger1 = command != "holddown"
value = 130

[State 131]
type = PlaySnd
trigger1 = movehit
value = S5, 9

[State 131, HitDef]
type = HitDef
trigger1 = p2name = "Spin To Win" ;To accomidate Spin To's weird hit animation
trigger1 = time = 1
attr = S,NA        
hitflag = MAF        
guardflag = MA         
animtype = light          
air.animtype = light
damage = 20,0
pausetime = 0 ,0
sparkno = S7000
guard.sparkno = 0
sparkxy = 10,-20
hitsound = S5,9
guardsound = S8,11
ground.type = Low      
ground.slidetime = 10
ground.hittime = 14
air.hittime = 15
ground.velocity = -5,0
air.velocity = -5,-1
;p2stateno = -1

[State 131, HitDef]
type = HitDef
trigger1 = P2name != "Spin To Win" 
trigger1 = time = 0
attr = S,NA        
hitflag = MAF       
guardflag = MA         
animtype = light          
air.animtype = light
damage = 5,0
pausetime = 0 ,0
sparkno = S7001
guard.sparkno = 0
sparkxy = 10,-20
hitsound = S5,9
guardsound = S8,11
ground.type = Low      
ground.slidetime = 10
ground.hittime = 14
air.hittime = 15
ground.velocity = -1,0
air.velocity = -1,-1
;p2stateno = -1

[State 131, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger1 = !inguarddist
trigger2 = !inguarddist
trigger2 = time > 30
value = 140

;---------------------------------------------------------------------------
; Air guard (guarding)
[Statedef 132]
type    = A
physics = N

[State 132, 1]
type = ChangeAnim
trigger1 = Anim != 132
value = 132

[State 132, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 132, 3]
type = VarSet
trigger1 = 1
sysfvar(0) = (pos y >= 0) && (vel y > 0)

[State 132, 4]
type = VelSet
trigger1 = sysfvar(0)
y = 0

[State 132, 5]
type = PosSet
trigger1 = sysfvar(0)
y = 0

[State 132, 6]
type = ChangeState
trigger1 = sysfvar(0)
trigger1 = command = "holdback"
trigger1 = inguarddist
value = 130

[State 132, 7]
type = ChangeState
trigger1 = sysfvar(0)
value = 52

[State 132, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

[State 132, Offset]
type = Offset
trigger1 = 1
x = 0
y = -45

[State 132, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*45


[State 132, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


;---------------------------------------------------------------------------
; Air guard hit (shaking)
[Statedef 154]
type    = A
movetype= H
physics = N
velset = 0,0

[State 154, 1]
type = ChangeAnim
trigger1 = 1
value = 152

[State 154, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 155 

[State 154, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

[State 154, Offset]
type = Offset
trigger1 = 1
x = 0
y = -45
 

[State 154, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*45

 
[State 154, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)

;---------------------------------------------------------------------------
; Air guard hit (knocked away)
[Statedef 155]
type    = A
movetype= H
physics = N
anim = 152

[State 155, Offset]
type = Offset
trigger1 = 1
x = 0
y = -45


[State 155, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*45

 
[State 155, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 155, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 155, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 155, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 155, 4]
type = VarSet
trigger1 = 1
sysfvar(0) = (pos y >= 0) && (vel y > 0)

[State 155, 5]
type = VelSet
trigger1 = sysfvar(0)
y = 0

[State 155, 6]
type = PosSet
trigger1 = sysfvar(0)
y = 0

[State 155, 6]
type = ChangeState
trigger1 = sysfvar(0)
trigger1 = command = "holdback"
trigger1 = inguarddist
value = 130

[State 155, 7]
type = ChangeState
trigger1 = sysfvar(0)
value = 52

;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
[Statedef 170]
type = S
ctrl = 0
anim = 5300
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = 1
value = 181+random%4

;---------------------------------------------------------------------------
; Win pose 1 - Bow
; CNS difficulty: basic
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181, Offset]
type = Offset
trigger1 = 1
x = 0
y = -45

[State 181, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*45

[State 181, VarSet]
type = VarSet
trigger1 = Animelem = 1
fvar(19) = 0
 
[State 181, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


;---------------------------------------------------------------------------
; Win pose 2 - "I'm bad!"
; CNS difficulty: basic
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 182, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 182, 2]
type = PlaySnd
trigger1 = animelem = 1
value = S191,2

[State 182, 3]
type = Offset
trigger1 = 1
x = 0
y = -45

[State 182, 4]
type = VarSet
trigger1 = time = [209, 450]
fv = 5
value = time*45

 
[State 182, 5]
type = AngleDraw
trigger1 = time = [209, 450]
value = fvar(5)

[State 182, 6]
type = VelSet
trigger1 = time = 209
x = 0
y = -5

[State 182, VarSet]
type = VarSet
trigger1 = Animelem = 1
fvar(19) = 0

[State 182, 7]
type = AssertSpecial
trigger1 = time = [0,400]
flag = roundnotover

;---------------------------------------------------------------------------
; Win pose 3 - Duane!
; CNS difficulty: basic
[Statedef 183]
type = S
ctrl = 0
anim = 183
velset = 0,0

[State 183: Turn]
type = Turn
trigger1 = (P2Dist X < 10)

[State 183: VelSet]
type = VelSet
trigger1 = (!Time)
trigger1 = P2Life > 0
x = 3

[State 183: VelAdd]
type = VelAdd
trigger1 = (P2Dist X < 0) && (Vel X > -6)
trigger1 = P2Life > 0
x = -0.2

[State 183: VelAdd]
type = VelAdd
trigger1 = (P2Dist X > 0) && (Vel X < 6)
trigger1 = P2Life > 0
x = 0.2

[State 183: VelAdd]
type = VelAdd
trigger1 = (EnemyNear, Pos Y > Pos Y) && (Vel Y < 6)
trigger1 = P2Life > 0
y = 0.2

[State 183: VelAdd]
type = VelAdd
trigger1 = (EnemyNear, Pos Y <= Pos Y) && (Vel Y > -6)
trigger1 = P2Life > 0
y = -0.2


[State 183, VarSet]
type = VarSet
trigger1 = Animelem = 1
fvar(19) = 2

[State 183, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = 190,1

[State 183, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 183, Offset]
type = Offset
trigger1 = 1
x = 0
y = -35

[State 183, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*2.5

[State 183, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)

[State 183, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,324]
flag = roundnotover

;---------------------------------------------------------------------------
; Win pose 4 - Bat Roll'd
; CNS difficulty: basic
[Statedef 184]
type = S
ctrl = 0
anim = 184
velset = 0,0
sprpriority = -10

[State 184, 1]
type = PlaySnd
trigger1 = animelem = 1
value = S191,3

[State 184, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 184, VarSet]
type = VarSet
trigger1 = Animelem = 1
fvar(19) = 0

[State 184, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,448]
flag = roundnotover

;---------------------------------------------------------------------------
; Pre-intro
[Statedef 190]
type = S
ctrl = 0
velset = 0,0

[State 190, 2] ;Go straight to intro.
type = ChangeState
trigger1 = palno = 11
trigger2 = palno = 12
value = 1911

[State 190, 1] ;Okay. Which one of y'all salty motha fuckas nerfed me?
type = ChangeState
triggerall = Time = 0
triggerall = random < 280
trigger1 = life < 1001
trigger2 = const(data.attack) < 100
trigger3 = const(data.defence) < 100
trigger4 = const(data.power) < 3000
value = 196

[State 190, 2] ;Go straight to intro.
type = ChangeState
trigger1 = Time = 0
value = 191+random%4

;---------------------------------------------------------------------------
; Introduction 11p (and 12p for now)- BEHOLD MY TRUE FORM AND DESPAIR!
; CNS difficulty: basic
[Statedef 1911]
type = S
ctrl = 0
anim = 4
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S1200,0
volumescale = 230

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 4

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 1

;---------------------------------------------------------------------------
; Introduction 1 - Enter the Spin To
; CNS difficulty: basic
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 191, 1]
type = PlaySnd
trigger1 = animelem = 4
trigger2 = animelem = 6
trigger3 = animelem = 9
trigger4 = animelem = 13
trigger5 = animelem = 16
trigger6 = animelem = 19
trigger7 = animelem = 22
value = 0, 6

[State 191, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S191,0

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;----------------------------------------------------------
; Introduction 2 - John Cena!
; CNS difficulty: basic
[Statedef 192]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 192, Offset]
type = Offset
trigger1 = 1
x = 0
y = -45


[State 192, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*45
 
[State 192, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 192, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,21

[State 192]
type = posset
trigger1 = time = 180
y = -360

[State 192]
type = velset
trigger1 = animelem = 2
y = 4

[State 192]
type = velset
trigger1 = animelemtime(3) >= 0
y = 0

[State 192]
type = posset
trigger1 = animelemtime(3) >= 0
y = 0

[State 192, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 191

[State 192, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 192, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;----------------------------------------------------------
; Introduction 3 - Thomas the Dank Engine
; CNS difficulty: basic
[Statedef 193]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 193, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic

[State 193, Explod]
type = Explod
trigger1 = roundstate != 0
trigger1 = numexplod(1920) < 1
anim = 1920
ID = 1920
pos = -420,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0.8,0
accel = 0,0
random = 0,0
removetime = 650
pausemovetime = 0
scale = 1,1
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 193, Explod]
type = Explod
trigger1 = roundstate != 0
trigger1 = numexplod(1921) < 1
anim = 1921
ID = 1921
pos = -420,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0.8,0
accel = 0,0
random = 0,0
removetime = 650
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
;ignorehitpause =
;trans = 
;persistent =
;supermove = 0
;pausemove = 0

[State 193, ModifyExplod]
type = ModifyExplod
trigger1 = roundstate != 0
trigger1 = animelem = 2
anim = 1920
ID = 1920
pos = -10,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0.8,0
accel = 0.2,0
random = 0,0
removetime = 650
pausemovetime = 0
scale = 1,1
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 193, ModifyExplod]
type = ModifyExplod
trigger1 = roundstate != 0
trigger1 = animelem = 2
anim = 1921
ID = 1921
pos = -10,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0.8,0
accel = 0.2,0
random = 0,0
removetime = 650
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0


[State 193, Explod]
type = Explod
trigger1 = roundstate != 0
trigger1 = numexplod(1922) < 1
anim = 1922
ID = 1922
pos = -420,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0.8,0
accel = 0,0
random = 0,0
removetime = 650
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 193, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S14,random%7

[State 193, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 192

[State 193, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 193, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Introduction 4 - It's not unusual (or maybe it is).
; CNS difficulty: basic
[Statedef 194]
type = S
ctrl = 0
anim = 193
velset = 0,0

[State 191, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 5, 27

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 193

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Duane Helper
[Statedef 1915]
type = S
physics = N
sprpriority = -4
anim = 183

[State 1915, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 190, 0
channel = 5
loop = 1

[State 1915, 2]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 195, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S5,6
channel = 1
freqmul = 1.0
loop = 0
pan = 0

[State 195, 1]
type = CtrlSet
trigger1 = Time = 1
value = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 195, Offset]
type = Offset
trigger1 = 1
x = 0
y = -45


[State 195, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*55

 
[State 195, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)

;---------------------------------------------------------------------------
; Special Intro - Somebody's salty.
; CNS difficulty: basic
[Statedef 196]
type = S
ctrl = 0
anim = 196
velset = 0,0
sprpriority = -2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time > 281
flag = noshadow

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 196

[State 0, Helper]
type = Helper
trigger1 = time = 281
helpertype = normal ;player
name = "Salt"
ID = 1960
stateno = 1960
pos = 160,-75
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0
size.xscale = 0.5
size.yscale = 0.5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 281
value = 1
scale = 1+(time*0.01-2.81), 1+(time*0.01-2.81)

[State 0, PalFX]
type = PalFX
trigger1 = time > 281
time = 1
add = random%256,random%256,random%256 ;Floor(sin(GameTime/16)*266),Floor(sin((GameTime-85)/16)*266),Floor(sin((GameTime-170)/16)*266)
ignorehitpause = 1
;invertall = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = time > 281
y = 1

[State 191, 1]
type = PlaySnd
trigger1 = animelem = 27
value = 5, 30

[State 0, PosAdd]
type = Posset
trigger1 = animelem = 507
y = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = animelem = 507
value = 1
scale = 1, 1

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

[Statedef 1960]
type = S
ctrl = 0
anim = 1960
velset = 0,0
sprpriority = 5

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
x = 160-(screenpos x)+(-2+random%5)
y = 120 -(screenpos y)+(-2+random%5)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root, animelem = 507
trigger2 = roundstate != 1

;---------------------------------------------------------------------------
; Special Intro - MY TRUE FORM
; CNS difficulty: basic
[Statedef 197]
type = S
ctrl = 0
anim = 193 ;Change this to 197 <---------------------------
velset = 0,0

[State 191, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 5, 27

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 193 ;Change this to 197 <---------------------------

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0


;---------------------------------------------------------------------------
; Stand Light Punch
; CNS difficulty: easy
[Statedef 200]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 1                      
velset = 0,0                     
ctrl = 0                         
anim = 200                       
poweradd = 10                    
sprpriority = 2                  

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA                     
damage = 28, 8                   
animtype = Light                 
guardflag = MA                   
hitflag = MAF                    
priority = 3, Hit                
pausetime = 5, 12                 
sparkno = S7000                      
sparkxy = -10, -76               
hitsound = S8, 4                
guardsound = S8, 3                
ground.type = High               
ground.slidetime = 5             
ground.hittime  = 11             
ground.velocity = -1             
airguard.velocity = -1.9,-.8   
air.type = High                  
air.velocity = -1.4,-3           
air.hittime = 15  

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA                     
damage = 34, 16                   
animtype = Light                 
guardflag = MA                   
hitflag = MAF                    
priority = 3, Hit                
pausetime = 5, 9                 
sparkno = S7000                    
sparkxy = -10, -76               
hitsound = S8, 4                
guardsound = S8, 3                
ground.type = High               
ground.slidetime = 5             
ground.hittime  = 11             
ground.velocity = -4             
airguard.velocity = -1.9,-.8   
air.type = High                  
air.velocity = -1.4,-3           
air.hittime = 15               

[State 200, 2]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, 2]
type = PlaySnd
trigger1 = Time = 1
value = 15, random%4

[State 200, 3]
type = CtrlSet
trigger1 = Animelem = 8
value = 1

[State 200, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing medium punch
; CNS difficulty: easy
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 30
ctrl = 0
velset = 0,0
anim = 210
sprpriority = -1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 7

[State 210, 1]
type = PlaySnd
trigger1 = Time = 2
value = 5, 3

[State 210, VelSet]
type = VelSet
triggerall = Vel X != 1.5
triggerall = Pos Y >= 0
trigger1 = command = "holdfwd"
x = 1.5

[State 210, VelSet]
type = VelSet
triggerall = Vel X != -1.5 
triggerall = Pos Y >= 0
trigger1 = command = "holdback"
x = -1.5

[State 210, 2]
type = HitDef
trigger1 = Animelem = 3
attr = S, NA
animtype  = Medium
damage    = 20, 5
guardflag = MA
pausetime = 10,12
sparkno = S7000
sparkxy = -10,-37
hitsound   = S8,4
guardsound = S8,3
ground.type = Low
ground.slidetime = 10
ground.hittime  = 14
ground.velocity = 1,-4
air.velocity = -2.5,-3.5

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype  = Medium
damage    = 45, 18
guardflag = MA
pausetime = 10,20
sparkno = S7001
sparkxy = -10,-70
hitsound   = S8,5
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = -3.5
air.velocity = -0.5,-4
air.hittime = 19
forcenofall = 1

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 8
attr = S, NA
animtype  = Medium
damage    = 40, 15
guardflag = MA
pausetime = 12,17
sparkno = S7001
sparkxy = -10,-70
hitsound   = S8,6
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = -5.5
air.velocity = -2.5,-4
air.hittime = 19
forcenofall = 1

[State 210, 3]
type = ChangeAnim
trigger1 = AnimElemTime(5) > 0 && AnimElemTime(6) <= 0
trigger1 = movecontact
ignorehitpause = 1
persistent = 0
value = 210
elem = 6

[State 210, 3]
type = ChangeAnim
trigger1 = AnimElemTime(8) > 0 && AnimElemTime(9) <= 0
trigger1 = movecontact
ignorehitpause = 1
persistent = 0
value = 210
elem = 9

[State 210, 4]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing strong punch
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 50
ctrl = 0
velset = 0,0
anim = 220
sprpriority = -1

[State 220, Explod]
type = Explod
trigger1 = AnimELem = 1
anim = 221
ID = 221
pos = 0,5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 71
sprpriority = 1
ontop = 1
removeongethit = 1
scale = 2,1.1

[State 220, NotHitBy]
type = NotHitBy
trigger1 = Time = 0
value = , NA,SA,NP,SP,NT,ST
time = 72

[State 220, ExplodBindTime]
type = ExplodBindTime
trigger1 = AnimElem = 1
trigger2 = Animelem = 2
trigger3 = Animelem = 3
trigger4 = Animelem = 4
trigger5 = Animelem = 5 
trigger6 = Animelem = 6 
trigger7 = Animelem = 7
trigger8 = Animelem = 8 
trigger9 = Animelem = 9
trigger10 = Animelem = 10
trigger11 = Animelem = 11
trigger12 = Animelem = 12
trigger13 = Animelem = 13
trigger14 = Animelem = 14
trigger15 = Animelem = 15 
trigger16 = Animelem = 16
trigger17 = Animelem = 17
trigger18 = Animelem = 18
trigger19 = Animelem = 19
trigger20 = Animelem = 20
trigger21 = Animelem = 21
trigger22 = Animelem = 22
trigger23 = Animelem = 23
trigger24 = Animelem = 24
trigger25 = Animelem = 25
trigger26 = Animelem = 26
trigger27 = Animelem = 27
trigger28 = Animelem = 28
trigger29 = Animelem = 29
trigger30 = Animelem = 30
trigger31 = Animelem = 31
trigger32 = Animelem = 32
trigger33 = Animelem = 33
trigger34 = Animelem = 34 
trigger35 = Animelem = 35
trigger36 = Animelem = 36
trigger37 = Animelem = 37
ID = 221
time = 72
ignorehitpause = 1
persistent = 1

[State 440, 1]
type = PlaySnd
trigger1 = animelem = 7
value = 0, 2

[State 440, 1]
type = PlaySnd
trigger1 = animelem = 18
value = 0, 2

[State 440, 1]
type = PlaySnd
trigger1 = animelem = 30
value = 0, 2

[State 220, 1]
type = PlaySnd
trigger1 = Time = 1
value = 100, random%2

[State 220, VelSet] ;For AI
type = VelSet
triggerall = var(59) > 0
triggerall = Vel X != 1.5
triggerall = Pos Y >= 0
trigger1 = abs(p2bodydist x) > 5
x = 2.5

[State 220, VelSet] ;For AI
type = VelSet
triggerall = var(59) > 0
triggerall = Vel X != -1.5 
triggerall = Pos Y >= 0
trigger1 = abs(p2bodydist x) < 0
x = -2.5

[State 220, VelSet]
type = VelSet
triggerall = var(59) = 0
triggerall = Vel X != 1.5
triggerall = Pos Y >= 0
trigger1 = command = "holdfwd"
x = 2.5

[State 220, VelSet]
type = VelSet
triggerall = var(59) = 0
triggerall = Vel X != -1.5 
triggerall = Pos Y >= 0
trigger1 = command = "holdback"
x = -2.5


[State 220, 2]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype  = Medium
damage    = enemy, lifemax * 0.030, enemy, lifemax * 0.025
guardflag = MA
pausetime = 0,5
sparkno = S7001
sparkxy = -10,-70
hitsound   = s8,0
guardsound = S8,11
ground.type = High
ground.slidetime = 14
ground.hittime  = 25
ground.velocity = 1.5
air.velocity = 1,-4
air.hittime = 30

[State 220, 2]
type = HitDef
trigger1 = AnimElem = 13
attr = S, NA
animtype  = Medium
damage    = enemy, lifemax * 0.045, enemy, lifemax * 0.028
guardflag = MA
pausetime = 0,8
sparkno = S7001
sparkxy = -10,-70
hitsound   = s8,1
guardsound = S8,11
ground.type = High
ground.slidetime = 14
ground.hittime  = 25
ground.velocity = 1.5
air.velocity = -0.5,-4
air.hittime = 34


[State 220, 2]
type = HitDef
trigger1 = AnimElem = 25
attr = S, SA
animtype  = Hard
damage    = enemy, lifemax * 0.064, enemy, lifemax * 0.030
guardflag = MA
pausetime = 0,19
sparkno = S7002
sparkxy = -10,-70
hitsound   = S8,2
guardsound = S8,11
ground.type = High
ground.slidetime = 14
ground.hittime  = 25
ground.velocity = -4,-3.5
air.velocity = -4,-3
air.hittime = 36
fall = 1


[State 220, 3]
type = SprPriority
trigger1 = AnimElem = 5
value = 2

[State 220, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
; Standing light kick
; CNS difficulty: easy
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 11
ctrl = 0
velset = 3,0
anim = 230
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 5

[State 230, 1]
type = PlaySnd
trigger1 = Time = 0
value = 12, random%4

[State 230, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 15, 3
guardflag = MA
pausetime = 12,12
sparkno = S7000
sparkxy = -10,-37
hitsound   = S8,7
guardsound = S8,3
ground.type = Low
ground.slidetime = 10
ground.hittime  = 14
ground.velocity = 0,-3
air.velocity = 0,-1

[State 230, 2]
type = HitDef
trigger1 = Animelem = 7
attr = S, NA
animtype  = Medium
damage    = 17, 3
guardflag = MA
pausetime = 12,12
sparkno = S7000
sparkxy = -10,-37
hitsound   = S8,7
guardsound = S8,3
ground.type = Low
ground.slidetime = 10
ground.hittime  = 14
ground.velocity = 0, -3
air.velocity = 0,-2

[State 230, 2]
type = HitDef
trigger1 = Animelem = 11
attr = S, NA
animtype  = Medium
damage    = 25, 19
guardflag = MA
pausetime = 12,12
sparkno = S7000
sparkxy = -10,-37
hitsound   = S8,8
guardsound = S8,3
ground.type = Low
ground.slidetime = 10
ground.hittime  = 14
ground.velocity = 0, -4
air.velocity = -0,-4


[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing medium kick
; CNS difficulty: easy
[Statedef 240]
type    = S
movetype= A
physics = N
juggle  = 5
poweradd= 30
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 2

[State 1000, "Jump"]
type = StateTypeSet
trigger1 = AnimElem = 3
stateType = A
physics = N

[State 240, HOO]
type = PlaySnd
trigger1 = animelem = 3
value = 5, 24

[State 240, HAH]
type = PlaySnd
trigger1 = animelem = 6
value = 5, 25

[State 240, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 3

[State 240, 2]
type = PlaySnd
trigger1 = animelem = 7
value = 0, 3

[State 240, 3]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
animtype  = Medium
damage    = 31, 17
guardflag = MA
pausetime = 12,12
sparkno = S7001
sparkxy = -10,-60
hitsound   = S8,8
guardsound = S8,3
ground.type = Low
ground.slidetime = 12
ground.hittime  = 17
ground.velocity = -2,-2
air.velocity = -1.2,-2

[State 240, 3]
type = HitDef
trigger1 = animelem = 7
attr = S, NA
animtype  = Medium
damage    = 32, 17
guardflag = MA
pausetime = 12,12
sparkno = S7001
sparkxy = -10,-60
hitsound   = S8,8
guardsound = S8,3
ground.type = Low
ground.slidetime = 12
ground.hittime  = 17
ground.velocity = -2, -2
air.velocity = -1.2,-2.2


[State 240, 4]
type = velset
trigger1 = animelem = 3
x = 2
y = -1

[State 240, 5]
type = velset
trigger1 = animelem = 6
y = 1

[State 240, 6]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -2
value = 241
ctrl = 1

;--------------------------------------------------------------
;Landing
[Statedef 241]
type = S
ctrl = 0
anim = 241
velset = 0,0
physics = S

[State 241, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 241, 2]
type = CtrlSet
trigger1 = Time = 1
value = 1

[State 241, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Fairy Tornado
[Statedef 242]
type    = S
movetype= A
physics = N
poweradd= 55
velset = 0,0
anim = 242
ctrl = 0
sprpriority = 2

[State 242, 1]
type = PlaySnd
trigger1 = Animelem = 8
value = 0, 2


[State 242, 1]
type = PlaySnd
trigger1 = Animelem = 4
trigger2 = Animelem = 6
trigger3 = Animelem = 8
trigger4 = Animelem = 10
trigger5 = Animelem = 12
trigger6 = Animelem = 14
trigger7 = Animelem = 16
trigger8 = Animelem = 18
trigger9 = Animelem = 20
trigger10 = Animelem = 22
trigger11 = Animelem = 24
trigger12 = Animelem = 26
trigger13 = Animelem = 28
trigger14 = Animelem = 30
trigger15 = Animelem = 32
trigger16 = Animelem = 34
trigger17 = Animelem = 36
trigger18 = Animelem = 38
trigger19 = Animelem = 40
value = 0, 7


[State 242, "Jump"]
type = StateTypeSet
trigger1 = Animelem = 1
statetype = A
physics = N


[State 242, Pos]
type = PosAdd
trigger1 = Animelem = 1
y = -1


[State 242, VelSet]
type = VelSet
trigger1 = Animelem = 4
x = 2

[State 242, VelSet]
type = VelSet
trigger1 = Animelem = 4
trigger1 = pos y < -2
x = 2
y = 0.5

[State 242, VelSet]
type = VelSet
trigger1 = Animelem = 41
x = 0.25

[State 242, VelSet]
type = VelSet
trigger1 = Animelem = 41
trigger1 = pos y < -2
x = 0.25
y = 1

[State 242, 5]
type = HitDef
trigger1 = Animelem = 4
trigger2 = Animelem = 5
trigger3 = Animelem = 6
trigger4 = Animelem = 7
trigger5 = Animelem = 8
trigger6 = Animelem = 9
trigger7 = Animelem = 10
trigger8 = Animelem = 11
trigger9 = Animelem = 12
trigger10 = Animelem = 13
trigger11 = Animelem = 14
trigger12 = Animelem = 15
trigger13 = Animelem = 16
trigger14 = Animelem = 17
trigger15 = Animelem = 18
attr = S, SA
animtype  = Hard
damage    = 2, 1
priority  = 5
guardflag = MA
pausetime = 0,0
sparkno = S7002
sparkxy = -10,-60
hitsound   = S8,7
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime  = 17
ground.velocity = 0.20,0
air.velocity = 0.20,0

[State 242, 6]
type = HitDef
trigger1 = Animelem = 20
trigger2 = Animelem = 21
trigger3 = Animelem = 22
trigger4 = Animelem = 23
trigger5 = Animelem = 24
trigger6 = Animelem = 25
trigger7 = Animelem = 26
trigger8 = Animelem = 27
trigger9 = Animelem = 28
trigger10 = Animelem = 29
trigger11 = Animelem = 30
trigger12 = Animelem = 31
trigger13 = Animelem = 32
trigger14 = Animelem = 33
trigger15 = Animelem = 34
trigger16 = Animelem = 35
trigger17 = Animelem = 36
trigger18 = Animelem = 37
trigger19 = Animelem = 38
trigger20 = Animelem = 39
attr = S, SA
animtype  = Hard
damage    = 3, 1
priority  = 5
guardflag = MA
pausetime = 0,0
sparkno = S7002
sparkxy = -10,-60
hitsound   = S8,7
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime  = 17
ground.velocity = 0.20,0
air.velocity = 0.20,0

[State 242, 6] 
type = HitDef
trigger1 = Animelem = 40
attr = S, SA
animtype  = Hard
damage    = 10, 13
priority  = 4
guardflag = HA
pausetime = 15,15
sparkno = S7002
sparkxy = -10,-60
hitsound   = S8,10
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime  = 19
ground.velocity = -4
air.velocity = -4,-4.5


[State 242, 7]
type = ChangeState
trigger1 = Animtime = 0
value = 50
ctrl = 1


;---------------------------------------------------------------------------
; Standing strong kick
; CNS difficulty: easy
[Statedef 250]
type    = S
movetype= A
physics = N
juggle  = 5
poweradd= 30
ctrl = 0
velset = 0,0
anim = 250
sprpriority = 2

[State 250, Width]
type = Width
trigger1 = AnimElem = 3, >= 0
value = -1,-1


[State 250, "Jump"]
type = StateTypeSet
trigger1 = AnimElem = 2
stateType = A
physics = N

[State 250, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 6

[State 250, 1]
type = PlaySnd
trigger1 = animelem = 7
trigger2 = animelem = 10
value = 0, 6


[State 250, 2]
type = PlaySnd
trigger1 = Time = 1
value = 191, 1


[State 250, 3]
type = HitDef
trigger1 = animelem = 1
attr = S, NA
animtype  = Medium
damage    = 23, 10
guardflag = MA
pausetime = 12,12
sparkno = S7001
sparkxy = -10,-60
hitsound   = S8,7
guardsound = S8,3
ground.type = Low
ground.slidetime = 12
ground.hittime  = 17
ground.velocity = -1,-3.6
air.velocity = -1,-3.6

[State 250, 3]
type = HitDef
trigger1 = animelem = 7
attr = A, SA
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = back
fall.animtype = back
ground.type = high
air.type = low
priority = 4, hit
damage = 47, 26
pausetime = 12, 12
hitsound   = S8,8
guardsound = S8,3
sparkno = S7001
sparkxy = -10,-60
ground.hittime = 23
ground.slidetime = 23
air.hittime = 120
ground.velocity = -6, -2
guard.velocity = -10.25
guard.cornerpush.veloff = 0
air.velocity = 7,-2 ;5,-2
air.cornerpush.veloff = 0
yaccel = 0.6
fall = 1
air.fall = 0
fall.recover = 0
forcestand = 1

[State 250, 3]
type = HitDef
trigger1 = animelem = 10
attr = A, SA
hitflag = MAF
guardflag = MA
animtype = hard
air.animtype = back
fall.animtype = back
ground.type = high
air.type = low
priority = 4, hit
damage = 52, 11
pausetime = 12, 12
hitsound   = S8,9
guardsound = S8,3
sparkno = S7002
sparkxy = -10,-60
ground.hittime = 23
ground.slidetime = 23
air.hittime = 120
ground.velocity = 7
guard.velocity = -10.25
guard.cornerpush.veloff = 0
air.velocity = 7.6, -10.5
air.cornerpush.veloff = 0
yaccel = 0.6
fall = 0
air.fall = 1
fall.recover = 0
fall.recovertime = 70
forcestand = 1

[State 250, 4]
type = velset
trigger1 = animelem = 2
x = 2
y = -3

[State 250, 4]
type = velset
trigger1 = animelem = 4
y = 0


[State 250, 5]
type = velset
trigger1 = animelem = 12
y = 3

[State 250, 6]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -5
value = 251
ctrl = 1

;Landing from the "Jump"
[Statedef 251]
type = S
ctrl = 0
anim = 251
velset = 0,0
physics = S

[State 251, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 251, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 251, 3]
type = CtrlSet
trigger1 = Time = 5
value = 1

[State 251, 4]
type = VelSet
trigger1 = abs(vel x) < Const(movement.stand.friction.threshold)
x = 0

[State 251, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Crouching light punch
;CNS difficulty: easy
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 8
ctrl = 0
anim = 400
sprpriority = 2

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 37,10
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 10,11
sparkno = S7000
sparkxy = -10,-42
hitsound   = S8,1
guardsound = S8,11
ground.type = Low
ground.slidetime = 4
ground.hittime  = 9
ground.velocity = -4
air.velocity = -1.5,-3

[State 400, 3]
type = CtrlSet
trigger1 = Time = 12
value = 1

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;---------------------------------------------------------------------------
;Crouching medium punch
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 25
ctrl = 0
anim = 410
sprpriority = 2

[State 410, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 410, 1]
type = CtrlSet
trigger1 = Time = 28
value = 1

[State 410, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage    = 36, 9
animtype  = Medium
hitflag = MAF
guardflag = M
pausetime = 0,0
sparkno = S7001
sparkxy = -10,-35
hitsound   = S8,5
guardsound = S8,3
ground.type = Low
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = -3
air.velocity = -3,-4

[State 410, 3]
type = HitDef
trigger1 = AnimElem = 6
attr = C, NA
damage    = 44, 14
animtype  = Medium
hitflag = MAF
guardflag = MA
pausetime = 0,0
sparkno = S7002
sparkxy = -10,-45
hitsound   = S8,5
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime  = 22
ground.velocity = -2, -2
guard.velocity = -9
air.hittime = 22
air.velocity = -0, -5

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouching strong punch
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 45
ctrl = 0
anim = 420
sprpriority = 2

[State 420, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 6

[State 420, 1]
type = PlaySnd
trigger1 = Time = 1
value = 5, 5

[State 420, Explod]
type = Explod
trigger1 = AnimELem = 2
anim = 421
ID = 421
pos = 20,-50
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 26
sprpriority = 0
ontop = 1
removeongethit = 1

[State 420, ExplodBindTime]
type = ExplodBindTime
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8
ID = 421
time = 14
ignorehitpause = 1

[State 420, 3]
type = CtrlSet
trigger1 = Time = 25
value = 1

[State 420, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage    = 41, 7
animtype  = Medium
hitflag = MAFD
guardflag = M
pausetime = 0,0
sparkno = S7001
sparkxy = -10,-55
hitsound   = S8,5
guardsound = S8,3
ground.type = Low
ground.slidetime = 12
ground.hittime  = 18
ground.velocity = 0
air.velocity = 0.5,-3

[State 420, 3]
type = HitDef
trigger1 = AnimElem = 7
attr = C, NA
damage    = 52, 11
animtype  = Hard
hitflag = MAFD
guardflag = MA
pausetime = 0,24
sparkno = S7002
sparkxy = -10,-83
hitsound   = S8,6
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime  = 29
ground.velocity = -0.5, -7
guard.velocity = -9
air.hittime = 29
air.velocity = -0.5,-7

[State 0, Jump]
type = ChangeState
trigger1 = command = "holdup"
trigger1 = animelem = 8
trigger1 = movehit
value = 40
ctrl = 1

[State 420, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouching light kick
; CNS difficulty: easy
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 11
ctrl = 0
anim = 430
sprpriority = 2

[State 430, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 11

[State 430, 1]
type = velset
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 7
trigger5 = animelem = 9
trigger6 = animelem = 11
trigger7 = animelem = 13
trigger8 = animelem = 15
trigger8 = animelem = 17
trigger9 = animelem = 19
x = -0.25

[State 430, 1]
type = explod
trigger1 = animelem = 19
anim = F100
ID= 100
pos=0,-10
removetime = -2

[State 430, 2]
type = Explod
trigger1 = stateno = 430
trigger1 = numexplod(433) < 1
anim = 432
ID = 433
pos = -5,0
postype = p1  
removetime = 18
pausemovetime = 0
scale = 1,1
removeongethit = 1


[State 430,2]
type = changestate
Triggerall = var(59) = 0
trigger1 = time > 38
trigger1 = command != "Hold a"
value = 432


[State 430, 2]
type = changestate
Triggerall = var(59) = 0
trigger1 = command != "Hold a"
value = 431

[State 430, 1]
type = PlaySnd
Triggerall = var(59) = 0
trigger1 = command = "b"
trigger2 = command = "c"
trigger3 = command = "y"
trigger4 = command = "z"
trigger5 = command = "U"
value = 5, 16

[State 430, cancel]
type = changestate
Triggerall = var(59) = 0
triggerall = stateno = 430
trigger1 = command = "x"
value = 1300
ctrl = 1

[State 430, cancel]
type = changestate
Triggerall = var(59) = 0
triggerall = stateno = 430
trigger1 = command = "b"
trigger2 = command = "c"
trigger3 = command = "y"
trigger4 = command = "z"
value = 11
ctrl = 1

[State 430, cancel] ;For AI
type = changestate
Triggerall = var(59) > 0
triggerall = stateno = 430
trigger1 = p2statetype = A
value = 40
ctrl = 1

[State 430, cancel]
type = changestate
Triggerall = var(59) = 0
triggerall = stateno = 430
trigger1 = command = "U"
value = 40
ctrl = 1

[Statedef 431]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 11
ctrl = 0
anim = 431
sprpriority = 2

[State 431, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 0, 12

[State 430, 1]
type = velset
trigger1 = animelem = 5
x = 18

[State 431, 2]
type = HitDef
trigger1 = animelem = 1
attr = C, NA
damage    = 25, 12
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 0,5
sparkno = S7000
sparkxy = -10,-8
hitsound   = S8,4
guardsound = S8,3
ground.type = Low
ground.slidetime = 6
ground.hittime  = 15
ground.velocity = -7
guard.velocity = -9
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 22

[State 431, 3]
type = ChangeState
trigger1 = animelem = 12
value = 11
ctrl = 1

[Statedef 432]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 45
ctrl = 0
anim = 431
sprpriority = 2

[State 800, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = ,NT,ST,HT
time = 44

[State 432, Sound]
type = PlaySnd
trigger1 = Time = 1
value = 0, 12

[State 432, 1]
type = velset
trigger1 = animelem = 5
x = 41

[State 432, Wacky effects]
type = Afterimage
trigger1 = time = 0
time = 24
trans = add1
timegap = 1
framegap = 2
length = 4
palbright = 12,12,12
palcontrast = 255,255,255
palpostbright = 5,5,5
paladd = 0,0,0
palmul = 1,1,1

[State 432, Wacky Effects]
type = afterimage
trigger1 = time = 0
time = 24
trans = add1
timegap = 1
framegap = 1
length = 6
palbright = 14,14,14
palcontrast = 225,225,255
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 1,1,1


[State 432, 2]
type = HitDef
trigger1 = animelem = 1
attr = C, SA
damage    = 44, 6
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 0,5
sparkno = S7000
sparkxy = -10,-8
hitsound   = S8,6
guardsound = S8,3
ground.type = Low
ground.slidetime = 6
ground.hittime  = 21
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 22

[State 432, 2]
type = ChangeState
trigger1 = animelem = 12
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Medium Kick
; CNS difficulty: easy
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 35
ctrl = 0
anim = 440
sprpriority = 2

[State 440, 2]
type = PlaySnd
trigger1 = Time = 1
value = 5, 4

[State 440, 2]
type = velset
trigger1 = animelem = 1
x = 8

[State 250, 4]
type = velset
trigger1 = animelem = 7
x = -7

[State 250, 4]
type = velset
trigger1 = animelem = 23
x = 9

[State 250, 4]
type = velset
trigger1 = animelem = 30
x = 9


[State 440, 3]
type = HitDef
trigger1 = animelem = 6
attr = C, NA
damage    = 26
hitflag = MAFD
guardflag = L
pausetime = 0,0
sparkno = S7001
sparkxy = -5,-10
hitsound   = S8,8
guardsound = S8,3
ground.slidetime = 10
ground.hittime  = 17
ground.velocity = -1,-2.5
air.velocity = -1.2,-3
guard.velocity = -5
fall = 1

[State 440, 3]
type = HitDef
trigger1 = animelem = 22
attr = C, NA
damage    = 26
hitflag = MAFD
guardflag = L
pausetime = 0,0
sparkno = S7001
sparkxy = -5,-10
hitsound   = S8,9
guardsound = S8,3
ground.slidetime = 10
ground.hittime  = 17
ground.velocity = -1,-2.5
air.velocity = -1.2,-3
guard.velocity = -5
fall = 1

[State 440, 3]
type = HitDef
trigger1 = animelem = 38
attr = C, NA
damage    = 29
hitflag = MAFD
guardflag = L
pausetime = 0,0
sparkno = S7001
sparkxy = -5,-10
hitsound   = S8,10
guardsound = S8,3
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 17
ground.velocity = -1.5,-3
air.velocity = -1.2,-5
guard.velocity = -5
fall = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouch Strong Kick
[Statedef 450]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 35
ctrl = 0
anim = 450
sprpriority = 2

[State 440, 5]
type = PlaySnd
trigger1 = animelem = 3
value = 5, 0

[State 440, 6]
type = HitDef
trigger1 = animelem = 3
attr = C, NA
damage    = 20, 5
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = S7001
sparkxy = -5,-40
hitsound   = S8,9
guardsound = S8,3
ground.slidetime = 10
ground.hittime  = 17
ground.velocity = 1.5,-2
air.velocity = 1.2,-3
guard.velocity = -5

[State 440, 7]
type = HitDef
trigger1 = animelem = 7
attr = C, NA
damage    = 25, 9
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = S7001
sparkxy = -5,-40
hitsound   = S8,9
guardsound = S8,3
ground.slidetime = 10
ground.hittime  = 17
ground.velocity = -0.5,-2
air.velocity = -0.2,-3
guard.velocity = -5

[State 440, 8]
type = HitDef
trigger1 = animelem = 11
attr = C, NA
damage    = 23, 12
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = S7001
sparkxy = -5,-40
hitsound   = S8,9
guardsound = S8,3
ground.slidetime = 10
ground.hittime  = 17
ground.velocity = 0.5,-2
air.velocity = 0.2,-3
guard.velocity = -5

[State 440, 9]
type = HitDef
trigger1 = animelem = 15
attr = C, NA
damage    = 25, 15
hitflag = MAFD
guardflag = L
pausetime = 12,24
sparkno = S7001
sparkxy = -5,-40
hitsound   = S8,10
guardsound = S8,3
ground.slidetime = 10
ground.hittime  = 17
ground.velocity = 0,-9
air.velocity = 0,-9
guard.velocity = -5

[State 0, Jump]
type = ChangeState
trigger1 = command = "holdup"
trigger1 = animelem = 16
trigger1 = movehit
value = 40
ctrl = 1

[State 440, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Jump Light Punch
; CNS difficulty: easy
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 5
velset = 0, -2
ctrl = 0
anim = 600
sprpriority = 2

[State 600, 0]
type = VelAdd
trigger1 = animelem = 2
x = 0.5
y = -9

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 5, 7

[State 600, 2]
type = HitDef
trigger1 = Animelem = 2
attr = A, NA
damage    = 31, 2
guardflag = HA
priority = 3
pausetime = 7,8
sparkno = S7000
sparkxy = -10,-58
hitsound   = S8,1
guardsound = S8,11
ground.type = High
ground.slidetime = 5
ground.hittime  = 8
ground.velocity = 0, -9
air.velocity = -1.3,-7
air.hittime = 14

[State 600, 2]
type = HitDef
trigger1 = Animelem = 6
attr = A, NA
damage    = 31, 2
guardflag = HA
priority = 3
pausetime = 7,8
sparkno = S7000
sparkxy = -10,-58
hitsound   = S8,1
guardsound = S8,11
ground.type = High
ground.slidetime = 5
ground.hittime  = 8
ground.velocity = 0, -9
air.velocity = -1.3,-7
air.hittime = 14

[State 600, 3]
type = CtrlSet
trigger1 = Time = 17
value = 1

;---------------------------------------------------------------------------
;Jump Medium Punch
; CNS difficulty: easy
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 30
ctrl = 0
anim = 610
sprpriority = 2

[State 610, 1]
type = Playsnd
trigger1 = Animelem = 2
value = 0, 10

[State 610, 2]
type = PlaySnd
trigger1 = Animelem = 2
trigger2 = Animelem = 5
trigger3 = Animelem = 9
value = 0, 9

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 78, 7
guardflag = HA
priority = 4
pausetime = 0,0
sparkno = S7001
sparkxy = -10,-25
hitsound   = S8,10
guardsound = S8,3
animtype = Med
ground.type = High
ground.slidetime = 12
ground.hittime  = 14
ground.velocity = -6
air.velocity = -3,9
fall = 1
down.bounce = 1
fall.damage = 32

;---------------------------------------------------------------------------
;Jump Strong Punch
; CNS difficulty: easy
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 45
ctrl = 0
anim = 620
sprpriority = 2

[State 620: Turn]
type = Turn
trigger1 = (P2Dist X < 10)
trigger1 = roundstate = 2

[State 620: VelSet]
type = VelSet
trigger1 = roundstate = 2
trigger1 = (!Time)
x = 6

[State 620: VelAdd]
type = VelAdd
trigger1 = roundstate = 2
trigger1 = (P2Dist X < 0) && (Vel X > -6)
x = -1

[State 620: VelAdd]
type = VelAdd
trigger1 = roundstate = 2
trigger1 = (P2Dist X > 0) && (Vel X < 6)
x = 1

[State 620: VelAdd]
type = VelAdd
trigger1 = roundstate = 2
trigger1 = (EnemyNear, Pos Y > Pos Y) && (Vel Y < 6)
y = 1

[State 620: VelAdd]
type = VelAdd
trigger1 = roundstate = 2
trigger1 = (EnemyNear, Pos Y <= Pos Y) && (Vel Y > -6)
y = -1

[State 620, 2]
type = PlaySnd
trigger1 = Animelem = 2
trigger2 = animelem = 7
value = 0, 8

[State 620, 3]
type = HitDef
trigger1 = Animelem = 2
trigger2 = animelem = 7
attr = A, NA
damage = 14,4
guardflag = HA
priority = 4
pausetime = 0,0
sparkno = S7001
sparkxy = 0,-25
hitsound   = S8,0
guardsound = S8,11
animtype = Med
ground.type = High
ground.slidetime = 12
ground.hittime  = 14
ground.velocity = 0,-2
air.velocity = 0,0.5

;---------------------------------------------------------------------------
;Jump Light Kick
; CNS difficulty: easy
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 10
ctrl = 0
anim = 630
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
x = 0
y = -1

[State 630, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 630, 2]
type = HitDef
trigger1 = animelem = 1
trigger2 = animelem = 4
trigger3 = animelem = 5
trigger4 = animelem = 8
attr = A, NA
damage = 33, 6
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = S7001
sparkxy = -5,-35
hitsound   = S8,4
guardsound = S8,3
ground.type = High
ground.slidetime = 6
ground.hittime  = 14
ground.velocity = -4
air.velocity = 0,-0.5
air.hittime = 14

;---------------------------------------------------------------------------
;Jump Medium Kick
; CNS difficulty: easy
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 30
ctrl = 0
anim = 640
sprpriority = 2

[State 640, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 640, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 62, 11
guardflag = HA
hitflag = MAF
priority = 4
pausetime = 0,0
sparkno = S7002
sparkxy = -10,-40
hitsound   = s5,29
guardsound = s8,3
animtype = Med
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -10, -8
air.velocity = -15,-8
p2stateno = 1025  

[State 640, 4]
type = CtrlSet
trigger1 = Time = 19
value = 1

;---------------------------------------------------------------------------
;Backward Jump Medium Kick
; CNS difficulty: easy
[Statedef 641]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 30
ctrl = 0
anim = 641
sprpriority = 2

[State 641, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 641, 3]
type = HitDef
trigger1 = Animelem = 2
attr = A, NA
damage    = 70, 3
guardflag = HA
priority = 4
pausetime = 0,0
sparkno = S7001
sparkxy = -10,-40
hitsound   = s5,28
guardsound = s8,3
animtype = Med
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5, -4
air.velocity = -6.5,-4 

[State 641, 3]
type = HitDef
trigger1 = Animelem = 4
attr = A, NA
damage    = 82, 10
guardflag = HA
priority = 4
pausetime = 0,0
sparkno = S7001
sparkxy = -10,-40
hitsound   = s5,28
guardsound = s8,3
animtype = Med
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 19, -8
air.velocity = 21,-8
p2stateno = 1025  

[State 641, 4]
type = CtrlSet
trigger1 = Time = 19
value = 1

;---------------------------------------------------------------------------
;Jump Strong Kick
; CNS difficulty: easy
[Statedef 650]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 30
velset = 20, -3
ctrl = 0
anim = 650
sprpriority = 2

[State 650, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 650, 3]
type = HitDef
trigger1 = animelem = 2
attr = A, NA
damage    = 22, 2
guardflag = HA
priority = 4
pausetime = 0,0
sparkno = S7001
sparkxy = -10,-40
hitsound   = S8,10
guardsound = S8,3
animtype = Med
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0, 0
air.velocity = 0,0

[State 650, 4]
type = HitDef
trigger1 = animelem = 7
attr = A, NA
damage    = 57, 13
guardflag = HA
priority = 4
pausetime = 0,0
sparkno = S7001
sparkxy = -10,-40
hitsound   = S8,10
guardsound = S8,3
animtype = Med
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -10, -8
air.velocity = -15,-4
p2stateno = 1025  

[State 650, 5]
type = CtrlSet
trigger1 = Time = 32
value = 1

;---------------------------------------------------------------------------
;12 Drill
[Statedef 660]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 45
ctrl = 0
anim = 660
sprpriority = 2

[State 660: VelSet]
type = VelSet
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
trigger6 = animelem = 6
x = -4
y = -2

[State 660: VelSet]
type = VelSet
trigger1 = animelem = 7
trigger2 = animelem = 8
trigger3 = animelem = 9
trigger4 = animelem = 10
trigger5 = animelem = 11
trigger6 = animelem = 12
x = 20
y = 12

[State 660, 3]
type = HitDef
trigger1 = Animelem = 7
trigger2 = animelem = 8
trigger3 = animelem = 9
trigger4 = animelem = 10
trigger5 = animelem = 11
trigger6 = animelem = 12
attr = A, NA
damage = 50,4
guardflag = HA
priority = 4
pausetime = 0,20
sparkno = S7001
sparkxy = 0,-25
hitsound   = S8,0
guardsound = S8,3
animtype = Med
ground.type = High
ground.slidetime = 12
ground.hittime  = 14
ground.velocity = 0,-2
air.velocity = 0,0.5

;---------------------------------------------------------------------------
;Spinning Scam Throw - Attempt
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, NT          
hitflag = MAF       
priority = 5, Hit
sparkno = -1          
p1sprpriority = 1     
                      
p1facing = 1
p2facing = 1          
p1stateno = 810       
p2stateno = 820       
guard.dist = 0        
fall = 1              

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 800, VarAdd] ;For AI - Count the times it misses, so Spin To can stop trying to grab in case they have super armor
type = VarAdd
trigger1 = animelem = 4
fv = 7
value = 1

;---------------------------------------------------------------------------
;Spinning Scam Throw - Throwing the opponent
[Statedef 810]
type    = S
movetype= A
physics = N
anim = 810
poweradd = 0

[State 800, Varset] ;For AI - Reset the miss counter if it hits, to confirm that they can be grabbed.
type = Varset
trigger1 = animelem = 1
fvar(7) = 0

[State 810, Grab Sound]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 1

[State 810, Throw Sound]
type = PlaySnd
trigger1 = AnimElem = 7
value = 800, 0

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 48, 30

[State 810, Width 2-11]
type = Width
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(12) < 0
edge = 60,0

[State 810, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 2
value = 0, 6

[State 810, Bind 2]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
pos = 48, 0


[State 810, Bind 3]
type = TargetBind
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
pos = 20, -30

[State 810, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 4
value = 0, 6

[State 810, Bind 4]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(5) < 0
pos = -10, -30

[State 810, Bind 5]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
pos = -48, 0

[State 810, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 6
value = 0, 6

[State 810, Bind 6]
type = TargetBind
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(7) < 0
pos = -30, 30

[State 810, Bind 7]
type = TargetBind
trigger1 = AnimElemTime(7) >= 0 && AnimElemTime(8) < 0
pos = 0, 48

[State 810, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 8
value = 0, 6

[State 810, Bind 8]
type = TargetBind
trigger1 = AnimElemTime(8) >= 0 && AnimElemTime(9) < 0
pos = 30, 30

[State 810, Bind 9]
type = TargetBind
trigger1 = AnimElemTime(9) >= 0 && AnimElemTime(10) < 0
pos = 48, 0

[State 810, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 10
value = 0, 6

[State 810, Bind 10]
type = TargetBind
trigger1 = AnimElemTime(10) >= 0 && AnimElemTime(11) < 0
pos = 8, -30

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 11
pos = -22, 5

[State 810, Hurt 11]
type = TargetLifeAdd
trigger1 = AnimElem = 11
value = -(lifemax * 0.1)

[State 0, TargetPowerAdd]
type = TargetPowerAdd
trigger1 = AnimElem = 11
value = -333

[State 810, Throw 11]
type = TargetState
trigger1 = AnimElem = 11
value = 821

[State 810, Turn 12]
type = Turn
trigger1 = AnimElem = 12

[State 810, Pos 15]
type = PosAdd
trigger1 = AnimElem = 15
x = -10

[State 810, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*45
 
[State 810, AngleDraw]
type = AngleDraw
trigger1 = anim = 810
trigger1 = time > 5
value = fvar(5)


[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Thrown by Spinning Scam Throw
[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 5

[State 821, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*(-30)

 
[State 821, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 820

;In case attacker loses binding on player for any reason, this controller
;guarantees that the player will never get scammed too hard.
[State 820, 2]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050

;---------------------------------------------------------------------------
;Thrown by Spinning Scam Throw - thrown into the air
[Statedef 821]
type    = A
movetype= H
physics = N
velset = 15,-55
poweradd = 40

[State 821, 0]  ;A rare display of somewhat decent game balance.
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 821, 1] ;Gravity
type = VelAdd
Trigger1 = 1
y = .4

[State 821, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*(-75)

[State 821, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)

[State 810, Hurt 11]
type = LifeAdd
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = -(lifemax * 0.06)

[State 821, 4]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground

;---------------------------------------------------------------------------
; Light Spinning Bird Kick
[Statedef 1000]
type    = A
movetype= A
physics = S
juggle  = 4
poweradd= 55
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1000, 1]
type = PlaySnd
trigger1 = Animelem = 8
value = 0, 2

[State 1000, 1]
type = PlaySnd
trigger1 = Animelem = 8
value = 5, 1

[State 1000, 1]
type = PlaySnd
trigger1 = Animelem = 9
trigger2 = Animelem = 13
value = 0, 6

[State 1000, "Jump"]
type = StateTypeSet
trigger1 = Animelem = 8
statetype = A
physics = N

[State 1000, VelSet]
type = VelSet
trigger1 = Animelem = 7
x = 5

[State 1000, VelSet]
type = VelSet
trigger1 = Animelem = 17
x = 0.5

[State 1000, 5]
type = HitDef
trigger1 = Animelem = 9
attr = S, SA
animtype  = Hard
damage    = 25, 5
priority  = 5
guardflag = MA
pausetime = 15,15
sparkno = S7002
sparkxy = -10,-60
hitsound   = S8,8
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime  = 17
ground.velocity = -4,-3.5
air.velocity = -4,-3
fall = 1

[State 1000, 6]
type = HitDef
trigger1 = Animelem = 13
attr = S, SA
animtype  = Hard
damage    = 40, 10
priority  = 4
guardflag = HA
pausetime = 15,15
sparkno = S7002
sparkxy = -10,-60
hitsound   = S8,9
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime  = 17
ground.velocity = -7
air.velocity = -4,-2.5

[State 1000, 7]
type = ChangeState
trigger1 = Animtime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Medium Spinning Bird Kick
[Statedef 1010]
type    = A
movetype= A
physics = S
juggle  = 4
poweradd= 60
velset = 0,0
anim = 1010
ctrl = 0
sprpriority = 2

[State 1010, 1]
type = PlaySnd
trigger1 = Animelem = 8
value = 0, 2

[State 1010, 1]
type = PlaySnd
trigger1 = Animelem = 8
value = 5, 1

[State 1010, 1]
type = PlaySnd
trigger1 = Animelem = 9
trigger2 = Animelem = 13
trigger3 = Animelem = 17
trigger4 = Animelem = 21
value = 0, 6

[State 1010, "Jump"]
type = StateTypeSet
trigger1 = AnimElem = 8
stateType = A
physics = N

[State 1010, VelSet]
type = VelSet
trigger1 = AnimElem = 7
x = 6

[State 1010, VelSet]
type = VelSet
trigger1 = AnimElem = 25
x = 0.5

[State 1010, 5]
type = HitDef
trigger1 = AnimElem = 8
attr = S, SA
animtype  = Medium
damage    = 10, 5
guardflag = MA
pausetime = 15,15
sparkno = S7002
sparkxy = -10,-60
hitsound   = S8,8
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime  = 17
ground.velocity = -2, -3
air.velocity = -4,-2.5

[State 1010, 5] 
type = HitDef
trigger1 = AnimElem = 13
attr = S, SA
animtype  = Medium
damage    = 20, 10
guardflag = HA
pausetime = 15,15
sparkno = S7002
sparkxy = -10,-60
hitsound   = S8,9
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime  = 17
ground.velocity = -2, -3
air.velocity = -4,-2.5

[State 1010, 5] 
type = HitDef
trigger1 = AnimElem = 17
attr = S, SA
animtype  = Medium
damage    = 20, 10
guardflag = HA
pausetime = 15,15
sparkno = S7002
sparkxy = -10,-60
hitsound   = S8,9
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime  = 17
ground.velocity = -2, -3
air.velocity = -4,-2.5

[State 1010, 6] 
type = HitDef
trigger1 = AnimElem = 21
attr = S, SA
animtype  = Hard
damage    = 30, 15
priority  = 5
guardflag = HA
pausetime = 15,15
sparkno = S7002
sparkxy = -10,-60
hitsound   = S8,10
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime  = 17
ground.velocity = -4,-3.5
air.velocity = -4,-3
fall = 1

[State 1010, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Literal Spinning Bird Kick
[Statedef 1020]
type    = S
movetype= A
physics = N
juggle  = 1
poweradd= 75
velset = 0,0
anim = 1020
ctrl = 0
sprpriority = 2

[State 1020, Offset]
type = Offset
trigger1 = 1
x = 0
y = -55


[State 1020, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = -(time*55)

 
[State 1020, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)

[State 1010, 1]
type = PlaySnd
trigger1 = Animelem = 1
value = 5, 2

[State 1010, 1]
type = PlaySnd
trigger1 = Animelem = 1
trigger2 = Animelem = 2
trigger3 = Animelem = 3
trigger4 = Animelem = 4
value = 0, 6

[State 1010, VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 20

[State 1010, VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = 0.5
y = 0.5

[State 1020, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 80

[State 1020, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(8) < 0
time = 2

[State 1020, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 80
add = 32,16,0
sinadd = 64,32,5,3

[State 1020, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 3

[State 1010, 5] 
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype  = Medium
hitflag = MAFD
damage    = enemy, lifemax * 0.020, 10
guardflag = HA
pausetime = 0,15
ignorehitpause = 1
sparkno = S7002
sparkxy = -10,-90
hitsound   = S8,7
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime  = 25
ground.velocity = 0, 0
air.velocity = 0, 0

[State 1010, 5] 
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
animtype  = Medium
hitflag = MAFD
damage    = enemy, lifemax * 0.015, 10
guardflag = HA
pausetime = 0,15
ignorehitpause = 1
sparkno = S7002
sparkxy = -8,-90
hitsound   = S8,7
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime  = 25
ground.velocity = 0
air.velocity = 0, 0

[State 1010, 5] 
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype  = Medium
hitflag = MAFD
damage    = enemy, lifemax * 0.015, 10
guardflag = HA
pausetime = 0,15
ignorehitpause = 1
sparkno = S7002
sparkxy = -14,-90
hitsound   = S8,7
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime  = 25
ground.velocity = 0, 0
air.velocity = 0 , 0

[State 1020, 6]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
animtype  = Hard
hitflag = MAFD
damage    = enemy, lifemax * 0.065, 35
getpower  = 0
priority  = 4
guardflag = MA
pausetime = 0,5
ignorehitpause = 1
sparkno = S7002
sparkxy = -10,-90
hitsound   = S8,10
guardsound = S8,3
ground.type = Low
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = -8,-7
guard.velocity = -7
air.velocity = -8,-7
airguard.velocity = -5, -4
fall = 1
p2stateno = 1025    
p2facing = 1        

[State 1020, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Air Literal Spinning Bird Kick
[Statedef 1021]
type    = A
movetype= A
physics = N
juggle  = 1
poweradd= 75
velset = 0,0
anim = 1020
ctrl = 0
sprpriority = 2

[State 1020, Pos]
type = PosAdd
trigger1 = Animelem = 1
y = -1

[State 1020, "Jump"]
type = StateTypeSet
trigger1 = AnimElem = 4
StateType = A
physics = N

[State 1020, Offset]
type = Offset
trigger1 = 1
x = 0
y = -55

[State 1020, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = -(time*55)
 
[State 1020, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)

[State 1010, 1]
type = PlaySnd
trigger1 = Animelem = 1
value = 5, 2

[State 1010, 1]
type = PlaySnd
trigger1 = Animelem = 1
trigger2 = Animelem = 2
trigger3 = Animelem = 3
trigger4 = Animelem = 4
value = 0, 6

[State 1010, VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 20

[State 1010, VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = 0.5
y = 0.5

[State 1020, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 80

[State 1020, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(8) < 0
time = 2

[State 1020, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 80
add = 32,16,0
sinadd = 64,32,5,3

[State 1020, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 3

[State 1010, 5] 
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype  = Medium
hitflag = MAFD
damage    = 10, 10
guardflag = HA
pausetime = 0,15
ignorehitpause = 1
sparkno = S7002
sparkxy = -10,-90
hitsound   = S8,7
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime  = 25
ground.velocity = 0, 0
air.velocity = 0, 0

[State 1010, 5] 
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
animtype  = Medium
hitflag = MAFD
damage    = 25, 10
guardflag = HA
pausetime = 0,15
ignorehitpause = 1
sparkxy = -8,-90
hitsound   = S8,7
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime  = 25
ground.velocity = 0
air.velocity = 0, 0

[State 1010, 5] 
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype  = Medium
hitflag = MAFD
damage    = 30, 10
guardflag = HA
pausetime = 0,15
ignorehitpause = 1
sparkno = S7002
sparkxy = -14,-90
hitsound   = S8,7
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime  = 25
ground.velocity = 0, 0
air.velocity = 0 , 0

[State 1020, 6]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
animtype  = Hard
hitflag = MAFD
damage    = 70, 35
getpower  = 0
priority  = 4
guardflag = MA
pausetime = 0,5
ignorehitpause = 1
sparkxy = -10,-90
hitsound   = S8,10
guardsound = S8,3
ground.type = Low
ground.slidetime = 20
ground.hittime  = 22
ground.velocity = -8,-7
guard.velocity = -7
air.velocity = -8,-7
airguard.velocity = -5, -4
fall = 1
p2stateno = 1025    
p2facing = 1        

[State 1020, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;------------------
; Wallbounce
[Statedef 1025]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1025, Anim]
type = ChangeAnim2
trigger1 = 1
value = 1025

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 1026


[State 1025, Offset]
type = Offset
trigger1 = 1
x = 0
y = -45

[State 1025, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*45

 
[State 1025, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


;------------------
; Wallbounce
[Statedef 1026]
type    = A
movetype= H
physics = N

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 1027

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;------------------
; Wallbounce - Hit Wall
[Statedef 1027]
type    = A
movetype= H
physics = N

[State 1027, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1027, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1027, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 1027, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 1027

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 1028

[State 1025, Offset]
type = Offset
trigger1 = 1
x = 0
y = -45


[State 1025, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*45

 
[State 1025, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


;------------------
; Wallbounce - bounce off wall
[Statedef 1028]
type    = A
movetype= H
physics = N

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 3.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Offset]
type = Offset
trigger1 = 1
x = 0
y = -54


[State 1028, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*45

 
[State 1028, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1028, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 1028

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;---------------------------------------------------------------------------
; Close Aether
[Statedef 1200]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 80
velset = 0,0
anim = 1200
ctrl = 0
sprpriority = 2

[State 1200, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1200, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = 7, 1

[State 1200, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 8

[State 1200, 2]
type = HitDef
trigger1 = Animelem = 7
trigger2 = Animelem = 8
attr = S, SA
animtype  = Up
damage    = 7, 2
guardflag = MA
pausetime = 0,0
sparkno = S7000
sparkxy = -10,-37
hitsound   = S8,0
guardsound = S8,3
ground.type = Low
ground.slidetime = 10
ground.hittime  = 14
ground.velocity = -1,-12
air.velocity = 0,-12

[State 1200, 3]
type = HitDef
trigger1 = animelem = 9
trigger2 = animelem = 10
trigger3 = animelem = 11
trigger4 = animelem = 12
trigger5 = animelem = 13
trigger6 = animelem = 14
trigger7 = animelem = 15
attr = S, SA
damage = 8,1
guardflag = HA
priority = 4
pausetime = 0,0
sparkno = S7000
sparkxy = 0,-185
hitsound   = S8,0
guardsound = S8,3
animtype = Med
ground.type = High
ground.slidetime = 12
ground.hittime  = 14
ground.velocity = 0,-2
air.velocity = 0,-5.5

[State 1200, 4]
type = HitDef
trigger1 = animelem = 16
trigger2 = animelem = 17
trigger3 = animelem = 19
trigger4 = animelem = 21
trigger5 = animelem = 23
trigger6 = animelem = 25
attr = S, SA
damage = 14,2
guardflag = HA
priority = 4
pausetime = 0,0
sparkno = S7001
sparkxy = 0,-185
hitsound   = S8,0
guardsound = S8,3
animtype = Med
ground.type = High
ground.slidetime = 12
ground.hittime  = 14
ground.velocity = 0,3
air.velocity = -0.25,3

[State 1200, PlaySnd]
type = PlaySnd
trigger1 = Time = 2
value = 0, 8

[State 1200, 5]
type = HitDef
trigger1 = Animelem = 27
attr = S, SA
damage = 24, 8
guardflag = HA
priority = 4
pausetime = 0,0
sparkno = S7001
sparkxy = 0,-105
hitsound   = S8,0
guardsound = S8,11
animtype = Med
ground.type = High
ground.slidetime = 12
ground.hittime  = 14
ground.velocity = 0,0
air.velocity = 0.5,32

[State 1200, 6]
type = HitDef
trigger1 = Animelem = 28
attr = S, SA
damage = 44, 21
guardflag = HA
priority = 4
pausetime = 0,0
sparkno = S7002
sparkxy = -60,-25
hitsound   = S8,0
guardsound = S8,11
animtype = Med
ground.type = High
ground.slidetime = 12
ground.hittime  = 14
ground.velocity = -10,-7
air.velocity = -10,-7
p2stateno = 1025  

[State 1200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Medium Aether
[Statedef 1210]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 80
velset = 0,0
anim = 1200
ctrl = 0
sprpriority = 2

[State 1200, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1210, VelSet]
type = VelSet
trigger1 = animelem = 16
x = 16
y = 0

[State 1210, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = 7, random%1

[State 1210, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 8

[State 1210, 2]
type = HitDef
trigger1 = Animelem = 7
trigger2 = Animelem = 8
attr = S, SA
animtype  = Up
damage    = 12, 2
guardflag = MA
pausetime = 0,0
sparkno = S7000
sparkxy = -10,-37
hitsound   = S8,0
guardsound = S8,3
ground.type = Low
ground.slidetime = 10
ground.hittime  = 14
ground.velocity = -1,-12
air.velocity = 0,-12

[State 1210, 3]
type = HitDef
trigger1 = animelem = 9
trigger2 = animelem = 10
trigger3 = animelem = 11
trigger4 = animelem = 12
trigger5 = animelem = 13
trigger6 = animelem = 14
trigger7 = animelem = 15
attr = S, SA
damage = 8,1
guardflag = HA
priority = 4
pausetime = 0,0
sparkno = S7000
sparkxy = 0,-185
hitsound   = S8,0
guardsound = S8,3
animtype = Med
ground.type = High
ground.slidetime = 12
ground.hittime  = 14
ground.velocity = 0,-2
air.velocity = -1.1,-5.7


[State 1210, 4]
type = HitDef
trigger1 = animelem = 16
trigger2 = animelem = 17
trigger3 = animelem = 19
trigger4 = animelem = 21
trigger5 = animelem = 23
trigger6 = animelem = 25
attr = S, SA
damage = 14,2
guardflag = HA
priority = 4
pausetime = 0,0
sparkno = S7001
sparkxy = 0,-185
hitsound   = S8,0
guardsound = S8,3
animtype = Med
ground.type = High
ground.slidetime = 12
ground.hittime  = 14
ground.velocity = 0,3
air.velocity = -1.8,3

[State 1210, PlaySnd]
type = PlaySnd
trigger1 = Time = 2
value = 0, 8

[State 1210, 5]
type = HitDef
trigger1 = Animelem = 27
attr = S, SA
damage = 24, 8
guardflag = HA
priority = 4
pausetime = 0,0
sparkno = S7001
sparkxy = 0,-105
hitsound   = S8,0
guardsound = S8,11
animtype = Med
ground.type = High
ground.slidetime = 12
ground.hittime  = 14
ground.velocity = 0,0
air.velocity = 0,32

[State 1210, 6]
type = HitDef
trigger1 = Animelem = 28
attr = S, SA
damage = 54, 21
guardflag = HA
priority = 4
pausetime = 0,0
sparkno = S7002
sparkxy = -60,-25
hitsound   = S8,0
guardsound = S8,11
animtype = Med
ground.type = High
ground.slidetime = 12
ground.hittime  = 14
ground.velocity = -9,-7
air.velocity = -9,-7
p2stateno = 1025  

[State 1210, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Far Aether
[Statedef 1220]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 80
velset = 0,0
anim = 1200
ctrl = 0
sprpriority = 2

[State 1200, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1220, VelSet]
type = VelSet
trigger1 = animelem = 16
x = 29
y = 0

[State 1220, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = 7, random%1

[State 1220, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 8

[State 1220, 2]
type = HitDef
trigger1 = Animelem = 7
trigger2 = Animelem = 8
attr = S, SA
animtype  = Up
damage    = 18, 6
guardflag = MA
pausetime = 0,0
sparkno = S7000
sparkxy = -10,-37
hitsound   = S8,0
guardsound = S8,3
ground.type = Low
ground.slidetime = 10
ground.hittime  = 14
ground.velocity = 0,-12
air.velocity = 0,-12

[State 1220, 3]
type = HitDef
trigger1 = animelem = 9
trigger2 = animelem = 10
trigger3 = animelem = 11
trigger4 = animelem = 12
trigger5 = animelem = 13
trigger6 = animelem = 14
attr = S, SA
damage = 8,1
guardflag = HA
priority = 4
pausetime = 0,0
sparkno = S7000
sparkxy = 0,-185
hitsound   = S8,0
guardsound = S8,3
animtype = Med
ground.type = High
ground.slidetime = 12
ground.hittime  = 14
ground.velocity = 0,-2
air.velocity = -1.1,-5.7

[State 1220, 3]
type = HitDef
trigger1 = animelem = 15
attr = S, SA
damage = 7,1
guardflag = HA
priority = 4
pausetime = 0,0
sparkno = S7000
sparkxy = 0,-185
hitsound   = S8,0
guardsound = S8,3
animtype = Med
ground.type = High
ground.slidetime = 12
ground.hittime  = 14
ground.velocity = -0.8,-3
air.velocity = -1.3,-5.5

[State 1220, 4]
type = HitDef
trigger1 = animelem = 16
trigger2 = animelem = 17
trigger3 = animelem = 19
trigger4 = animelem = 21
trigger5 = animelem = 23
trigger6 = animelem = 25
attr = S, SA
damage = 14,2
guardflag = HA
priority = 4
pausetime = 0,0
sparkno = S7001
sparkxy = 0,-185
hitsound   = S8,0
guardsound = S8,3
animtype = Med
ground.type = High
ground.slidetime = 12
ground.hittime  = 14
ground.velocity = 0,3
air.velocity = -8.2,3.6

[State 1220, PlaySnd]
type = PlaySnd
trigger1 = Time = 2
value = 0, 8

[State 1220, 5]
type = HitDef
trigger1 = Animelem = 27
attr = S, SA
damage = 28, 8
guardflag = HA
priority = 4
pausetime = 0,0
sparkno = S7001
sparkxy = 0,-105
hitsound   = S8,0
guardsound = S8,11
animtype = Med
ground.type = High
ground.slidetime = 12
ground.hittime  = 14
ground.velocity = 0,0
air.velocity = -1,32

[State 1220, 6]
type = HitDef
trigger1 = Animelem = 28
attr = S, SA
damage = 68, 28
guardflag = HA
priority = 4
pausetime = 0,0
sparkno = S7002
sparkxy = -60,-25
hitsound   = S8,0
guardsound = S8,11
animtype = Med
ground.type = High
ground.slidetime = 12
ground.hittime  = 14
ground.velocity = -8,-10
air.velocity = -8,-10
p2stateno = 1025 

[State 1220, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Do A Barrel Roll!
[Statedef 1300]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 1300
ctrl = 0
sprpriority = 1

[State 430, 1]
type = PlaySnd
Trigger1 = time = 0
trigger1 = prevstateno = 430
value = 5, 16

[State 1300]
type = NotHitBy
trigger1 = AnimElem = 1
value = , NT,ST,HT
time = 21

[State 1300]
type = NotHitBy
trigger1 = Animelem = 1
value2 = SCA
time = 21

[State 1300, VelSet]
type = VelSet
trigger1 = 1
x = 11
y = 0

[State 1300, Offset]
type = Offset
trigger1 = 1
x = 0
y = -45

[State 1300, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*45

 
[State 1300, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)

[State 1300, 1]
type = PlaySnd
trigger1 = Time = 0
value = 13, random%8

[State 1300, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; GO POPPY (Light)
; CNS difficulty: easy
[Statedef 1400]
type    = S
movetype= A
physics = N
juggle  = 4
poweradd= 50
velset = 0,0
anim = 1400
ctrl = 0
sprpriority = 2

[State 1400, Offset]
type = Offset
trigger1 = 1
x = 0
y = -45


[State 1400, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*15

 
[State 1400, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 1400, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5, 10

[State 1400, Helper]
type = Helper
trigger1 = animelemtime(1)=1
helpertype = normal
name = "Poppy"
ID = 1401
stateno = 1401
pos = 20,-50
postype = p1
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 1400, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;POPPY (Dog)
[Statedef 1401]
type = A
movetype = A
physics = N
anim = 1401
velset = 3,-0.5
sprpriority = 1

[State 1400, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*(-45)

 
[State 1400, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 1401, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype = Light
damage = 49, 12
guardflag = MA
pausetime = 0,16
sparkno = -1
sparkxy = -20,-40
hitsound = s8,0
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime = 13
ground.velocity = -6
air.velocity = -2.5, -4.5
fall = 1
fall.recover = 0
air.fall= 1

[State 1401, ChangeState]
type = ChangeState
trigger1 = movehit = 1
trigger2 = moveguarded = 1
value = 1403
ctrl = 0

[State 1401, 4]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;POPPY (Dog) bounce
[Statedef 1403]
type = A
movetype = A
physics = N
anim = 1401
sprpriority = 1

[State 1403, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*(45)

 
[State 1403, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 1403, 1]
type = VelSet
trigger1 = Time = 0
x = -6.6
y = -4.9

[State 1403, 2]
type = Veladd
trigger1 = Time >= 3
y = .33


[State 1403, 3]
type = PosSet
trigger1 = Time >= 3
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -3
y = 0

[State 1403, 4]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; GO POPPY (Strong)
; CNS difficulty: easy
[Statedef 1410]
type    = S
movetype= A
physics = N
juggle  = 4
poweradd= 50
velset = 0,0
anim = 1400
ctrl = 0
sprpriority = 2

[State 1410, Offset]
type = Offset
trigger1 = 1
x = 0
y = -45


[State 1410, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*45

 
[State 1410, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 1410, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5, 10

[State 1410, Helper]
type = Helper
trigger1 = animelemtime(1)=1
helpertype = normal
name = "PoppyS"
ID = 1404
stateno = 1404
pos = 20,-30
postype = p1
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 1410, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Slightly faster POPPY (Dog)
[Statedef 1404]
type = A
movetype = A
physics = N
anim = 1401
velset = 9,0
sprpriority = 1

[State 1404, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*(-45)

 
[State 1404, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 1404, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype = Light
damage = 53, 16
hitflag = MAFD
guardflag = MA
pausetime = 0,8
sparkno = -1
sparkxy = -20,-40
hitsound = s8,0
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime = 13
ground.velocity = -6
air.velocity = -2.5, -4
fall = 1
fall.recover = 0
air.fall= 1

[State 1404, ChangeState]
type = ChangeState
trigger1 = movehit = 1
trigger2 = moveguarded = 1
value = 1403
ctrl = 0

[State 1404, 4]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; GO POPPY (Yordle)
; CNS difficulty: easy
[Statedef 1420]
type    = S
movetype= A
physics = N
juggle  = 4
poweradd= 50
velset = 0,0
anim = 1420
ctrl = 0
sprpriority = 2

[State 1420, Offset]
type = Offset
trigger1 = 1
x = 0
y = -45

[State 1420, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*60

[State 1420, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)

[State 1420, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5, 10

[State 1420, 2] 
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype  = Medium
hitflag = MAFD
damage    = 5, 1
guardflag = HA
pausetime = 0,5
ignorehitpause = 1
sparkno = S7000
sparkxy = -10,-90
hitsound   = S8,7
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime  = 28
ground.velocity = 0, 0
guard.hittime = 20
air.velocity = 0, 0

[State 1420, 3] 
type = HitDef
trigger1 = AnimElem = 2
attr = S, SA
animtype  = Medium
hitflag = MAFD
damage    = 5, 4
guardflag = HA
pausetime = 0,5
ignorehitpause = 1
sparkno = S7000
sparkxy = -8,-90
hitsound   = S8,7
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime  = 28
ground.velocity = 0, 0
guard.hittime = 20
air.velocity = 0, 0

[State 1420, 4] 
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype  = Medium
hitflag = MAFD
damage    = 8, 7
guardflag = HA
pausetime = 0,10
ignorehitpause = 1
sparkno = S7000
sparkxy = -14,-90
hitsound   = S8,7
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime  = 28
ground.velocity = 0, 0
guard.hittime = 20
air.velocity = 0 , 0

[State 1420, 5]
type = Helper
trigger1 = animelemtime(1)=1
helpertype = normal
name = "Poopy"
ID = 1405
stateno = 1405
pos = 300,-50
postype = p1
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 1420, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;POPPY (Yordle)
[Statedef 1405]
type = A
movetype = A
physics = N
anim = 1405
velset = -6.5,0
sprpriority = 1

[State 1405, Explod]
type = Explod
trigger1 = numexplod(9006) = 0
trigger1 = movecontact
anim = 9006
ID = 9006
pos = 160,100
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 80
pausemovetime = 65535
supermovetime = 65535
scale = (1.2 * GameHeight / GameWidth),(GameHeight / GameWidth)
sprpriority = -5
ownpal = 1

[State 1405, Help]
type = modifyexplod
trigger1 = NumExplod(9006) > 0
ID = 9006
scale = (1 * Time) * (0.04 * GameHeight / GameWidth), (1 * Time) * (0.04 * GameHeight / GameWidth)
trans = Addalpha
alpha = 256 - (3 * Time), 256

[State 1405, 1]
type = PlaySnd
trigger1 = time = 10
value = 5, 11

[State 1405, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*(10)

 
[State 1405, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 1405, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype = Light
damage = 60, 10
guardflag = MA
pausetime = 0,8
sparkno = -1
sparkxy = -20,-40
hitsound = s8,0
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime = 19
ground.velocity = 6, -9
air.velocity = 6, -9
fall = 1
fall.recover = 0
air.fall= 1

[State 1405, 3]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;LOSER!
[Statedef 6000]
type    = S
movetype= A
physics = N
juggle  = 4
poweradd= 0
velset = 0,0
anim = 0
ctrl = 0
sprpriority = 2


[State 6000, CtrlSet]
type = CtrlSet
trigger1 = time = 0
value = 1

[State 6000, Offset]
type = Offset
trigger1 = 1
x = 0
y = -45


[State 6000, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*45

 
[State 6000, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 6000, Helper]
type = Helper
trigger1 = 1
trigger1 = numhelper(6001) = 0
trigger1 = facing = 1
helpertype = normal
name = "Hank"
ID = 6001
stateno = 6001
pos = 0,0
postype = left
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0


[State 6000, Helper]
type = Helper
trigger1 = 1
trigger1 = numhelper(6100) = 0
trigger1 = facing = -1
helpertype = normal
name = "Reverse Hank"
ID = 6100
stateno = 6100
pos = 0,0
postype = left
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0



[State 6000, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Hank
[Statedef 6001]
type = A
movetype = A
physics = N
anim = 3655
velset = 0,0
sprpriority = 1

[State 6001, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5, 18

[State 6001, PosAdd]
type = PosAdd
trigger1 = 1
x = 280 - (screenpos x)
y = 200 - (screenpos y)
ignorehitpause = 1

[State 6001, 2]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype = Hard
affectteam = E
damage = 40, 20
hitflag = MAFD
guardflag = MA
givepower = -100, -100
pausetime = 50,50
sparkno = -1
sparkxy = -20,-40
hitsound   = S8,7
guardsound = S8,3
ground.type = Low
ground.slidetime = 5
ground.hittime = 50
down.hittime = 50
ground.velocity = 15, -6
air.velocity = 15, 0
fall = 1
air.fall= 1
numhits = 1
ignorehitpause = 0

[State 6001, 2]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Reverse Hank
[Statedef 6100]
type = A
movetype = A
physics = N
anim = 3660
velset = 0,0
sprpriority = 1

[State 6100, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5, 18

[State 6100, PosAdd]
type = PosAdd
trigger1 = 1
x = 40 - (screenpos x)
y = 200 - (screenpos y)
ignorehitpause = 1

[State 6100, 2]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype = Hard
affectteam = E
damage = 40, 20
hitflag = MAFD
guardflag = MA
givepower = -100, -100
pausetime = 50, 50
sparkno = -1
sparkxy = -20,-40
hitsound   = S8,7
guardsound = S8,3
ground.type = Low
ground.slidetime = 5
ground.hittime = 50
down.hittime = 50
ground.velocity = -15, -6
air.velocity = -15, 0
fall = 1
air.fall= 1
numhits = 1
ignorehitpause = 1

[State 6001, 2]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;YOU'RE A LOSER!
; CNS difficulty: easy
[Statedef 6002]
type    = S
movetype= A
physics = N
juggle  = 4
poweradd= 0
velset = 0,0
anim = 0
ctrl = 0
sprpriority = 2

[State 6002, CtrlSet]
type = CtrlSet
trigger1 = time = 0
value = 1

[State 6002, Offset]
type = Offset
trigger1 = 1
x = 0
y = -45


[State 6002, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*45

 
[State 6002, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 6002, Helper]
type = Helper
trigger1 = 1
trigger1 = numhelper(6003) = 0
trigger1 = facing = 1
helpertype = normal
name = "Hill"
ID = 6003
stateno = 6003
pos = 0,0
postype = left
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 6002, Helper]
type = Helper
trigger1 = 1
trigger1 = numhelper(6300) = 0
trigger1 = facing = -1
helpertype = normal
name = "Reverse Hill"
ID = 6300
stateno = 6300
pos = 0,0
postype = left
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 6002, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Hill
[Statedef 6003]
type = A
movetype = A
physics = N
anim = 3660
velset = 0,0
sprpriority = 1

[State 6003, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5, 19

[State 6003, PosAdd]
type = PosAdd
trigger1 = 1
x = 40 - (screenpos x)
y = 200 - (screenpos y)
ignorehitpause = 1

[State 6003, 2]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype = Hard
affectteam = E
damage = 50, 30
hitflag = MAFD
guardflag = MA
givepower = -100, -100
pausetime = 50, 50
sparkno = -1
sparkxy = -20,-40
hitsound   = S8,8
guardsound = S8,3
ground.type = Low
ground.slidetime = 5
ground.hittime = 50
down.hittime = 50
ground.velocity = -15, -6
air.velocity = -15, 0
fall = 1
air.fall= 1
numhits = 1
ignorehitpause = 1

[State 6003, 2]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Reverse Hill
[Statedef 6300]
type = A
movetype = A
physics = N
anim = 3655
velset = 0,0
sprpriority = 1

[State 6300, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5, 19

[State 6300, PosAdd]
type = PosAdd
trigger1 = 1
x = 280 - (screenpos x)
y = 200 - (screenpos y)
ignorehitpause = 1

[State 6300, 2]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype = Hard
affectteam = E
damage = 50, 30
hitflag = MAFD
guardflag = MA
givepower = -100, -100
pausetime = 50, 50
sparkno = -1
sparkxy = -20,-40
hitsound   = S8,8
guardsound = S8,3
ground.type = Low
ground.slidetime = 5
ground.hittime = 50
down.hittime = 50
ground.velocity = 15, -6
air.velocity = 15, 0
fall = 1
air.fall= 1
numhits = 1
ignorehitpause = 1

[State 6300, 2]
type = DestroySelf
trigger1 = animtime = 0


;---------------------------------------------------------------------------
;LLOOSSEERR!!
; CNS difficulty: easy
[Statedef 6004]
type    = S
movetype= A
physics = N
juggle  = 4
poweradd= 0
velset = 0,0
anim = 0
ctrl = 0
sprpriority = 2

[State 6004, CtrlSet]
type = CtrlSet
trigger1 = time = 0
value = 1

[State 6004, Offset]
type = Offset
trigger1 = 1
x = 0
y = -45

[State 6004, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*45

 
[State 6004, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 6004, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(6005) = 0
trigger1 = facing = 1
helpertype = normal
name = "Hank Hill"
ID = 6005
stateno = 6005
pos = 0,0
postype = left
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0


[State 6004, Helper]
type = Helper
trigger1 = time = 0
trigger1 = numhelper(6500) = 0
trigger1 = facing = -1
helpertype = normal
name = "Reverse Hank Hill"
ID = 6500
stateno = 6500
pos = 0,0
postype = left
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 6004, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Hank Hill
[Statedef 6005]
type = A
movetype = A
physics = N
anim = 3665
velset = 0,0
sprpriority = 1

[State 6005, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5, 20

[State 6005, PosAdd]
type = PosAdd
trigger1 = 1
x = 320 - (screenpos x)
y = -20 - (screenpos y)
ignorehitpause = 1

[State 6005, 2]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype = Hard
affectteam = E
damage = 50, 30
hitflag = MAFD
guardflag = MA
givepower = -100, -100
pausetime = 50, 50
sparkno = -1
sparkxy = -20,-40
hitsound   = S8,9
guardsound = S8,3
ground.type = Low
ground.slidetime = 5
ground.hittime = 50
down.hittime = 50
ground.velocity = 0, 15
air.velocity = 0, 15
fall = 1
air.fall= 1
numhits = 1
ignorehitpause = 1

[State 6005, 2]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Reverse Hank Hill
[Statedef 6500]
type = A
movetype = A
physics = N
anim = 3666
velset = 0,0
sprpriority = 1

[State 6500, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5, 20

[State 6500, PosAdd]
type = PosAdd
trigger1 = 1
x = 0 - (screenpos x)
y = -20 - (screenpos y)
ignorehitpause = 1

[State 6500, 2]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype = Hard
affectteam = E
damage = 50, 30
hitflag = MAFD
guardflag = MA
givepower = -100, -100
pausetime = 50, 50
sparkno = -1
sparkxy = -20,-40
hitsound   = S8,9
guardsound = S8,3
ground.type = Low
ground.slidetime = 5
ground.hittime = 50
down.hittime = 50
ground.velocity = 0, 15
air.velocity = 0, 15
fall = 1
air.fall= 1
numhits = 1
ignorehitpause = 1

[State 6500, 2]
type = DestroySelf
trigger1 = animtime = 0



;---------------------------------------------------------------------------
; I have no idea where I'm going with this.
; CNS difficulty: random%1
[Statedef 6666]
type    = A
movetype= A
physics = N
juggle  = 4
poweradd= (-500+(random%700))
velset = 0,0
anim = 6667
ctrl = 0
sprpriority = 2

[State 6666, Explod]
type = Explod
trigger1 = numexplod(6668) = 0
trigger1 = numexplod(6669) = 0
trigger1 = facing = 1
anim = 6668
ID = 6668
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
pausemovetime = 65535
supermovetime = 65535
scale = 0.5, 0.5
sprpriority = -5
ownpal = 1

[State 6666, Explod]
type = Explod
trigger1 = numexplod(6668) = 0
trigger1 = numexplod(6669) = 0
trigger1 = facing = -1
anim = 6669
ID = 6669
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
pausemovetime = 65535
supermovetime = 65535
scale = 0.5, 0.5
sprpriority = -5
ownpal = 1


[State 6666, Offset]
type = Offset
trigger1 = 1
x = 0
y = -95

[State 6666, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*random%15

 
[State 6666, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)

[State 6666, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5, 12

[State 6666, Helper]
type = Helper
trigger1 = animelemtime(1)=1
helpertype = normal
name = "Spok"
ID = 6667
stateno = 6667
pos = -90,(-200+(random%100))
postype = p1
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 6666, HitDef]
type = HitDef
trigger1 = 1
attr = S,SA
hitflag = MAFD
guardflag = MA         
animtype = light          
air.animtype = light
damage = (-20+(random%40)),(-1+(random%2))
pausetime = 0 ,0
sparkno = S7000+(random%2)
sparkxy = -30+(random%30),170-(random%345)
hitsound   = S0,15
guardsound = S0,15
ground.type = Low
ground.slidetime = 0
ground.hittime = 0
air.hittime = 5
ground.velocity = (-2+(random%4)), 0
air.velocity = (-2+(random%4)), 0

[State 6666, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Skelebones
[Statedef 6667]
type = A
movetype = A
physics = N
anim = 6666
velset = random%15,(-4+(random%8))
sprpriority = 1

[State 6667, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*(-95)
 
[State 6667, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)

[State 6667, 1]
type = HitDef
trigger1 = animelem = 1
attr = S, SA
animtype = Light
damage = (-random%405+(random%1105)), (-random%405+(random%1105))
givepower = (-600+(random%1000))
hitflag = MAFD
guardflag = MA
pausetime = 0,0
sparkno = S7002
sparkxy = -random%20,-random%40
hitsound = s8,random%13
guardsound = s8,random%13
ground.type = High
ground.slidetime = random%30
ground.hittime = random%40
ground.velocity = -random%40, -random%15
air.velocity = -random%40, -random%15

[State 6667, 4]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Sharknado (hyper)
; CNS difficulty: medium
[Statedef 3000]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3000
ctrl = 0
sprpriority = 2
poweradd = -1000

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 32
value = S410, random%16

[State 3000, Explod]
type = Explod
trigger1 = numexplod(9005) = 0
trigger1 = p2life = 0
anim = 9005
ID = 9005
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 126
pausemovetime = 65535
supermovetime = 65535
scale = (1.2 * GameHeight / GameWidth),(GameHeight / GameWidth)
sprpriority = -5
ownpal = 1


[State 3000, VelSet]
type = VelSet
triggerall = Vel X != 1.5
triggerall = Pos Y >= 0
triggerall = Time > 41
trigger1 = command = "holdfwd"
x = 1.5

[State 3000, VelSet]
type = VelSet
triggerall = Vel X != -1.5 
triggerall = Pos Y >= 0
triggerall = Time > 41
trigger1 = command = "holdback"
x = -1.5

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 1
value = s400,random%5

[State 3000]
type = Helper
trigger1 = AnimElem = 32 && Facing = 1
helpertype = normal
name = "Ken"
ID = 9001
stateno = 9001
pos = 0, 0
postype = left
facing = 1
ownpal = 1
supermovetime = 90
pausemovetime = 90

[State 3000]
type = Helper
trigger1 = AnimElem = 32 && Facing = -1
helpertype = normal
name = "Reverse Ken"
ID = 9100
stateno = 9100
pos = 0, 0
postype = left
facing = 1
ownpal = 1
supermovetime = 90
pausemovetime = 90

[State 3000, Super A]
type = SuperPause
trigger1 = AnimElem = 32
pos = 25, -57
anim = S7003
sound = S300, 0

[State 3000, Super B]
type = AfterImage
trigger1 = AnimElem = 32
time = 2

[State 3000, Super C]
type = AfterImageTime
trigger1 = AnimElemTime(32) >= 1 && Time < 60
time = 2

[State 3000, Super D]
type = NotHitBy
trigger1 = AnimElem = 32
value = , NA, SA, AT
time = 11

[State 3000, 1]
type = PlaySnd
trigger1 = AnimElem = 32
value = 0, 3

[State 3000, 2]
type = Helper
trigger1 = animelemtime(24)=1
helpertype = normal
name = "Joe"
ID = 3001
stateno = 3001
pos = -90,0
postype = p1
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 3000, 4]
type = VelSet
trigger1 = AnimElem = 39
x = 9

[State 3000, 5]
type = Helper
trigger1 = animelemtime(40)=1
helpertype = normal
name = "Shark1"
ID = 3002
stateno = 3002
pos = 20,-90
postype = p1
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 3000, 6]
type = Helper
trigger1 = animelemtime(49)=1
helpertype = normal
name = "Shark2"
ID = 3003
stateno = 3003
pos = 20,-90
postype = p1
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 3000, 7]
type = Helper
trigger1 = animelemtime(55)=1
helpertype = normal
name = "Shark3"
ID = 3004
stateno = 3004
pos = 20,-90
postype = p1
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 3000, 8]
type = Helper
trigger1 = animelemtime(58)=1
helpertype = normal
name = "Shark4"
ID = 3005
stateno = 3005
pos = 20,-90
postype = p1
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 3000, 9]
type = Helper
trigger1 = animelemtime(63)=1
helpertype = normal
name = "Shark5"
ID = 3006
stateno = 3006
pos = 20,-90
postype = p1
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 3000, 10]
type = Helper
trigger1 = animelemtime(70)=1
helpertype = normal
name = "Shark6"
ID = 3007
stateno = 3007
pos = 20,-90
postype = p1
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 3000, 11]
type = HitDef
trigger1 = Animelem = 31
trigger2 = Animelem = 32
trigger3 = Animelem = 33
trigger4 = Animelem = 34
trigger5 = Animelem = 35
trigger6 = Animelem = 36
trigger7 = Animelem = 37
trigger8 = Animelem = 38
trigger9 = Animelem = 39
trigger10 = Animelem = 40
trigger11 = Animelem = 41
trigger12 = Animelem = 42
trigger13 = Animelem = 43
trigger14 = Animelem = 44
trigger15 = Animelem = 45
trigger16 = Animelem = 46
trigger17 = Animelem = 47
trigger18 = Animelem = 48
trigger19 = Animelem = 49
trigger20 = Animelem = 50
trigger21 = Animelem = 51
trigger22 = Animelem = 52
trigger23 = Animelem = 53
trigger24 = Animelem = 54
trigger25 = Animelem = 55
trigger26 = Animelem = 56
trigger27 = Animelem = 57
trigger28 = Animelem = 58
trigger29 = Animelem = 59
trigger30 = Animelem = 60
trigger31 = Animelem = 61
trigger32 = Animelem = 62
trigger33 = Animelem = 63
trigger34 = Animelem = 64
trigger35 = Animelem = 65
trigger36 = Animelem = 66
trigger37 = Animelem = 67
trigger38 = Animelem = 68
trigger39 = Animelem = 69
trigger40 = Animelem = 70
attr = S, HA
animtype  = Hard
damage    = 3,1
priority  = 5
guardflag = MA
pausetime = 0,2
sparkno = S7002
sparkxy = -10,-60
hitsound   = S8,7
guardsound = S8,3
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = 0,-1
air.velocity = 0,-1


[State 3000, 12]
type = HitDef
trigger1 = AnimElem = 71
attr = S, HA
animtype  = Hard
damage    = 46,4
getpower  = 0
priority  = 5
guardflag = MA
pausetime = 15,15
sparkno = S7002
sparkxy = -10,-60
hitsound   = S8,10
guardsound = S8,3
ground.type = Low
ground.slidetime = 30
ground.hittime  = 32
ground.velocity = -5, -7
guard.velocity = -12
air.velocity = -5,-10
airguard.velocity = -3,-3
fall.animtype = Hard
fall = 1
fall.recover = 0

[State 3000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Joe
[Statedef 3001]
type = A
movetype = A
physics = N
anim = 3001
velset = 3,0
sprpriority = 1

[State 3001, 1]
type = PlaySnd
trigger1 = animelem = 2
value = S5,14

[State 3001, 2]
type = VelSet
trigger1 = animelem = 12
x = 0

[State 3001, 2]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Shark 1
[Statedef 3002]
type = A
movetype = A
physics = N
anim = 3002
velset = 3,1
sprpriority = 4

[State 3002, 1]
type = VarSet
trigger1 = 1
fv = 5
value = time*15

 
[State 3002, 2]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 3002, 3]
type = HitDef
trigger1 = AnimElem = 1
trigger1 = numhelper(1915) = 0
attr = S, HP
animtype  = Hard
damage    = 19,4
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkno = S7002
sparkxy = 0,-25
hitsound   = S8,10
guardsound = S8,3
ground.type = Low
ground.slidetime = 30
ground.hittime  = 32
ground.velocity = -5, -3
air.velocity = -4, -3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3002, 3]
type = HitDef
trigger1 = AnimElem = 1
trigger1 = numhelper(1915) = 1
attr = S, HP
animtype  = Hard
damage    = 27,5
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkno = S7002
sparkxy = 0,-25
hitsound   = S8,10
guardsound = S8,3
ground.type = Low
ground.slidetime = 30
ground.hittime  = 32
ground.velocity = -5, -3
air.velocity = -4, -3
air.fall = 1
fall.animtype = Hard
fall.recover = 0


[State 3002, 2]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Shark 2
[Statedef 3003]
type = A
movetype = A
physics = N
anim = 3003
velset = 2,0
sprpriority = 4

[State 3003, 1]
type = VarSet
trigger1 = 1
fv = 5
value = time*15

 
[State 3003, 2]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 3003, 3]
type = HitDef
trigger1 = AnimElem = 1
trigger1 = numhelper(1915) = 0
attr = S, HP
animtype  = Hard
damage    = 20,6
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkno = S7002
sparkxy = 0,-25
hitsound   = S8,10
guardsound = S8,3
ground.type = Low
ground.slidetime = 30
ground.hittime  = 32
ground.velocity = -5, -5.5
air.velocity = -4, -5.5
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3002, 3]
type = HitDef
trigger1 = AnimElem = 1
trigger1 = numhelper(1915) = 1
attr = S, HP
animtype  = Hard
damage    = 27,8
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkno = S7002
sparkxy = 0,-25
hitsound   = S8,10
guardsound = S8,3
ground.type = Low
ground.slidetime = 30
ground.hittime  = 32
ground.velocity = -5, -5.5
air.velocity = -4, -5.5
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3003, 2]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Shark 3
[Statedef 3004]
type = A
movetype = A
physics = N
anim = 3004
velset = 3,-0.5
sprpriority = 4

[State 3004, 1]
type = VarSet
trigger1 = 1
fv = 5
value = time*15

 
[State 3004, 2]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 3004, 3]
type = HitDef
trigger1 = AnimElem = 1
trigger1 = numhelper(1915) = 0
attr = S, HP
animtype  = Hard
damage    = 28,6
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkno = S7002
sparkxy = 0,-55
hitsound   = S8,10
guardsound = S8,3
ground.type = Low
ground.slidetime = 30
ground.hittime  = 32
ground.velocity = -5, -3
air.velocity = -4,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3004, 3]
type = HitDef
trigger1 = AnimElem = 1
trigger1 = numhelper(1915) = 1
attr = S, HP
animtype  = Hard
damage    = 38,8
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkno = S7002
sparkxy = 0,-55
hitsound   = S8,10
guardsound = S8,3
ground.type = Low
ground.slidetime = 30
ground.hittime  = 32
ground.velocity = -5, -3
air.velocity = -4,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3004, 2]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Shark 4
[Statedef 3005]
type = A
movetype = A
physics = N
anim = 3005
velset = 7,0
sprpriority = 4

[State 3005, 1]
type = VarSet
trigger1 = 1
fv = 5
value = time*25

 
[State 3005, 2]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 3005, 3]
type = HitDef
trigger1 = AnimElem = 1
trigger1 = numhelper(1915) = 0
attr = S, HP
animtype  = Hard
damage    = 40,15
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkno = S7002
sparkxy = 0,-25
hitsound   = S8,10
guardsound = S8,3
ground.type = Low
ground.slidetime = 30
ground.hittime  = 32
ground.velocity = -5, -3
air.velocity = -4,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3005, 3]
type = HitDef
trigger1 = AnimElem = 1
trigger1 = numhelper(1915) = 1
attr = S, HP
animtype  = Hard
damage    = 54,20
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkno = S7002
sparkxy = 0,-25
hitsound   = S8,10
guardsound = S8,3
ground.type = Low
ground.slidetime = 30
ground.hittime  = 32
ground.velocity = -5, -3
air.velocity = -4,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3005, 2]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Shark 5
[Statedef 3006]
type = A
movetype = A
physics = N
anim = 3006
velset = 9,0
sprpriority = 4

[State 3006, 1]
type = VarSet
trigger1 = 1
fv = 5
value = time*35

 
[State 3006, 2]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 3006, 3]
type = HitDef
trigger1 = AnimElem = 1
trigger1 = numhelper(1915) = 0
attr = S, HP
animtype  = Hard
damage    = 42,20
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkno = S7002
sparkxy = 0,-25
hitsound   = S8,10
guardsound = S8,3
ground.type = Low
ground.slidetime = 30
ground.hittime  = 32
ground.velocity = -5, -3
air.velocity = -4,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3006, 3]
type = HitDef
trigger1 = AnimElem = 1
trigger1 = numhelper(1915) = 1
attr = S, HP
animtype  = Hard
damage    = 56,27
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkno = S7002
sparkxy = 0,-25
hitsound   = S8,10
guardsound = S8,3
ground.type = Low
ground.slidetime = 30
ground.hittime  = 32
ground.velocity = -5, -3
air.velocity = -4,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3006, 2]
type = DestroySelf
trigger1 = animtime = 0


;---------------------------------------------------------------------------
;Shark 6
[Statedef 3007]
type = A
movetype = A
physics = N
anim = 3007
velset = 13,0
sprpriority = 4

[State 3007, 1]
type = VarSet
trigger1 = 1
fv = 5
value = time*45

 
[State 3007, 2]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 3007, 3]
type = HitDef
trigger1 = AnimElem = 1
trigger1 = numhelper(1915) = 0
attr = S, HP
animtype  = Hard
damage    = 56,15
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkxy = 0,-55
hitsound   = S8,10
guardsound = S8,3
ground.type = Low
ground.slidetime = 30
ground.hittime  = 32
ground.velocity = -2, -10
air.velocity = -1,-10
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3007, 3]
type = HitDef
trigger1 = AnimElem = 1
trigger1 = numhelper(1915) = 1
attr = S, HP
animtype  = Hard
damage    = 76,27
getpower  = 0
priority  = 6
guardflag = MA
pausetime = 15,15
sparkxy = 0,-55
hitsound   = S8,10
guardsound = S8,3
ground.type = Low
ground.slidetime = 30
ground.hittime  = 32
ground.velocity = -2, -10
air.velocity = -1,-10
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3007, 2]
type = DestroySelf
trigger1 = animtime = 0



;---------------------------------------------------------------------------
; Dudley's Fists Are Stronger Than Lightning (hyper)
[Statedef 3050]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3050
ctrl = 0
sprpriority = 2


[State 3050, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S410, random%16

[State 3050, Offset]
type = Offset
trigger1 = 1
x = 0
y = -45


[State 3050, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*45

 
[State 3050, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 3050]
type = Helper
trigger1 = animelemtime(1)=1 && Facing = 1
helpertype = normal
name = "Ken"
ID = 9001
stateno = 9001
pos = 0, 0
postype = left
facing = 1
ownpal = 1
supermovetime = 90
pausemovetime = 90

[State 3050]
type = Helper
trigger1 = animelemtime(1)=1 && Facing = -1
helpertype = normal
name = "Reverse Ken"
ID = 9100
stateno = 9100
pos = 0, 0
postype = left
facing = 1
ownpal = 1
supermovetime = 90
pausemovetime = 90

[State 3050, Super A]
type = SuperPause
trigger1 = AnimElem = 2
pos = -5, -55
anim = S7003
sound = S300, 0
poweradd = -1000

[State 3050, Super B]
type = NotHitBy
trigger1 = AnimElem = 2
value = , NA, SA, AT
time = 6

[State 3050, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 2


[State 3050, 2]
type = Helper
trigger1 = animelemtime(1)=1
helpertype = normal
name = "Dudley"
ID = 3051
stateno = 3051
pos = 0,60
postype = p2
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 3050, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Dudley
[Statedef 3051]
type = A
movetype = A
physics = N
anim = 3051
velset = 0,-15
sprpriority = 1

[State 3051, Super A]
type = AfterImage
trigger1 = AnimElem = 1
time = 2

[State 3051, Super B]
type = AfterImageTime
trigger1 = AnimElemTime(1) >= 0
time = 2

[State 3051, 1]
type = HitDef
trigger1 = numhelper(1915) = 0
trigger1 = Time = 0
attr = S, HA
animtype  = Up               
hitflag = MAFD
damage   = 60, 55
getpower  = 0
priority  = 5
guardflag = L
pausetime = 30,30
sparkno = 3
sparkxy = 0,20
hitsound   = S8,10
guardsound = S8,3
ground.type = Low
ground.slidetime = 0
ground.hittime  = 28
ground.velocity = 0,-26
guard.velocity = 0
air.velocity = 0,-26
airguard.velocity = -4.5,-5
envshake.time = 25           
envshake.ampl = 7
envshake.freq = 176
fall = 1
fall.recover = 0             
fall.damage = 65             ;In case they have hitboxes that causes dudley to miss.
fall.envshake.ampl = 6      
fall.envshake.freq = 178
fall.envshake.time = 15
yaccel = .8                  ;Accelerate p2 downwards rapidly
kill = 0

[State 3051, 1]
type = HitDef
trigger1 = numhelper(1915) = 1
trigger1 = Time = 0
attr = S, HA
animtype  = Up               
hitflag = MAFD
damage   = 81, 74
getpower  = 0
priority  = 5
guardflag = L
pausetime = 30,30
sparkno = 3
sparkxy = 0,20
hitsound   = S8,10
guardsound = S8,3
ground.type = Low
ground.slidetime = 0
ground.hittime  = 28
ground.velocity = 0,-26
guard.velocity = 0
air.velocity = 0,-26
airguard.velocity = -4.5,-5
envshake.time = 25           
envshake.ampl = 7
envshake.freq = 176
fall = 1
fall.recover = 0             
fall.damage = 65             ;In case they have hitboxes that causes dudley to miss.
fall.envshake.ampl = 6      
fall.envshake.freq = 178
fall.envshake.time = 15
yaccel = .8                  ;Accelerate p2 downwards rapidly
kill = 0

[State 3051, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = 5,13

[State 3051, 4]
type = DestroySelf
trigger1 = animtime = 0
trigger1 = movehit = 0
trigger2 = moveguarded = 1
trigger2 = animtime = 0

[State 3051, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 3052
ctrl = 0


;---------------------------------------------------------------------------
;Dudley Hit
[Statedef 3052]
type = A
movetype = A
physics = N
anim = 3052
velset = 0,16.5
sprpriority = 1

[State 3052, Super A]
type = AfterImage
trigger1 = AnimElem = 1
time = 2

[State 3052, Super B]
type = AfterImageTime
trigger1 = AnimElemTime(1) >= 0
time = 2

[State 3052, 1]
type = HitDef
triggerall = numhelper(1915) = 0
trigger1 = Animelem = 1
trigger2 = Animelem = 2
trigger3 = Animelem = 3
trigger4 = Animelem = 4
trigger5 = Animelem = 5
trigger6 = Animelem = 6
trigger7 = Animelem = 7
trigger8 = Animelem = 8
trigger9 = Animelem = 9
trigger10 = Animelem = 10
attr = S, HA
animtype = Light
damage = 4, 3
guardflag = MAF
pausetime = 9,9
sparkno = -1
sparkxy = -20,-40
hitsound   = S8,5
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime = 20
ground.velocity = 0, 0
air.velocity = 0, 12
air.hittime = 30 
fall = 0
fall.recover = 0
air.fall= 0
kill = 0

[State 3052, 1]
type = HitDef
triggerall = numhelper(1915) = 1
trigger1 = Animelem = 1
trigger2 = Animelem = 2
trigger3 = Animelem = 3
trigger4 = Animelem = 4
trigger5 = Animelem = 5
trigger6 = Animelem = 6
trigger7 = Animelem = 7
trigger8 = Animelem = 8
trigger9 = Animelem = 9
trigger10 = Animelem = 10
attr = S, HA
animtype = Light
damage = 9, 8
guardflag = MAF
pausetime = 9,9
sparkno = -1
sparkxy = -20,-40
hitsound   = S8,5
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime = 20
ground.velocity = 0, 0
air.velocity = 0, 12
air.hittime = 30 
fall = 0
fall.recover = 0
air.fall= 0
kill = 0

[State 3052, 2]
type = HitDef
trigger1 = Animelem = 11
trigger1 = numhelper(1915) = 0
attr = S, NA
animtype = Light
damage = 21, 21
hitflag = MAFD
guardflag = MAF
pausetime = 10,8
sparkno = -1
sparkxy = -20,-40
hitsound   = S8,9
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime = 13
ground.velocity = 0, 0
air.velocity = 0, 13
fall = 1
fall.recover = 0
air.fall= 1
down.bounce = 0
kill = 0

[State 3052, 2]
type = HitDef
trigger1 = Animelem = 11
trigger1 = numhelper(1915) = 1
attr = S, NA
animtype = Light
damage = 29, 29
hitflag = MAFD
guardflag = MAF
pausetime = 10,8
sparkno = -1
sparkxy = -20,-40
hitsound   = S8,9
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime = 13
ground.velocity = 0, 0
air.velocity = 0, 13
fall = 1
fall.recover = 0
air.fall= 1
down.bounce = 0
kill = 0

[State 3052, Land]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -5
value = 3053

;---------------------------------------------------------------------------
;Dudley Land
[Statedef 3053]
type = S
movetype = A
physics = N
anim = 3053
velset = 0,0
sprpriority = 2

[State 3053, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 3053, Super A]
type = AfterImage
trigger1 = AnimElem = 1
time = 2

[State 3053, Super B]
type = AfterImageTime
trigger1 = AnimElemTime(1) >= 0
time = 2

[State 3601, Explod]
type = Explod
trigger1 = numexplod(9003) = 0
trigger1 = p2life <= 0
anim = 9003
ID = 9003
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 126
pausemovetime = 65535
supermovetime = 65535
scale = (1.2 * GameHeight / GameWidth),(GameHeight / GameWidth)
sprpriority = -5
ownpal = 1

[State 3053, Explod]
type = Explod
trigger1 = Animelem = 1
anim = 6200
ID = 6200
pos = 0,0
postype = p1 
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 0

[State 3053, Explod]
type = Explod
trigger1 = Animelem = 1
anim = 6201
ID = 6201
pos = 0,0
postype = p1 
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = -4
ontop = 0
ownpal = 1
removeongethit = 0


[State 3053, 2]
type = HitDef
trigger1 = Animelem = 1
trigger1 = numhelper(1915) = 0
attr = S, HA
animtype = Hard
damage = 130, 20
guardflag = MAFD
pausetime = 14,14
sparkno = -1
sparkxy = -20,-40
hitsound   = S8,12
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime = 13
ground.velocity = 4, -10
air.velocity = 4, -10
fall = 1
fall.recover = 0
air.fall= 1
fall.damage = 5

[State 3053, 2]
type = HitDef
trigger1 = Animelem = 1
trigger1 = numhelper(1915) = 1
attr = S, HA
animtype = Hard
damage = 176, 26
guardflag = MAFD
pausetime = 14,14
sparkno = -1
sparkxy = -20,-40
hitsound   = S8,12
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime = 13
ground.velocity = 4, -10
air.velocity = 4, -10
fall = 1
fall.recover = 0
air.fall= 1
fall.damage = 7

[State 3053, 2]
type = HitDef
trigger1 = NumEnemy = 1  ;Enemy, Teammode != simul ;Doesn't work in simul
trigger1 = Animelem = 1
trigger1 = numhelper(1915) = 0
trigger1 = p2life <= 135
attr = S, HA
animtype = Hard
damage = 135, 20
guardflag = MAFD
pausetime = 14,14
sparkno = -1
sparkxy = -20,-40
hitsound   = S8,12
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime = 13
ground.velocity = 0, -20
air.velocity = 0, -20
p2stateno = 3054

[State 3053, 2]
type = HitDef
trigger1 = NumEnemy = 1 ;Doesn't work in simul
trigger1 = Animelem = 1
trigger1 = numhelper(1915) = 1
trigger1 = p2life <= 183
attr = S, HA
animtype = Hard
damage = 183, 20
guardflag = MAFD
pausetime = 14,14
sparkno = -1
sparkxy = -20,-40
hitsound   = S8,12
guardsound = S8,3
ground.type = High
ground.slidetime = 12
ground.hittime = 13
ground.velocity = 0, -20
air.velocity = 0, -20
p2stateno = 3054

[State 3053, 3]
type = DestroySelf
trigger1 = animtime = 0

;[State 525, Explod]
;type = Explod
;triggerall = NumEnemy = 1 
;triggerall = numhelper(6202) < 1
;triggerall = numhelper(3051) > 0
;trigger1 = p2life= 0
;trigger1 = time = 1
;anim = 6202
;ID = 6202
;pos = 0, 0
;postype = p2
;facing = 1
;vfacing = 1
;bindtime = 1
;vel = 0,0
;accel = 0,0
;random = 0,0
;removetime = -1
;pausemovetime = 0
;scale = 1,1
;sprpriority = -2
;ontop = 0


[State 3053, Helper]
type = Helper
triggerall = NumEnemy = 1 
triggerall = numhelper(6202) < 1
triggerall = numhelper(3051) > 0
trigger1 = p2life= 0
trigger1 = time = 1
helpertype = normal
name = "Dead"
ID = 6202
stateno = 6202
pos = 0,0
postype = p2 
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 1
size.yscale = 1

;Tombstone
[Statedef 6202]
type = S
physics = N
sprpriority = -3
anim = 6202

[State 3053, 3]
type = posset
trigger1 = 1
x = enemy, pos x
y = 0

;-------------------------------------------------------------
;RIP in peace.
[Statedef 3054]
type    = L
movetype= H
physics = N
sprpriority = -1
ctrl = 1

[State 3054, Lifeset] ;Just in case.
type = LifeSet
trigger1 = 1
value = 0

[State 3054, CtrlSet]
type = CtrlSet
trigger1 = time = 0
value = 0

[State 3054, 1]
type = ChangeAnim2
trigger1 = life = 0
Trigger1 = time = 0
value = 6203

[State 3054, ChangeState]
type = ChangeState
trigger1 = time = 0 
value = 5150
ctrl = 1
anim = 6203

[State 3054, 2] ;Don't move.
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 3054, 3] ;And stay grounded, please.
type = PosSet
trigger1 = 1
y = 0

[State 3054, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; 360 No Scope (hyper)
[Statedef 3600]
type    = S
movetype= A
physics = N
velset = 0,0
anim = 3600
ctrl = 0
sprpriority = 2


[State 3600, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S410, random%16

[State 3600]
type = Helper
trigger1 = AnimElem = 1  && Facing = 1
helpertype = normal
name = "Ken"
ID = 9001
stateno = 9001
pos = 0, 0
postype = left
facing = 1
ownpal = 1
supermovetime = 90
pausemovetime = 90

[State 3600]
type = Helper
trigger1 = AnimElem = 1  && Facing = -1
helpertype = normal
name = "Reverse Ken"
ID = 9100
stateno = 9100
pos = 0, 0
postype = left
facing = 1
ownpal = 1
supermovetime = 90
pausemovetime = 90

[State 3600, Super A]
type = SuperPause
trigger1 = AnimElem = 1 
pos = -5, -55
anim = S7003
sound = S300, 1
poweradd = -2000

[State 3600, Super B]
type = NotHitBy
trigger1 = AnimElem = 2
value = , NA, SA, AT
time = 6

[State 3600, 1]
type = PlaySnd
trigger1 = AnimElem = 21
value = 0, 13

[State 3600, Helper]
type = Helper
trigger1 = animelemtime(21)=1
helpertype = normal
name = "Bullet"
ID = 3601
stateno = 3601
pos = 40,-72
postype = p1
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 3600, Explod]
type = Explod
trigger1 = animelemtime(21)=1
anim = 3603
ID = 3603
pos = 58,-72
postype = p1
facing = 1
bindtime = -1
removetime = 6
pausemovetime = 0
supermovetime = 0
scale = 1 , 1
sprpriority = 2
ownpal = 1

[State 3600, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Bullet
[Statedef 3601]
type = A
movetype = A
physics = N
anim = 3601
velset = 12,0
sprpriority = 1

[State 3601, Explod]
type = Explod
trigger1 = numexplod(9002) = 0
trigger1 = p2life = 0
anim = 9002
ID = 9002
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 126
pausemovetime = 65535
supermovetime = 65535
scale = (1.2 * GameHeight / GameWidth),(GameHeight / GameWidth)
sprpriority = -5
ownpal = 1

[State 3601, Helper]
type = Helper
triggerall = numhelper(3621) < 1
trigger1 = p2life = 0
helpertype = normal
name = "Inefficient"
ID = 3621
stateno = 3621
pos = 30,0
postype = p1
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 3601, 1]
type = HitDef
trigger1 = time = 0
trigger1 = numhelper(1915) = 0
attr = S, HA
animtype = Light
damage = enemy, lifemax * 0.420, enemy, lifemax * 0.1
hitflag = MAFD
guardflag = MA
pausetime = 0,60
guard.pausetime = 30, 30
sparkno = -1
sparkxy = -20,-10
hitsound = s420,random%9
guard.sparkno = -1;S7360
guardsound = S5,17
ground.type = High
ground.slidetime = 12
ground.hittime = 13
ground.velocity = -11, -1
air.velocity = -11, -2
fall = 1
fall.recover = 0
air.fall= 1
envshake.time = 82
envshake.freq = 46
envshake.ampl = 25
envshake.phase = 20
;p2stateno = 3619

[State 3601, 1]
type = HitDef
trigger1 = time = 0
trigger1 = numhelper(1915) = 1
attr = S, HA
animtype = Light
damage = enemy, lifemax * 0.567, enemy, lifemax * 0.135
hitflag = MAF
guardflag = MA
pausetime = 0,90
guard.pausetime = 30, 30
sparkno = -1
sparkxy = -20,-10
hitsound = s420,random%9
guard.sparkno = -1;S7360
guardsound = S5,17
ground.type = High
ground.slidetime = 12
ground.hittime = 13
ground.velocity = -11, -1
air.velocity = -11, -2
fall = 1
fall.recover = 0
air.fall= 1
envshake.time = 82
envshake.freq = 46
envshake.ampl = 25
envshake.phase = 20
;p2stateno = 3620

[State 3601, Explod]
type = Explod
trigger1 = Moveguarded && Facing = -1
trigger1 = numexplod(7360) < 1
anim = 7360
ID = 7360
pos = 0,-60
postype = P2
facing = 0
bindtime = 1
removetime = 51
sprpriority = 0
ontop = 1
removeongethit = 1
ignorehitpause = 1

[State 3601, Explod]
type = Explod
trigger1 = Moveguarded && Facing = 1
trigger1 = numexplod(7361) < 1
anim = 7361
ID = 7361
pos = 0,-60
postype = P2
facing = 0
bindtime = 1
removetime = 51
sprpriority = 0
ontop = 1
removeongethit = 1
ignorehitpause = 1

[State 3601, 2]
type = PlaySnd
trigger1 = movehit
trigger1 = numexplod(3602) < 1
value = 0, 14

[State 3601, Explod]
type = Explod
trigger1 = movehit
trigger1 = numexplod(3602) < 1
anim = 3602
ID = 3602
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 84
pausemovetime = 65535
supermovetime = 65535
scale = 1 , 1
sprpriority = 5
ownpal = 1

[State 3601, Helper]
type = Helper
trigger1 = movehit
trigger1 = numhelper(3604) < 1
helpertype = normal
name = "MLG"
ID = 3604
stateno = 3604 
pos = 80,-50
postype = left    
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 3601, Helper]
type = Helper
trigger1 = movehit
trigger1 = numhelper(3605) < 1
helpertype = normal
name = "Doritos"
ID = 3605
stateno = 3605 
pos = 220,-82
postype = left    
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0


[State 3601, Helper]
type = Helper
trigger1 = movehit
trigger1 = numhelper(3606) < 1
helpertype = normal
name = "Mountain Dew"
ID = 3606
stateno = 3606
pos = 280,-34
postype = left    
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0


[State 3601, Helper]
type = Helper
trigger1 = movehit
trigger1 = numhelper(3607) < 1
helpertype = normal
name = "Actually I don't Know who these people are"
ID = 3607
stateno = 3607
pos = 320,-84
postype = left    
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 3601, Helper]
type = Helper
trigger1 = movehit
trigger1 = numhelper(3608) < 1
helpertype = normal
name = "Faze Clan"
ID = 3608
stateno = 3608
pos = 210,-10
postype = left    
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 3601, Helper]
type = Helper
trigger1 = movehit
trigger1 = numhelper(3609) < 1
helpertype = normal
name = "Le 9gag"
ID = 3609
stateno = 3609
pos = -280,-50
postype = left    
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 3601, Helper]
type = Helper
trigger1 = movehit
trigger1 = numhelper(3610) < 1
helpertype = normal
name = "Headshot"
ID = 3610
stateno = 3610
pos = -60,-80
postype = left    
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 3601, Helper]
type = Helper
trigger1 = movehit
trigger1 = numhelper(3611) < 1
helpertype = normal
name = "IGN"
ID = 3611
stateno = 3611
pos = 0,70
postype = P1    
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 3601, Helper]
type = Helper
trigger1 = movehit
trigger1 = numhelper(3612) < 1
helpertype = normal
name = "Weed"
ID = 3612
stateno = 3612
pos = 140,-120
postype = left    
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 3601, Helper]
type = Helper
trigger1 = movehit
trigger1 = numhelper(3613) < 1
helpertype = normal
name = "Illuminati"
ID = 3613
stateno = 3613
pos = 0,-280
postype = p2   
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 3601, Helper]
type = Helper
trigger1 = movehit
trigger1 = numhelper(3614) < 1
helpertype = normal
name = "Snipars"
ID = 3614
stateno = 3614
pos = 330,-50
postype = left   
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 3601, Helper]
type = Helper
trigger1 = movehit
trigger1 = numhelper(3615) < 1
helpertype = normal
name = "Tesco"
ID = 3615
stateno = 3615
pos = -90,-60
postype = left    
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 3601, Helper]
type = Helper
trigger1 = movehit
trigger1 = numhelper(3616) < 1
helpertype = normal
name = "Twitch"
ID = 3616
stateno = 3616
pos = 0,-120
postype = left    
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 3601, Helper]
type = Helper
trigger1 = movehit
trigger1 = numhelper(3617) < 1
helpertype = normal
name = "Swag"
ID = 3617
stateno = 3617
pos = -10,0
postype = left    
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 3601, Helper]
type = Helper
trigger1 = movehit
trigger1 = numhelper(3618) < 1
helpertype = normal
name = "Sanic"
ID = 3618
stateno = 3618
pos = 400,-110
postype = left    
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 3601, 3]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;MLG
[Statedef 3604]
type = A
movetype = A
physics = N
anim = 3604
velset = 0,0
sprpriority = 1

[State 3604, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3604, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*35

 
[State 3604, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 3604, 2]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Doritos
[Statedef 3605]
type = A
movetype = A
physics = N
anim = 3605
velset = 0,0
sprpriority = 2

[State 3605, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3605, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*45

 
[State 3605, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 3605, 2]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Mountain Dew
[Statedef 3606]
type = A
movetype = A
physics = N
anim = 3606
velset = 0,0
sprpriority = 2

[State 3606, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3606, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*45

 
[State 3606, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 3606, 2]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Actually I don't know who these people are.
[Statedef 3607]
type = A
movetype = A
physics = N
anim = 3607
velset = 0,0
sprpriority = 2

[State 3607, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3607, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*(-45)

 
[State 3607, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 3607, 2]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Faze Clan
[Statedef 3608]
type = A
movetype = A
physics = N
anim = 3608
velset = 0,0
sprpriority = 2

[State 3608, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3608, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*(-45)

 
[State 3608, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 3608, 2]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Le 9gag
[Statedef 3609]
type = A
movetype = A
physics = N
anim = 3609
velset = 13,0
sprpriority = 2

[State 3609, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3609, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*10

 
[State 3609, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 3609, 2]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Headshot
[Statedef 3610]
type = A
movetype = A
physics = N
anim = 3610
velset = 0,0
sprpriority = 2

[State 3610, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3610, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*30

 
[State 3610, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 3610, 2]
type = DestroySelf
trigger1 = animtime = 0


;---------------------------------------------------------------------------
;IGN
[Statedef 3611]
type = A
movetype = A
physics = N
anim = 3611
velset = 0,-6
sprpriority = 2

[State 3610, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3610, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*60

 
[State 3610, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 3610, 2]
type = DestroySelf
trigger1 = animtime = 0


;---------------------------------------------------------------------------
;Weed
[Statedef 3612]
type = A
movetype = A
physics = N
anim = 3612
velset = 0,0
sprpriority = 2

[State 3612, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3612, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*(-20)

 
[State 3612, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 3612, 2]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Illuminati Confirmed
[Statedef 3613]
type = A
movetype = A
physics = N
anim = 3613
velset = 0,5
sprpriority = 2

[State 3613, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3613, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*5

 
[State 3613, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 3613, 2]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Snipars. Or the Lenny Face. Whatever you wanna call this dank maymay.
[Statedef 3614]
type = A
movetype = A
physics = N
anim = 3614
velset = 0,0
sprpriority = 2

[State 3614, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3614, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*50

 
[State 3614, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 3614, 2]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Tesco
[Statedef 3615]
type = A
movetype = A
physics = N
anim = 3615
velset = 0,0
sprpriority = 2

[State 3615, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3615, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*25

 
[State 3615, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 3615, 2]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Twitch
[Statedef 3616]
type = A
movetype = A
physics = N
anim = 3616
velset = 0,0
sprpriority = 2

[State 3616, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3616, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*(-25)

 
[State 3616, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 3616, 2]
type = DestroySelf
trigger1 = animtime = 0


;---------------------------------------------------------------------------
;Swag
[Statedef 3617]
type = A
movetype = A
physics = N
anim = 3617
velset = 0,0
sprpriority = 2

[State 3617, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3617, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*(-5)

 
[State 3617, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 3617, 2]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Sanic
[Statedef 3618]
type = A
movetype = A
physics = N
anim = 3618
velset = -3,0
sprpriority = 3

[State 3618, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3618, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*(-90)

 
[State 3618, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 3618, 2]
type = DestroySelf
trigger1 = animtime = 0

;------------------
; Hit by 360 no scope (Not used atm)
; (a custom gethit state)
[Statedef 3619]
type    = A
movetype= H
physics = N
velset = -11,-2

[State 3619, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -(lifemax * 0.420)

[State 3619, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = 1
value = 1025

[State 3619, Offset]
type = Offset
trigger1 = 1
x = 0
y = -45

[State 3619, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*45

 
[State 3619, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 3619, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 1026

;------------------
; Hit by Empowered 360 no scope (Not used atm)
; (a custom gethit state)
[Statedef 3620]
type    = A
movetype= H
physics = N
velset = -11,-2

[State 3620, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -(lifemax * 0.567)

[State 3620, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = 1
value = 1025

[State 3620, Offset]
type = Offset
trigger1 = 1
x = 0
y = -45


[State 3620, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*45

 
[State 3620, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 3620, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 1026

;---------------------------------------------------------------------------
;Accept me!
[Statedef 3621]
type = A
movetype = A
physics = N
anim = 9007
velset = 0,0
sprpriority = 3

[State 3621, PlaySnd]
type = PlaySnd
trigger1 = time = 64
value = 5,22
volumescale = 300

;---------------------------------------------------------------------------
;Night on Fire (hyper)
[Statedef 4385]
type    = S
movetype= A
physics = N
velset = 0,0
anim = 4385
ctrl = 0
sprpriority = 2

[State 4385, Offset]
type = Offset
trigger1 = 1
x = 0
y = -55


[State 4385, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*45

 
[State 4385, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)

[State 4385, 2]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal
name = "HELP"
ID = 4386
stateno = 4386
pos = 0,0
postype = p1
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 4385, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;HELP
[Statedef 4386]
type    = S
movetype= A
physics = N
velset = 0,0
anim = 9007
ctrl = 0
sprpriority = -5

[State 4386, Super A]
type = SuperPause
trigger1 = AnimElem = 2
pos = -5, -55
time = 165
anim = -1
sound = S300, 1
poweradd = -2000

[State 4386, Super B]
type = NotHitBy
trigger1 = AnimElem = 2
value = , NA, SA, AT
time = 6

[State 4386, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 5, 23

[State 4386, Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 4386
ID = 4386
pos = 0,0
postype = left
facing = 1
bindtime = -1
removetime = 161
pausemovetime = 65535
supermovetime = 65535
scale = 0.5, 0.5
sprpriority = 5
ownpal = 1

[State 4386, 2]
type = Helper
trigger1 = time = 20
helpertype = normal
name = "AE861"
ID = 4387
stateno = 4387
pos = 320,0
postype = front
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 4386, 3]
type = Helper
trigger1 = time = 40
helpertype = normal
name = "AE862"
ID = 4388
stateno = 4388
pos = 320,0
postype = front
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 4386, 4]
type = Destroyself
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
;AE86 1
[Statedef 4387]
type = A
movetype = A
physics = N
anim = 4387
velset = -17,0
sprpriority = 1


[State 4387, Explod]
type = Explod
trigger1 = numexplod(9008) = 0
trigger1 = p2life = 0
anim = 9008
ID = 9008
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 126
pausemovetime = 65535
supermovetime = 65535
scale = 0.5, 0.5
sprpriority = -5
ownpal = 1

[State 4387, 2]
type = HitDef
trigger1 = time = 0
trigger1 = numhelper(1915) = 0
attr = S, HA
animtype = Light
damage = 171, 41
hitflag = MAFD
guardflag = MA
pausetime = 0,120
sparkno = S7002
sparkxy = -20,-40
hitsound = s8,6
guardsound = s8,3
ground.type = Low
ground.slidetime = 30
ground.hittime = 30
ground.velocity = 0, -0.5
air.velocity = 0, 0

[State 4387, 2]
type = HitDef
trigger1 = time = 0
trigger1 = numhelper(1915) = 1
attr = S, HA
animtype = Light
damage = 231, 55
hitflag = MAFD
guardflag = MA
pausetime = 0,120
sparkno = S7002
sparkxy = -20,-40
hitsound = s8,6
guardsound = s8,3
ground.type = Low
ground.slidetime = 30
ground.hittime = 30
ground.velocity = 0, -0.5
air.velocity = 0, 0

[State 4387, 3]
type = DestroySelf
trigger1 = Backedgedist < -290

;---------------------------------------------------------------------------
;AE86 2
[Statedef 4388]
type = A
movetype = A
physics = N
anim = 4388
velset = -17,0
sprpriority = 1

[State 4388, Explod]
type = Explod
trigger1 = numexplod(9008) = 0
trigger1 = p2life = 0
anim = 9008
ID = 9008
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 126
pausemovetime = 65535
supermovetime = 65535
scale = 0.5, 0.5
sprpriority = -5
ownpal = 1

[State 4388, 2]
type = HitDef
trigger1 = time = 0
trigger1 = numhelper(1915) = 0
attr = S, HA
animtype = Light
damage = 1, 91
hitflag = MAFD
guardflag = MA
pausetime = 0,0
sparkno = S7002
sparkxy = -20,-40
hitsound = s8,9
guardsound = s8,3
ground.type = High
ground.slidetime = 12
ground.hittime = 19
ground.velocity = 9, -9
air.velocity = 9, -9
fall = 1
fall.recover = 0
air.fall= 1
p2stateno = 4389 

[State 4388, 2]
type = HitDef
trigger1 = time = 0
trigger1 = numhelper(1915) = 1
attr = S, HA
animtype = Light
damage = 1, 123
hitflag = MAFD
guardflag = MA
pausetime = 0,0
sparkno = S7002
sparkxy = -20,-40
hitsound = s8,9
guardsound = s8,3
ground.type = High
ground.slidetime = 12
ground.hittime = 19
ground.velocity = 9, -9
air.velocity = 9, -9
fall = 1
fall.recover = 0
air.fall= 1
p2stateno = 4390 

[State 4388, 3]
type = DestroySelf
trigger1 = Backedgedist < -290

;------------------
; Hit by AE86
; (a custom gethit state)
[Statedef 4389]
type    = A
movetype= H
physics = N
velset = 9,-9

[State 4389, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -(lifemax * 0.25)

[State 4389, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = 1
value = 1025

[State 4389, Offset]
type = Offset
trigger1 = 1
x = 0
y = -45


[State 4389, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*(-75)

 
[State 4389, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 4389, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 4391


;------------------
; Hit by Empowered AE86
; (a custom gethit state)
[Statedef 4390]
type    = A
movetype= H
physics = N
velset = 9,-9

[State 4390, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -(lifemax * 0.325)

[State 4390, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = 1
value = 1025

[State 4390, Offset]
type = Offset
trigger1 = 1
x = 0
y = -45


[State 4390, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*(-75)

 
[State 4390, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 4390, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 4391


;------------------
; Falling from AE86 Hit
[Statedef 4391]
type    = A
movetype= H
physics = N

[State 4391, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -9

[State 4391, Vel X]
type = VelSet
trigger1 = Time = 0
x = 9

[State 4391, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 4391, Offset]
type = Offset
trigger1 = 1
x = 0
y = -54


[State 4391, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*45

 
[State 4391, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


[State 4391, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 4391, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 1028

[State 4391, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;---------------------------------------------------------------------------
; We Love Katamari(?)
; CNS difficulty: easy
[Statedef 3645]
type    = S
movetype= A
physics = N
juggle  = 4
poweradd= 50
velset = 0,0
anim = 3645
ctrl = 0
sprpriority = 2

[State 3646, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S410, random%16


[State 3645, Offset]
type = Offset
trigger1 = 1
x = 0
y = -45


[State 3645, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*(-45)

 
[State 3645, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)

[State 3000]
type = Helper
trigger1 = AnimElem = 2 && Facing = 1
helpertype = normal
name = "Ken"
ID = 9001
stateno = 9001
pos = 0, 0
postype = left
facing = 1
ownpal = 1
supermovetime = 90
pausemovetime = 90

[State 3000]
type = Helper
trigger1 = AnimElem = 2 && Facing = -1
helpertype = normal
name = "Reverse Ken"
ID = 9100
stateno = 9100
pos = 0, 0
postype = left
facing = 1
ownpal = 1
supermovetime = 90
pausemovetime = 90

[State 3650, Super A]
type = SuperPause
trigger4 = const(data.power) < 3000
trigger1 = AnimElem = 2
pos = -5, -55
anim = S7003
sound = S300, 2
poweradd = const(data.power)

[State 3650, Super A]
type = SuperPause
trigger4 = const(data.power) >= 3000
trigger1 = AnimElem = 2
pos = -5, -55
anim = S7003
sound = S300, 2
poweradd = -3000



[State 3650, Super B]
type = NotHitBy
trigger1 = AnimElem = 2
value = , NA, SA, AT
time = 6

[State 3645, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5, 15

[State 3645, Helper]
type = Helper
trigger1 = animelemtime(1)=1
helpertype = normal
name = "Katamari"
ID = 3650
stateno = 3650
pos = -130,0
postype = back
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 3645, Helper]
type = Helper
trigger1 = animelemtime(1)=1
helpertype = normal
name = "Katamari2"
ID = 3651
stateno = 3651
pos = -130,0
postype = back
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 3645, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Katamari
[Statedef 3650]
type = A
movetype = A
physics = N
anim = 3650
velset = 3,0
sprpriority = 1

[State 3650, Explod]
type = Explod
trigger1 = numexplod(9004) = 0
trigger1 = p2life = 0
anim = 9004
ID = 9004
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 366
pausemovetime = 65535
supermovetime = 65535
scale = (1.2 * GameHeight / GameWidth),(GameHeight / GameWidth)
sprpriority = -5
ownpal = 1

[State 3650, Offset]
type = Offset
trigger1 = 1
x = 0
y = -100
;ignorehitpause = 
;persistent =

[State 3650, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*(-10)

 
[State 3650, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)

[State 3650, 2]
type = HitDef
trigger1 = time = 0
trigger1 = numhelper(1915) = 1
attr = S, HP
animtype = Hard
affectteam = E
damage = 864, 864
hitflag = MAFD
guardflag = 
pausetime = 0,0
sparkno = -1
sparkxy = -20,-40
hitsound = s8,0
guardsound = S8,3
ground.type = Low
ground.slidetime = 5
ground.hittime = 50
down.hittime = 50
ground.velocity = 0, 0
air.velocity = 0, 20
fall = 1
air.fall= 1
numhits = 1


[State 3650, 2]
type = HitDef
trigger1 = time = 0
trigger1 = numhelper(1915) = 0
attr = S, HP
animtype = Hard
affectteam = E
damage = 576, 576
hitflag = MAFD
guardflag = 
pausetime = 0,0
sparkno = -1
sparkxy = -20,-40
hitsound = s8,0
guardsound = S8,3
ground.type = Low
ground.slidetime = 5
ground.hittime = 50
down.hittime = 50
ground.velocity = 0, 0
air.velocity = 0, 20
fall = 1
air.fall= 1
numhits = 1

[State 3650, 3]
type = DestroySelf
trigger1 = Frontedgedist < -200

;---------------------------------------------------------------------------
;Katamari
[Statedef 3651]
type = A
movetype = A
physics = N
anim = 3651
velset = 3,0
sprpriority = 1

[State 3651, Offset]
type = Offset
trigger1 = 1
x = 0
y = -100
;ignorehitpause = 
;persistent =

[State 3651, 2]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype = Hard
affectteam = F
damage = 1, 0
hitflag = MAFD
guardflag = 
pausetime = 0,0
sparkno = -1
sparkxy = -20,-40
hitsound = s8,0
guardsound = S8,3
ground.type = Low
ground.slidetime = 5
ground.hittime = 50
down.hittime = 50
ground.velocity = 0, 0
air.velocity = 0, 20
fall = 1
air.fall= 1
numhits = 1

[State 3651, 3]
type = DestroySelf
trigger1 = Frontedgedist < -200

;---------------------------------------------------------------------------
;JUSTICE!
[Statedef 525]
type = S
movetype = A
physics = N
anim = 195
velset = 0,0
sprpriority = 0
ctrl = 0

[State 525, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S16,random%2

[State 525, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 0, 16

[State 525, Offset]
type = Offset
trigger1 = 1
x = 0
y = -45

[State 525, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*55


[State 525, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)

[State 525, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(525) < 1
anim = 525
ID = 525
pos = 0,0
postype = p2 
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 56
pausemovetime = 0
scale = 1,1
sprpriority = 4
ontop = 1

[State 525, ExplodBindTime]
type = ExplodBindTime
trigger1 = AnimElem = 1
trigger2 = Animelem = 2
trigger3 = Animelem = 3
trigger4 = Animelem = 4
trigger5 = Animelem = 5 
trigger6 = Animelem = 6 
trigger7 = Animelem = 7
trigger8 = Animelem = 8 
trigger9 = Animelem = 9
trigger10 = Animelem = 10
trigger11 = Animelem = 11
trigger12 = Animelem = 12
trigger13 = Animelem = 13
trigger14 = Animelem = 14
trigger15 = Animelem = 15 
trigger16 = Animelem = 16
trigger17 = Animelem = 17
trigger18 = Animelem = 18
trigger19 = Animelem = 19
trigger20 = Animelem = 20
trigger21 = Animelem = 21
trigger22 = Animelem = 22
trigger23 = Animelem = 23
trigger24 = Animelem = 24
trigger25 = Animelem = 25
trigger26 = Animelem = 26
trigger27 = Animelem = 27
trigger28 = Animelem = 28
trigger29 = Animelem = 29
trigger30 = Animelem = 30
trigger31 = Animelem = 31
trigger32 = Animelem = 32
trigger33 = Animelem = 33
trigger34 = Animelem = 34 
trigger35 = Animelem = 35
trigger36 = Animelem = 36
trigger37 = Animelem = 37
trigger38 = Animelem = 38
trigger39 = Animelem = 39
ID = 525
time = 45
ignorehitpause = 1
persistent = 1

[State 525, Helper]
type = Helper
trigger1 = numexplod(525) = 1
trigger1 = time = 22
helpertype = normal ;player
name = "Justice"
ID = 526
stateno = 526
pos = 0,0
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 525]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Smush
[Statedef 526]
type = S
movetype = A
physics = N
anim = 526
velset = 0,0
sprpriority = 0

[State 525, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0, 17

[State 525, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0, 18

[State 526, 1]
type = HitDef
trigger1 = time = 0
attr = S,HA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAFD        ;HLAFD+-
guardflag = MA         ;HLA
animtype = Hard          ;light,medium,hard,back,up,diagup
air.animtype = Hard
damage = p2life*9000, p2life*9000
pausetime = 0 ,0
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S8,2
guardsound = S8,2
ground.type = High 
ground.velocity = 0,0
air.velocity = 0,0
envshake.time = 33
envshake.freq = 60
envshake.ampl = 5
envshake.phase = 10

[State 526, 2]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Ken Spinning Portrait
[Statedef 9001]
type = A
movetype = A
physics = N
anim = 9001
velset = 0,0
sprpriority = -1

[State 9001, PosAdd]
type = PosAdd
trigger1 = 1
x = 90 - (screenpos x)
y = 200 - (screenpos y)

[State 9001, AngleDraw]
type = AngleDraw
trigger1 = time = 0
value = -5

[State 9001, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*(-10)

[State 9001, AngleDraw]
type = AngleDraw
trigger1 = time > 0
trigger1 = fvar(5) > -360
value = -5 + fvar(5)

[State 9001, 2]
type = DestroySelf
trigger1 = animtime = 0

[State 9001, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------------------------------------------------------------
;Ken Spinning Portrait
[Statedef 9100]
type = A
movetype = A
physics = N
anim = 9100
velset = 0,0
sprpriority = 5

[State 9100, PosAdd]
type = PosAdd
trigger1 = 1
x = 230 - (screenpos x)
y = 200 - (screenpos y)

[State 9100, AngleDraw]
type = AngleDraw
trigger1 = time = 0
value = -5

[State 9100, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*(-10)

[State 9100, AngleDraw]
type = AngleDraw
trigger1 = time > 0
trigger1 = fvar(5) > -360
value = -5 + fvar(5)

[State 9100, 2]
type = DestroySelf
trigger1 = animtime = 0

[State 9100, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------------------------------------------------------------
; Air get-hit (knocked away)
[Statedef 5030]
type    = A
movetype= H
physics = N
ctrl = 0

[State 5030, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA                     
damage = 35, 1                   
animtype = Light                 
guardflag = MA                   
hitflag = MAF                    
priority = 3, Hit                
pausetime = 0, 9   
givepower = -20              
sparkno = S7000                      
sparkxy = -10, -76               
hitsound = S5,9
guardsound = S8,11           
ground.type = High               
ground.slidetime = 5             
ground.hittime  = 8             
ground.velocity = -6             
airguard.velocity = -1.9,-.8   
air.type = High                  
air.velocity = -1.4,-3           
air.hittime = 8  

[State 5030, 1]
type = ChangeAnim
trigger1 = Anim != [5000, 5199]
trigger1 = SelfAnimExist(5030)
value = 5030

[State 5030, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5030, 3]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5030, 4]
type = ChangeState
triggerall = !HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= Const(movement.air.gethit.groundlevel)
value = 5040 ;HITA_RECOV

[State 5030, 5]
type = ChangeState
triggerall = HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= Const(movement.air.gethit.groundlevel)
value = 5050 ;HITA_FALL

[State 5030, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 5035 ;Air get-hit (transition)

[State 5030, VarSet]
type = VarSet
trigger1 = ANIM = 5030
fv = 5
value = time*45

 
[State 5030, AngleDraw]
type = AngleDraw
trigger1 = ANIM = 5030
value = fvar(5)


;---------------------------------------------------------------------------
; Air get-hit (falling)
[Statedef 5050]
type    = A
movetype= H
physics = N

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, Const720p(4), Const720p(-8))
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5050, 4] ;Recover near ground
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= Const(movement.air.gethit.groundrecover.ground.threshold)
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 ;Air get-hit (fall recovery on ground)

[State 5050, 5]; Recover in mid air
type = ChangeState
triggerall = Vel Y > Const(movement.air.gethit.airrecover.threshold)
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 ;Air get-hit (fall recovery in air)

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, Const(movement.air.gethit.groundlevel))
value = 5100 ;Downed get-hit (hit ground from fall)

[State 5050, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*45

 
[State 5050, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


;---------------------------------------------------------------------------
; Stand get-hit (knocked back)
[Statedef 5001]
type    = S
movetype= H
physics = S

[State 5001, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5001, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA                     
damage = 40, 1                   
animtype = Light                 
guardflag = MA                   
hitflag = MAF       
givepower = -20               
priority = 3, Hit                
pausetime = 0, 9                
sparkno = S7000                      
sparkxy = -10, -76               
hitsound = S5,9
guardsound = S8,11               
ground.type = High               
ground.slidetime = 5             
ground.hittime  = 8             
ground.velocity = -6             
airguard.velocity = -1.9,-.8   
air.type = High                  
air.velocity = -1.4,-3           
air.hittime = 8  

[State 5001, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5005 + GetHitVar(animtype) + (GetHitVar(groundtype)=2)*10

[State 5001, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5001, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5001, 5]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 5001, 6]
type = ChangeState
trigger1 = HitOver
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Crouch get-hit (knocked back)
[Statedef 5011]
type    = C
movetype= H
physics = C

[State 5011, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5011, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA                     
damage = 40, 1                 
animtype = Light                 
guardflag = MA                   
hitflag = MAF     
givepower = -20                 
priority = 3, Hit                
pausetime = 0, 9                
sparkno = S7000                      
sparkxy = -10, -76               
hitsound = S5,9
guardsound = S8,11              
ground.type = High               
ground.slidetime = 5             
ground.hittime  = 8             
ground.velocity = -6             
airguard.velocity = -1.9,-.8   
air.type = High                  
air.velocity = -1.4,-3           
air.hittime = 8  

[State 5011, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
value = 5025 + GetHitVar(animtype)

[State 5011, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5011, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5011, 5]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 5011, 6]
type = ChangeState
trigger1 = HitOver
value = 11
ctrl = 1
;---------------------------------------------------------------------------
; Downed get-hit (lying down)
[Statedef 5110]
type    = L
movetype= H
physics = N

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !Sysfvar(0)
value = F7, (sysvar(1) > Const720p(20)) + (sysvar(1) > Const720p(56))

[State 5110, 7]
type = Explod
trigger1 = Time = 0
trigger1 = !Sysfvar(0)
anim = F(60 + (sysvar(1) > Const720p(20)) + (sysvar(1) > Const720p(56)))
pos = 0, 0
sprpriority = ifelse (sysvar(1) <= Const720p(56), -10, 10)

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = Sysfvar(0) ;Sysfvar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = Sysfvar(0) ;Sysfvar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = Sysfvar(0) ;Sysfvar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 12]
type = VarSet
trigger1 = Sysfvar(0)
trigger1 = Time = 0
sysfvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110, 14] ;Friction
type = VelSet
trigger1 = abs(Vel x) < Const(movement.down.friction.threshold)
persistent = 0
x = 0

[State 5110, 15]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 5110, 16]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

[State 5110, VarSet]
type = VarSet
Trigger1 = prevstateno != 3054
trigger1 = 1
fv = 5
value = time*45

 
[State 5110, AngleDraw]
type = AngleDraw
Trigger1 = prevstateno != 3054
trigger1 = 1
value = fvar(5)


;---------------------------------------------------------------------------
; Downed get-hit (getting up)
[Statedef 5120]
type    = L
movetype= I
physics = N

[State 5120, 1a] ;Get up anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5111,5119]
trigger2 = !SelfAnimExist(5120 + (anim % 10))
value = 5120

[State 5120, 1b] ;Get up anim (for hit up/diag-up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5111,5119]
trigger1 = SelfAnimExist(5120 + (anim % 10))
value = 5120 + (anim % 10)

[State 191, Pos]
type = posset
trigger1 = animelem = 7
y = -360

[State 191]
type = velset
trigger1 = animelemtime(1) < 0
y = 2

[State 191]
type = velset
trigger1 = animelemtime(8) < 0
y = 15.5

[State 191]
type = velset
trigger1 = animelemtime(9) >= 0
y = 0

[State 191]
type = posset
trigger1 = animelemtime(9) >= 0
y = 0

[State 5120, 2]
type = VelSet
trigger1 = Time = 0
x = 0

[State 5120, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5120, 4]
type = HitFallSet
trigger1 = AnimTime = 0
value = 1

[State 5120, 5] ;Can't be thrown right after getting up
type = NotHitBy
trigger1 = AnimTime = 0
value = , NT,ST,HT
time = 23

[State 5120, 6] ;Can't be hit right after getting up (short time)
type = NotHitBy
trigger1 = AnimTime = 0
value2 = SCA
time = 23

[State 5120, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 5120, Offset]
type = Offset
trigger1 = 1
x = 0
y = -45


[State 5120, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*25

 
[State 5120, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


;---------------------------------------------------------------------------
; Downed get-hit (lying defeated)
[Statedef 5150]
type    = L
movetype= H
physics = N
sprpriority = -3
ctrl = 0

[State 3054, AssertSpecial]
type = AssertSpecial
trigger1 = prevstateno = 3054
flag = noshadow

[State 3054, SprPriority]
type = SprPriority
trigger1 = prevstateno = 3054
value = -1

[State 3054, 2] ;Don't move.
type = VelSet
trigger1 = prevstateno = 3054
trigger1 = 1
x = 0
y = 0

[State 3054, 3] ;And stay grounded, please.
type = PosSet
trigger1 = prevstateno = 3054
trigger1 = 1
y = 0

[State 3054, 4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5150, 1]
type = ChangeAnim2
trigger1 = prevstateno = 3054
Trigger1 = time = 0
value = 6203

[State 5150, AngleDraw]
type = AngleDraw
trigger1 = prevstateno = 3054
trigger1 = 1
value = 1
scale = 1, 1


[State 5150, 1] ;Normal anim
type = ChangeAnim
triggerall = prevstateno != 3054
triggerall = Time = 0
triggerall = SelfAnimExist(5140)
trigger1 = (anim != [5111,5119]) && (anim != [5171,5179])
trigger2 = !SelfAnimExist(5140 + (anim % 10))
value = 5140

[State 5150, 3] ;Hit up type anim
type = ChangeAnim
triggerall = prevstateno != 3054
trigger1 = Time = 0
trigger1 = (anim = [5111,5119]) || (anim = [5171,5179])
trigger1 = SelfAnimExist(5140 + (anim % 10))
value = 5140 + (anim % 10)

[State 5150, 4] ;Match over anim
type = ChangeAnim
triggerall = prevstateno != 3054
persistent = 0
;trigger1 = Time = 0
trigger1 = MatchOver = 1
trigger1 = Anim = [5140,5149]
trigger1 = SelfAnimExist(anim+10)
value = anim+10

[State 5150, 5] ;Switch to 5110 if liedead anim does not exist
type = ChangeAnim
triggerall = prevstateno != 3054
trigger1 = Time = 0
trigger1 = Anim != [5140,5159]
trigger1 = Anim != [5110,5119]
value = 5110

[State 5150, 6] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5150, 7] ;Friction
type = VelSet
trigger1 = abs(Vel x) < Const(movement.down.friction.threshold)
persistent = 0
x = 0

[State 5150, 8]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5150, VarSet]
type = VarSet
triggerall = prevstateno != 3054
trigger1 = 1
fv = 5
value = time*45

 
[State 5150, AngleDraw]
type = AngleDraw
triggerall = prevstateno != 3054
trigger1 = 1
value = fvar(5)


;---------------------------------------------------------------------------
; Downed get-hit (bounce off ground)
[Statedef 5101]
type    = L
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 3]
type = HitFallVel
trigger1 = Time = 0

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = Const(movement.down.bounce.offset.y)

[State 5101, 5]
type = PosAdd
trigger1 = Time = 0
x = Const(movement.down.bounce.offset.x)

[State 5101, 6] ;Acceleration
type = VelAdd
trigger1 = 1
y = Const(movement.down.bounce.yaccel)

[State 5101, 7] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= Const(movement.down.bounce.groundlevel)
type = ChangeState
value = 5110


[State 5101, VarSet]
type = VarSet
trigger1 = 1
fv = 5
value = time*(-45)

 
[State 5101, AngleDraw]
type = AngleDraw
trigger1 = 1
value = fvar(5)


;---------------------------------------------------------------------------
; Continue screen animation
[Statedef 5500]
type = S
ctrl = 0
anim = 5300
velset = 0,0

[State 5500, 1] ;Use continue animation if available
type = ChangeAnim
trigger1 = time = 0
trigger1 = SelfAnimExist(5500)
value = 5500

[State 5500, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 5,8
loop = 1
channel = 3
ignorehitpause = 1

;---------------------------------------------------------------------------
; Initialize (at the start of the round)
[Statedef 5900]
type = S

[State 5900, 1] ;Clear all int variables
type = VarRangeSet
trigger1 = roundsexisted = 0
value = 0

[State 5900, 2] ;Clear all float variables
type = VarRangeSet
trigger1 = roundsexisted = 0
fvalue = 0

[State 5900, 3] ;Change palette
type = RemapPal
trigger1 = 1
source = 1,1
dest = 1,palno

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger1 = random < 420 
trigger1 = roundsexisted > 0
value = S5,31
volumescale = 230

[State 5900, 4] ;Intro for round 1
type = ChangeState
trigger1 = roundno = 1
trigger2 = teammode = turns
value = 190

[State 5900, 5] ;All other rounds
type = ChangeState
trigger1 = 1
value = 0


;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------

[Statedef -2]

[State 0, NotHitBy]
type = NotHitBy
;triggerall = stateno != 1
trigger1 = palno = 11
trigger2 = palno = 12
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, Helper]
type = Helper
trigger1 = numhelper(2) = 0
trigger1 = roundstate = 2
trigger1 = palno = 11
trigger2 = numhelper(2) = 0
trigger2 = roundstate = 2
trigger2 = palno = 12
helpertype = normal ;player
name = "Garbage Blocks"
ID = 2
stateno = 2
pos = 0,10
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 0, CtrlSet]
type = CtrlSet
triggerall = roundstate <= 2
trigger1 = palno = 11
trigger2 = palno = 12
value = 0


;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]

;[State -3, Explod]
;type = Explod
;trigger1 = numexplod(5151) = 0
;trigger1 = Lose
;trigger1 = p2life < 201
;trigger1 = roundstate = 4
;anim = 5151
;ID = 5151
;pos = 0,0
;postype = left
;facing = 1
;vfacing = 1
;bindtime = -1
;removetime = 544
;pausemovetime = 65535
;supermovetime = 65535
;scale = 0.5, 0.5
;sprpriority = 5
;ownpal = 1

[State -3, AttackMulSet]
type = AttackMulSet
trigger1 = enemy, authorname = "Rakurai"
trigger2 = enemy, authorname = "Unkoman"
value = 15.3

[State -3, AttackMulSet]
type = AttackMulSet
trigger1 = enemy, authorname = "KAZ"
value = 3.5

[State 0, LifeAdd]
type = LifeAdd
trigger1 = enemy, authorname = "muko"
trigger2 = p2name = "dc_Irene"
trigger3 = p4name = "dc_Irene"
trigger4 = p2name = "China Kohaku" ;I guess you could say the cancer is "incurable." Get it?
trigger5 = p4name = "China Kohaku" ;I guess you could say the cancer is "incurable." Get it?
value = 1
absolute = 0


[State -2, NotHitBy]
type = NotHitBy
triggerall = enemy, authorname = "gokurakusyugisya"
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;value2 = S,NA
time = 1000
;ignorehitpause = 
;persistent = 


[State -3]
type = Explod
trigger1 = numexplod(5152) = 0
trigger1 = P2Life < 201
trigger1 = Lose
anim = 5152
ID = 5152
pos = 160,150
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
pausemovetime = 65535
supermovetime = 65535
scale = 0.5, 0.5
sprpriority = 5
ownpal = 1

[State -3]
type = BGPalFX
trigger1 = Lose
trigger1 = P2life < 201
time = -1
color = 0

[State -3]
type = AllPalFX
trigger1 = Lose
trigger1 = P2life < 201
time = -1
color = 0

[State -3]
type = PlaySnd
trigger1 = numexplod(5152) = 1
trigger1 = time = 23
value = 5, 26

;[State -3]
;type = PlaySnd
;trigger1 = numexplod(5151) = 1
;trigger1 = time = 268
;trigger1 = roundstate = 4
;value = 5, 26

;[State -3, Sad]
;type = PlaySnd
;trigger1 = numexplod(5151) = 1
;trigger1 = time = 1
;trigger1 = roundstate = 4
;value = 5,8

[State -3, AssertSpecial]
type = AssertSpecial
trigger1 = numexplod(5151) = 1 && time = [0,509]
flag = roundnotover

[State -3]
type = PlaySnd
trigger1 = stateno = 5120
TRIGGER1 = time = 1 
value = 10, random%25

[State -3]
type = PlaySnd
triggerall = alive
trigger1 = (stateno = 5000) || (stateno = 5010) || (stateno = 5020) || (stateno = 5070)
trigger1 = time = 0
trigger2 = (stateno != 5000) && (stateno != 5010) && (stateno != 5020) && (stateno != 5070)
trigger2 = stateno != [120,160]
trigger2 = gethitvar(damage)
value = 9, random%24
channel = 0

[State -3, AssertSpecial]
type = AssertSpecial
trigger1 = fvar(19) > 1
flag = nomusic

[State -3, Helper]
type = Helper
triggerall = numhelper(1915) < 1
trigger1 = Anim != 183
trigger1 = fvar(19) > 1
helpertype = normal
name = "Duane"
ID = 1915
stateno = 1915
pos = 30,-10
postype = p1
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 1.5
size.yscale = 1.5

[State -3, VarSet]
type = VarSet
trigger1 = Roundstate = 1
fv = 0
value = P2Life

[State -3, AttackMulSet]
type = AttackMulSet
trigger1 = numhelper(1915) = 1
trigger1 = fvar(0) > 5799
value = 15.3

[State -3, AttackMulSet]
type = AttackMulSet
triggerall = enemy, authorname != "Rakurai"
triggerall = enemy, authorname != "Unkoman"
trigger1 = numhelper(1915) = 0
trigger1 = fvar(0) > 5799
value = 10.3

[State -3, AttackMulSet]
type = AttackMulSet
triggerall = enemy, authorname != "Rakurai"
triggerall = enemy, authorname != "Unkoman"
trigger1 = numhelper(1915) = 1
trigger1 = fvar(0) < 5799
trigger1 = fvar(0) > 4799
value = 5.6

[State -3, AttackMulSet]
type = AttackMulSet
triggerall = enemy, authorname != "Rakurai"
triggerall = enemy, authorname != "Unkoman"
trigger1 = numhelper(1915) = 0
trigger1 = fvar(0) < 5799
trigger1 = fvar(0) > 4799
value = 5.3

[State -3, AttackMulSet]
type = AttackMulSet
triggerall = enemy, authorname != "Rakurai"
triggerall = enemy, authorname != "Unkoman"
trigger1 = numhelper(1915) = 1
trigger1 = fvar(0) < 4799
trigger1 = fvar(0) > 3799
value = 4.6

[State -3, AttackMulSet]
type = AttackMulSet
triggerall = enemy, authorname != "Rakurai"
triggerall = enemy, authorname != "Unkoman"
trigger1 = numhelper(1915) = 0
trigger1 = fvar(0) < 4799
trigger1 = fvar(0) > 3799
value = 4.3

[State -3, AttackMulSet]
type = AttackMulSet
triggerall = enemy, authorname != "Rakurai"
triggerall = enemy, authorname != "Unkoman"
trigger1 = numhelper(1915) = 1
trigger1 = fvar(0) < 3799
trigger1 = fvar(0) > 2799
value = 3.6

[State -3, AttackMulSet]
type = AttackMulSet
triggerall = enemy, authorname != "Rakurai"
triggerall = enemy, authorname != "Unkoman"
triggerall = enemy, authorname != "KAZ"
trigger1 = numhelper(1915) = 0
trigger1 = fvar(0) < 3799
trigger1 = fvar(0) > 2799
value = 3.3

[State -3, AttackMulSet]
type = AttackMulSet
triggerall = enemy, authorname != "Rakurai"
triggerall = enemy, authorname != "Unkoman"
triggerall = enemy, authorname != "KAZ"
trigger1 = numhelper(1915) = 1
trigger1 = fvar(0) < 2799
trigger1 = fvar(0) > 1799
value = 2.6

[State -3, AttackMulSet]
type = AttackMulSet
triggerall = enemy, authorname != "Rakurai"
triggerall = enemy, authorname != "Unkoman"
triggerall = enemy, authorname != "KAZ"
trigger1 = numhelper(1915) = 0
trigger1 = fvar(0) < 2799
trigger1 = fvar(0) > 1799
value = 2.3

[State -3, AttackMulSet]
type = AttackMulSet
triggerall = enemy, authorname != "Rakurai"
triggerall = enemy, authorname != "Unkoman"
triggerall = enemy, authorname != "KAZ"
trigger1 = numhelper(1915) = 1
trigger1 = fvar(0) < 1799
value = 1.65

[State -3, DefenceMulSet]
type = DefenceMulSet
trigger1 = numhelper(1915) = 1
value = 0.9

[State -3, Power of Duane WACKY EFFECTS]
type = PalFX
trigger1 = numhelper(1915) = 1
time = -1
add = 0,0,100
mul = 256,256,256
sinadd = 0,0,0,15
invertall = 0
color = 256

[State -3, Power of Duane WACKY EFFECTS]
type = AfterImage
triggerall = Time = 1
trigger1 = numhelper(1915) = 1
length = 25
PalBright   =  0, 0, 30
PalContrast =  70, 70, 70
PalAdd      = -10,-10,-10
PalMul      = .50,.50,.85
TimeGap  = 1
FrameGap = 2
Trans = Add
time = -1

[State -3] ;Relabale source of Meter
type = PowerAdd
triggerall = alive
trigger1 = (stateno = 5000) || (stateno = 5010) || (stateno = 5020) || (stateno = 5070)
trigger1 = time = 0
trigger2 = (stateno != 5000) && (stateno != 5010) && (stateno != 5020) && (stateno != 5070)
trigger2 = stateno != [120,160]
trigger2 = gethitvar(damage)
value = gethitvar(damage)

[State -3] ;Relabale source of Meter
type = PowerAdd
triggerall = gethitvar(damage) > 300
triggerall = alive
trigger1 = (stateno = 5000) || (stateno = 5010) || (stateno = 5020) || (stateno = 5070)
trigger1 = time = 0
trigger2 = (stateno != 5000) && (stateno != 5010) && (stateno != 5020) && (stateno != 5070)
trigger2 = stateno != [120,160]
trigger2 = gethitvar(damage)
value = gethitvar(damage)


[State -3, Plot Armor] ;Pseudo Armor.
type = LifeAdd
triggerall = alive
trigger1 = (stateno = 5000) || (stateno = 5010) || (stateno = 5020) || (stateno = 5070)
trigger1 = time = 0
trigger2 = (stateno != 5000) && (stateno != 5010) && (stateno != 5020) && (stateno != 5070)
trigger2 = stateno != [120,160]
trigger2 = gethitvar(damage)
value = gethitvar(damage)*0.25

[State -3, Plot Armor] ;Additional pseudo Armor to soften Mexidamage.
type = LifeAdd
triggerall = alive
triggerall = gethitvar(damage) > 300
trigger1 = (stateno = 5000) || (stateno = 5010) || (stateno = 5020) || (stateno = 5070)
trigger1 = time = 0
trigger2 = (stateno != 5000) && (stateno != 5010) && (stateno != 5020) && (stateno != 5070)
trigger2 = stateno != [120,160]
trigger2 = gethitvar(damage)
value = gethitvar(damage)*0.30

[State -3, StopSnd]
type = StopSnd
trigger1 = prevstateno = 100
trigger2 = stateno != 100
channel = 2
persistent = 1

[State -3, Sad]
type = PlaySnd
triggerall = anim = 5300
trigger1 = time = 1
value = 5,8
loop = 1
channel = 3
ignorehitpause = 1

[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 ;Jump land
trigger2 = stateno = 106 ;Run-back land
value = 40, 0

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 220
trigger2 = prevstateno = 220
id = 221

[State -3 Explod]
type = VarSet
trigger1 = p2name = "Godmars"
trigger1 = Lose
trigger2 = p4name = "Godmars"
trigger2 = Lose
fv = 21    ;fv = 10
value = 1
;ignorehitpause = 
;persistent = 


[State -3, Explod]
type = Explod
trigger1 = fvar(21) > 0 ;Roundsexisted > 0
trigger1 = numexplod(527) < 1
trigger1 = p2name = "Godmars"
trigger1 = roundstate = 2
trigger2 = fvar(21) > 0 ;Roundsexisted > 0
trigger2 = numexplod(527) < 1
trigger2 = p4name = "Godmars"
trigger2 = roundstate = 2
anim = 527
ID = 527
pos = 50,-45
postype = p1  
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 5
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
anim = 527
ID = 527
pos = 50,-45
postype = p1  
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 0
scale = 0.5,0.5
sprpriority = 5
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State -3, RemoveExplod]
type = RemoveExplod
trigger1 = Roundstate = 4
id = 527

